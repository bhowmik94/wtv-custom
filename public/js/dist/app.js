$(document)
  .ready(function () {
    var itemsMainDiv = ('.MultiCarousel');
    var itemsDiv = ('.MultiCarousel-inner');
    var itemWidth = '';

    $('.leftLst, .rightLst')
      .click(function () {
        var condition = $(this)
          .hasClass('leftLst');
        if (condition) {
          click(0, this);
        } else {
          click(1, this);
        }
      });

    ResCarouselSize();


    $(window)
      .resize(function () {
        ResCarouselSize();
      });

    //this function define the size of the items
    function ResCarouselSize() {
      var incno = 0;
      var dataItems = ('data-items');
      var itemClass = ('.item');
      var id = 0;
      var btnParentSb = '';
      var itemsSplit = '';
      var sampwidth = $(itemsMainDiv)
        .width();
      var bodyWidth = $('body')
        .width();
      $(itemsDiv)
        .each(function () {
          id = id + 1;
          var itemNumbers = $(this)
            .find(itemClass).length;
          btnParentSb = $(this)
            .parent()
            .attr(dataItems);
          itemsSplit = btnParentSb.split(',');
          $(this)
            .parent()
            .attr('id', 'MultiCarousel' + id);


          if (bodyWidth >= 1200) {
            incno = itemsSplit[3];
            itemWidth = sampwidth / incno;
          } else if (bodyWidth >= 992) {
            incno = itemsSplit[2];
            itemWidth = sampwidth / incno;
          } else if (bodyWidth >= 768) {
            incno = itemsSplit[1];
            itemWidth = sampwidth / incno;
          } else {
            incno = itemsSplit[0];
            itemWidth = sampwidth / incno;
          }
          $(this)
            .css({
              'transform': 'translateX(0px)',
              'width': itemWidth * itemNumbers
            });
          $(this)
            .find(itemClass)
            .each(function () {
              $(this)
                .outerWidth(itemWidth);
            });

          $('.leftLst')
            .addClass('over');
          $('.rightLst')
            .removeClass('over');

        });
    }


    //this function used to move the items
    function ResCarousel(e, el, s) {
      var leftBtn = ('.leftLst');
      var rightBtn = ('.rightLst');
      var translateXval = '';
      var divStyle = $(el + ' ' + itemsDiv)
        .css('transform');
      var values = divStyle.match(/-?[\d\.]+/g);
      var xds = Math.abs(values[4]);
      if (e == 0) {
        translateXval = parseInt(xds) - parseInt(itemWidth * s);
        $(el + ' ' + rightBtn)
          .removeClass('over');

        if (translateXval <= itemWidth / 2) {
          translateXval = 0;
          $(el + ' ' + leftBtn)
            .addClass('over');
        }
      } else if (e == 1) {
        var itemsCondition = $(el)
          .find(itemsDiv)
          .width() - $(el)
          .width();
        translateXval = parseInt(xds) + parseInt(itemWidth * s);
        $(el + ' ' + leftBtn)
          .removeClass('over');

        if (translateXval >= itemsCondition - itemWidth / 2) {
          translateXval = itemsCondition;
          $(el + ' ' + rightBtn)
            .addClass('over');
        }
      }
      $(el + ' ' + itemsDiv)
        .css('transform', 'translateX(' + -translateXval + 'px)');
    }

    //It is used to get some elements from btn
    function click(ell, ee) {
      var Parent = '#' + $(ee)
        .parent()
        .attr('id');
      var slide = $(Parent)
        .attr('data-slide');
      ResCarousel(ell, Parent, slide);
    }

  });

(function () {
    window.myUtil || (window.myUtil = {})
    window.myUtil.PlayListDeserializer = PlayListDeserializer;
    function PlayListDeserializer(){
    }

    PlayListDeserializer.prototype.deserialize = function(data){
        if(!data) return null;

        var result = {};

        result.paging = {
            page_count: data.paging.page_count,
            item_count: data.paging.item_count
        };
        result.items = []

        if(data.playlists && data.playlists.length){
            for(var i = 0; i < data.playlists.length; i++){
                var playlist = data.playlists[i];
                var duration = Math.round(parseFloat(playlist.total_duration)/60);
                var totalVideos = playlist.video_count;
                let totalVideosText = (totalVideos == null ? '' : totalVideos) + ' video' + (totalVideos > 1 ? 's': '')
                let durationText = duration + ' min' + (duration > 1 ? 's' : '');
                result.items.push({
                    id: playlist.id,
                    title: playlist.title,
                    metas: [
                        {
                            icon: 'sharp-playlist',
                            text: totalVideosText
                        },
                        {
                            icon: 'clock-icon',
                            text: durationText
                        }
                    ],
                    thumbnailUrl: playlist.thumbnail.image_640x360 || playlist.thumbnail.default
                })
            }
        }

        return result;
    }
}());

(function () {
    window.myUtil || (window.myUtil = {})
    window.myUtil.VideoListDeserializer = VideoListDeserializer;
    function VideoListDeserializer(){
    }

    VideoListDeserializer.prototype.deserialize = function(data){
        if(!data) return null;

        var result = {};

        result.paging = {
            page_count: data.paging.page_count,
            item_count: data.paging.item_count
        };
        result.items = [];

        if(data.videos && data.videos.length){
            for(var i = 0; i < data.videos.length; i++){
                var item = data.videos[i];
                var duration = Math.round(parseFloat(item.length)/60);
                let durationText = duration + ' min' + (duration > 1 ? 's' : '');
                result.items.push({
                    id: item.id,
                    title: item.title,
                    description: item.description,
                    metas: [
                        {
                            icon: 'calendar-icon',
                            text: moment.unix(item.added_at).format("DD MMM YYYY")
                        },
                        {
                            icon: 'clock-icon',
                            text: durationText
                        }
                    ],
                    thumbnailUrl: item.thumbnail.image_640x360 || item.thumbnail.default,
                    playIcon: 'sharp-playbutton',
                    thumbnailUrlW1920H1080: item.thumbnail.image_1920x1080 || ''
                })
            }
        }

        return result;
    }
}());

(function () {
    window.myGui || (window.myGui = {})
    window.myGui.HeroCarouselGuiBuilder = HeroCarouselGuiBuilder;

    function HeroCarouselGuiBuilder(carousel){
        if(!carousel) throw Error("no carousel provided");
        this.carousel = carousel;
    }

    HeroCarouselGuiBuilder.prototype.buildContent = function(){
        var carousel = this.carousel;

        var $content = $('<div class="hero-carousel"></div>');
        carousel.$dom.append($content);

        carousel.carousel = $content;
        carousel.carousel.slick({
            infinite: false,
            dots: true
        });

        this.carousel.carousel.on('beforeChange', function(event, slick, currentSlide, nextSlide){
            // for empty data
            if (!slick || !slick.$slides || slick.$slides.length == 0) {
                return;
            }

            let slides = slick.$slides;
            let nextSlideDOM = $(slides[nextSlide].innerHTML);
            let backgroundHiddenInput = nextSlideDOM.find("[name=background-image-url]");
            if (backgroundHiddenInput.length == 1) {
                let backgroundImageUrl = backgroundHiddenInput[0].value;
                // set new background
                $(".body-background img").attr("src", backgroundImageUrl);
            }
        });

    }


    HeroCarouselGuiBuilder.prototype.buildItem = function (item) {
        var self = this;
        var carousel = self.carousel;
        let thumbnailUrl = item.thumbnailUrlW1920H1080 ? item.thumbnailUrlW1920H1080 : item.thumbnailUrl;
        var $item = $('<div class="item"> \
                            <div class="carousel-item-info"> \
                                <img src="'+thumbnailUrl+'" style="display: none;" /> \
                                <input type="hidden" name="background-image-url" value="'+thumbnailUrl+'" /> \
                                <div class="meta"></div> \
                                <div class="title">'+item.title+'</div> \
                                <div class="desc">'+(item.description ? item.description : '')+'</div> \
                                <div class="controls"> \
                                    <a class="btn-play" tabindex="0" href="'+(carousel.options.itemLinkTemplate ? carousel.options.itemLinkTemplate.replace(/{{itemId}}/g, item.id) : 'javascript:void(0)')+'"><i class="sharp-playbutton-white"></i></a> \
                                    <span class="text">Play video</span> \
                                </div> \
                            </div> \
                       </div>');

        if(item.metas && item.metas.length){
            _.forEach(item.metas, function (meta) {
                $item.find('.meta').append($('<span class="meta-item"><i class="'+meta.icon+'"></i>'+meta.text+'</span>'))
            })
        }

        return $item;
    }

}());


(function () {
    window.myGui || (window.myGui = {})
    window.myGui.ListCarouselGuiBuilder = ListCarouselGuiBuilder;

    function ListCarouselGuiBuilder(carousel){
        if(!carousel) throw Error("no carousel provided");
        this.carousel = carousel;
    }

    ListCarouselGuiBuilder.prototype.buildContent = function(){
        // console.log("item carousel init ... ", this.carousel);
        var carousel = this.carousel;

        var $content = $('<section class="play-list"> \
                             <div class="head">'
                                +(carousel.options.icon ? '<span class="icon"><i class="'+carousel.options.icon+'"></i></span>' : '')
                                +'<span class="head-group">'
                                + (carousel.options.title ? '<span class="title">'+carousel.options.title+'</span>' : '')
                                + (carousel.options.subtitle ? '<span class="time">'+(carousel.options.subtitle ? carousel.options.subtitle : '')+'</span>' : '')
                                + '</span> \
                             </div> \
                             <div class="channel-carousel"></div> \
                           </section>');
        carousel.$dom.append($content);

        carousel.carousel = carousel.$dom.find('.channel-carousel')
        var md = new MobileDetect(window.navigator.userAgent);
        carousel.carousel.slick({
            infinite: false,
            dots: true,
            slidesToShow: carousel.slidePageSize || 3,
            slidesToScroll: carousel.slidePageSize || 3,
            // nextArrow: "<button class="slick-next slick-arrow"><svg viewBox="0 0 16 16" id="icon-arrow-right"><path fill="white" d="M5.5 0L4 1.5 10.5 8 4 14.5 5.5 16l8-8-8-8z"></path></svg></button>",
            // prevArrow: "<button class="slick-prev slick-arrow"><svg viewBox="0 0 16 16" id="icon-arrow-left"><path fill="white" d="M10.5 16l1.5-1.5L5.5 8 12 1.5 10.5 0l-8 8 8 8z"></path></svg></button>",
            nextArrow: ' \
                <button class="slick-next slick-arrow"> \
                    <i id="icon-arrow-right" /> \
                </button> \
            ',
            prevArrow: ' \
                <button class="slick-prev slick-arrow"> \
                    <i id="icon-arrow-left" /> \
                </button> \
            ',
            mobileFirst: md.phone() ? true: false,
            responsive: [
                {
                    breakpoint: 480,
                    settings: {
                        slidesToShow: 1,
                        slidesToScroll: 1
                    }
                },
                {
                    breakpoint: 320,
                    settings: {
                        slidesToShow: 1,
                        slidesToScroll: 1
                    }
                }
            ]
        });
    }

    ListCarouselGuiBuilder.prototype.renderItemTitle = function(title){
        if(title && title.length && title.length > 39){
            var str = title.substr(0, 36);
            str += '...';
            return str;
        }else{
            return title;
        }
    }

    ListCarouselGuiBuilder.prototype.buildItem = function (item) {
        var self = this;
        var carousel = self.carousel;
        var $item = $('<div class="item"> \
                            <a href="'+(carousel.options.itemLinkTemplate ? carousel.options.itemLinkTemplate.replace(/{{itemId}}/g, item.id) : 'javascript:void(0)')+'"> \
                            <div class="content-wrap"> \
                                <div class="thumbnail"> \
                                    <div class="image"> \
                                        <img src="'+item.thumbnailUrl+'"> \
                                    </div> \
                                    <div class="icon"><i class="'+(item.playIcon ? item.playIcon : 'sharp-playlist')+'"></i></div> \
                                </div> \
                                <div class="info"> \
                                    <div class="meta"> \
                                        \
                                    </div> \
                                    <div class="title">'+self.renderItemTitle(item.title)+'</div> \
                                </div> \
                            </div> \
                            </a> \
                            <div class="slide-unactive-mask"></div> \
                       </div>');

        if(item.metas && item.metas.length){
            _.forEach(item.metas, function (meta) {
                $item.find('.info .meta').append($('<span class="meta-item"><i class="'+meta.icon+'"></i>'+meta.text+'</span>'))
            })
        }
        // self.carousel.slick('slickAdd', $item);
        return $item;
    }

    ListCarouselGuiBuilder.prototype.updateHeadTitle = function (header) {
        var carousel = this.carousel;
        var $head = carousel.$dom.find('.play-list .head');
        var $title = $head.find('.title');
        if($title && $title.length){
            $title.text(header)
        }else{
            $title = $('<span class="title">'+header+'</span>')
            $head.append($title);
        }
    }

    ListCarouselGuiBuilder.prototype.updateHeadMetas = function (metas) {
        var carousel = this.carousel;
        var carousel = this.carousel;
        var $head = carousel.$dom.find('.play-list .head');
        var $metas = $head.find('.meta');
        if(!$metas || !$metas.length){
            $metas = $('<div class="meta"></div>');
            $head.prepend($metas);
        }
        $metas.html('');
        _.forEach(metas, function (meta) {
            var $meta = $('<span class="meta-item"><i class="'+meta.icon+'"></i>'+meta.text+'</span>');
            $metas.append($meta);
        });
    }

}());


(function () {
    window.myGui || (window.myGui = {})
    window.myGui.ItemCarousel = ItemCarousel;

    function ItemCarousel(options){
        if(!options.selector) throw Error("no selector provided");
        if(!options.guiBuilder) throw Error("no gui builder provided");
        this.options = options;
        this.$dom = $(options.selector);
        this.guiBuilder = new this.options.guiBuilder(this);
        this.items = [];
        this.header = {
            title: '',
            metas: []
        };

    }

    ItemCarousel.prototype.render = function(){
        if(this.rendered) return;
        // console.log("item carousel init1 ... ", this.options.guiBuilder);
        // console.log("item carousel init2 ... ", this.guiBuilder);
        this.guiBuilder.buildContent();
        (typeof this.onRenderCompleted == 'function') && this.onRenderCompleted();
        this.rendered = true;
    }

    ItemCarousel.prototype.addItems = function(items){
        var self = this;
        if(!this.rendered) self.render();
        // this.carousel.slick('slickAdd', html);
        if(items && items.length){
            _.forEach(items, function (item) {
                // console.log(item);
                var existing = _.find(self.items, function(i) { return String(i.id) == String(item.id); });
                if(!existing){
                    self.addItemToCarousel(item);
                    self.items.push(item);
                }
            })
        }
    }
    
    ItemCarousel.prototype.addItemToCarousel = function (item) {
        var self = this;
        var $item = self.guiBuilder.buildItem(item);
        self.carousel.slick('slickAdd', $item);
    }

    ItemCarousel.prototype.updateHeadTitle = function (header) {
        var self = this;
        this.header.title = header;
        self.guiBuilder.updateHeadTitle(header);
    }

    ItemCarousel.prototype.updateHeadMetas = function (metas) {
        var self = this;
        _.forEach(metas, function (meta) {
            var found = _.find(self.header.metas, function (existing) {
                return meta.id && existing.id == meta.id;
            })
            if(found){
                found.icon = meta.icon;
                found.text = meta.text;
            }else{
                self.header.metas.push(meta)
            }
        })
        // console.log("updateHeadMetas", self.header.metas)
        self.guiBuilder.updateHeadMetas(self.header.metas)
    }

}());


var ksdk=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=260)}([function(t,e,n){"use strict";n(13),n(47),n(48),n(59),n(14),n(101),n(9),n(21),n(26);var r=n(23),i=n(62),o=n.n(i),a=n(63),s=n.n(a),u={trace:{label:"trace",value:6},debug:{label:"debug",value:5},info:{label:"info",value:4},error:{label:"error",value:3},warn:{label:"warn",value:2},fatal:{label:"fatal",value:1}};function c(t){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(r.a)(this),this.st=Date.now();var e=s()("ksdn.log")||{},n=e.u,i=e.c,a=e.id,c=e.level;this.id=a||o()(),this.url=n,this.con=i,this.active=!1,this.level=c||u.info}var e,n,i;return e=t,(n=[{key:"_getConfig",value:function(){return{u:this.url,c:this.con,id:this.id,active:this.active,level:this.level}}},{key:"init",value:function(){return this.url?this.attach(this.url):this._getConfig()}},{key:"toggleConsole",value:function(){this.con=!this.con,this.save()}},{key:"attach",value:function(t){var e=this;return this.url=t,window.WebSocket?(this.ws=new WebSocket(this.url+"/"+this.id),this.ws.onopen=function(){e.active=!0,e.ws&&e.ws.send("".concat(e.st,":start:").concat(e.id))},this.ws.onclose=function(){return e.active=!1},this._getConfig()):this._getConfig()}},{key:"resetId",value:function(){this.id=o()(),this.active&&this.detach(),this.init()}},{key:"detach",value:function(){this.ws&&this.ws.close()}},{key:"save",value:function(){var t;t={u:this.url,c:this.con,id:this.id,level:this.level},s()("ksdn.log",t)}},{key:"l",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.m.apply(this,[u.info].concat(e))}},{key:"i",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.m.apply(this,[u.info].concat(e))}},{key:"e",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.m.apply(this,[u.error].concat(e))}},{key:"w",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.m.apply(this,[u.warn].concat(e))}},{key:"f",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.m.apply(this,[u.fatal].concat(e))}},{key:"m",value:function(t){if(this.enabled()||!(t.value<=this.level.value)){for(var e,n=Date.now()-this.st,r="".concat(n,":").concat(t.label),i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(this.active){var s=o.reduce((function(t,e){return t+":"+("object"===c(e)?JSON.stringify(e):e)})),u="".concat(r,":").concat(s);this.ws&&this.ws.send(u)}this.con&&(e=console).log.apply(e,[r].concat(o))}}},{key:"enabled",value:function(){return this.active||this.con}},{key:"setLevel",value:function(t){if(t)switch(t.toLowerCase()){case"trace":this.level=u.trace;break;case"debug":this.level=u.debug;break;case"info":this.level=u.info;break;case"error":this.level=u.error;break;case"warn":this.level=u.warn;break;case"fatal":this.level=u.fatal}}}])&&f(e.prototype,n),i&&f(e,i),t}());l.init(),window.addEventListener("beforeunload",(function(){return l.save()}));e.a=l},function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a}));var r=function(){},i={MP4:"MP4",HLS:"HLS",DASH:"DASH",SMOOTH:"SMOOTH"},o={ECDN10:"10",ECDN11:"11",WEBRTC:"W"},a={Live:"live",VOD:"vod"}},function(t,e,n){var r=n(4),i=n(55).f,o=n(35),a=n(38),s=n(144),u=n(186),c=n(150);t.exports=function(t,e){var n,f,l,h,p,d=t.target,y=t.global,v=t.stat;if(n=y?r:v?r[d]||s(d,{}):(r[d]||{}).prototype)for(f in e){if(h=e[f],l=t.noTargetGet?(p=i(n,f))&&p.value:n[f],!c(y?f:d+(v?".":"#")+f,t.forced)&&void 0!==l){if(typeof h===typeof l)continue;u(h,l)}(t.sham||l&&l.sham)&&o(h,"sham",!0),a(n,f,h,t)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(6))},function(t,e){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(4),i=n(146),o=n(19),a=n(93),s=n(151),u=n(189),c=i("wks"),f=r.Symbol,l=u?f:f&&f.withoutSetter||a;t.exports=function(t){return o(c,t)||(s&&o(f,t)?c[t]=f[t]:c[t]=l("Symbol."+t)),c[t]}},function(t,e,n){"use strict";var r,i=n(246),o=n(16),a=n(4),s=n(11),u=n(19),c=n(99),f=n(35),l=n(38),h=n(24).f,p=n(78),d=n(98),y=n(7),v=n(93),g=a.Int8Array,b=g&&g.prototype,m=a.Uint8ClampedArray,w=m&&m.prototype,E=g&&p(g),x=b&&p(b),O=Object.prototype,T=O.isPrototypeOf,S=y("toStringTag"),k=v("TYPED_ARRAY_TAG"),_=i&&!!d&&"Opera"!==c(a.opera),j=!1,A={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},I=function(t){return s(t)&&u(A,c(t))};for(r in A)a[r]||(_=!1);if((!_||"function"!=typeof E||E===Function.prototype)&&(E=function(){throw TypeError("Incorrect invocation")},_))for(r in A)a[r]&&d(a[r],E);if((!_||!x||x===O)&&(x=E.prototype,_))for(r in A)a[r]&&d(a[r].prototype,x);if(_&&p(w)!==x&&d(w,x),o&&!u(x,S))for(r in j=!0,h(x,S,{get:function(){return s(this)?this[k]:void 0}}),A)a[r]&&f(a[r],k,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:_,TYPED_ARRAY_TAG:j&&k,aTypedArray:function(t){if(I(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(d){if(T.call(E,t))return t}else for(var e in A)if(u(A,r)){var n=a[e];if(n&&(t===n||T.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(o){if(n)for(var r in A){var i=a[r];i&&u(i.prototype,t)&&delete i.prototype[t]}x[t]&&!n||l(x,t,n?e:_&&b[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(o){if(d){if(n)for(r in A)(i=a[r])&&u(i,t)&&delete i[t];if(E[t]&&!n)return;try{return l(E,t,n?e:_&&g[t]||e)}catch(t){}}for(r in A)!(i=a[r])||i[t]&&!n||l(i,t,e)}},isView:function(t){var e=c(t);return"DataView"===e||u(A,e)},isTypedArray:I,TypedArray:E,TypedArrayPrototype:x}},function(t,e,n){var r=n(155),i=n(38),o=n(263);r||i(Object.prototype,"toString",o,{unsafe:!0})},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}},function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},function(t,e,n){var r,i,o;i=[n(397)],void 0===(o="function"===typeof(r=function(t){"use strict";var e=function(t,n,i){if("undefined"===typeof t&&(t=e.DEFAULT_CAPACITY),"undefined"===typeof n&&(n=e.DEFAULT_ENDIAN),"undefined"===typeof i&&(i=e.DEFAULT_NOASSERT),!i){if((t|=0)<0)throw RangeError("Illegal capacity");n=!!n,i=!!i}this.buffer=0===t?r:new ArrayBuffer(t),this.view=0===t?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=t,this.littleEndian=n,this.noAssert=i};e.VERSION="5.0.1",e.LITTLE_ENDIAN=!0,e.BIG_ENDIAN=!1,e.DEFAULT_CAPACITY=16,e.DEFAULT_ENDIAN=e.BIG_ENDIAN,e.DEFAULT_NOASSERT=!1,e.Long=t||null;var n=e.prototype;n.__isByteBuffer__,Object.defineProperty(n,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var r=new ArrayBuffer(0),i=String.fromCharCode;function o(t){var e=0;return function(){return e<t.length?t.charCodeAt(e++):null}}function a(){var t=[],e=[];return function(){if(0===arguments.length)return e.join("")+i.apply(String,t);t.length+arguments.length>1024&&(e.push(i.apply(String,t)),t.length=0),Array.prototype.push.apply(t,arguments)}}function s(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,f=-7,l=n?i-1:0,h=n?-1:1,p=t[e+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=s;f>0;o=256*o+t[e+l],l+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=r;f>0;a=256*a+t[e+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)}function u(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(e*u-1)*Math.pow(2,i),a+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*y}e.accessor=function(){return Uint8Array},e.allocate=function(t,n,r){return new e(t,n,r)},e.concat=function(t,n,r,i){"boolean"!==typeof n&&"string"===typeof n||(i=r,r=n,n=void 0);for(var o,a=0,s=0,u=t.length;s<u;++s)e.isByteBuffer(t[s])||(t[s]=e.wrap(t[s],n)),(o=t[s].limit-t[s].offset)>0&&(a+=o);if(0===a)return new e(0,r,i);var c,f=new e(a,r,i);for(s=0;s<u;)(o=(c=t[s++]).limit-c.offset)<=0||(f.view.set(c.view.subarray(c.offset,c.limit),f.offset),f.offset+=o);return f.limit=f.offset,f.offset=0,f},e.isByteBuffer=function(t){return!0===(t&&t.__isByteBuffer__)},e.type=function(){return ArrayBuffer},e.wrap=function(t,r,i,o){if("string"!==typeof r&&(o=i,i=r,r=void 0),"string"===typeof t)switch("undefined"===typeof r&&(r="utf8"),r){case"base64":return e.fromBase64(t,i);case"hex":return e.fromHex(t,i);case"binary":return e.fromBinary(t,i);case"utf8":return e.fromUTF8(t,i);case"debug":return e.fromDebug(t,i);default:throw Error("Unsupported encoding: "+r)}if(null===t||"object"!==typeof t)throw TypeError("Illegal buffer");var a;if(e.isByteBuffer(t))return(a=n.clone.call(t)).markedOffset=-1,a;if(t instanceof Uint8Array)a=new e(0,i,o),t.length>0&&(a.buffer=t.buffer,a.offset=t.byteOffset,a.limit=t.byteOffset+t.byteLength,a.view=new Uint8Array(t.buffer));else if(t instanceof ArrayBuffer)a=new e(0,i,o),t.byteLength>0&&(a.buffer=t,a.offset=0,a.limit=t.byteLength,a.view=t.byteLength>0?new Uint8Array(t):null);else{if("[object Array]"!==Object.prototype.toString.call(t))throw TypeError("Illegal buffer");(a=new e(t.length,i,o)).limit=t.length;for(var s=0;s<t.length;++s)a.view[s]=t[s]}return a},n.writeBitSet=function(t,e){var n="undefined"===typeof e;if(n&&(e=this.offset),!this.noAssert){if(!(t instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var r,i=e,o=t.length,a=o>>3,s=0;for(e+=this.writeVarint32(o,e);a--;)r=1&!!t[s++]|(1&!!t[s++])<<1|(1&!!t[s++])<<2|(1&!!t[s++])<<3|(1&!!t[s++])<<4|(1&!!t[s++])<<5|(1&!!t[s++])<<6|(1&!!t[s++])<<7,this.writeByte(r,e++);if(s<o){var u=0;for(r=0;s<o;)r|=(1&!!t[s++])<<u++;this.writeByte(r,e++)}return n?(this.offset=e,this):e-i},n.readBitSet=function(t){var e="undefined"===typeof t;e&&(t=this.offset);var n,r=this.readVarint32(t),i=r.value,o=i>>3,a=0,s=[];for(t+=r.length;o--;)n=this.readByte(t++),s[a++]=!!(1&n),s[a++]=!!(2&n),s[a++]=!!(4&n),s[a++]=!!(8&n),s[a++]=!!(16&n),s[a++]=!!(32&n),s[a++]=!!(64&n),s[a++]=!!(128&n);if(a<i){var u=0;for(n=this.readByte(t++);a<i;)s[a++]=!!(n>>u++&1)}return e&&(this.offset=t),s},n.readBytes=function(t,e){var n="undefined"===typeof e;if(n&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+t+") <= "+this.buffer.byteLength)}var r=this.slice(e,e+t);return n&&(this.offset+=t),r},n.writeBytes=n.append,n.writeInt8=function(t,e){var n="undefined"===typeof e;if(n&&(e=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=1,this.view[e]=t,n&&(this.offset+=1),this},n.writeByte=n.writeInt8,n.readInt8=function(t){var e="undefined"===typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var n=this.view[t];return 128===(128&n)&&(n=-(255-n+1)),e&&(this.offset+=1),n},n.readByte=n.readInt8,n.writeUint8=function(t,e){var n="undefined"===typeof e;if(n&&(e=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=1,this.view[e]=t,n&&(this.offset+=1),this},n.writeUInt8=n.writeUint8,n.readUint8=function(t){var e="undefined"===typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var n=this.view[t];return e&&(this.offset+=1),n},n.readUInt8=n.readUint8,n.writeInt16=function(t,e){var n="undefined"===typeof e;if(n&&(e=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=2,this.littleEndian?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),n&&(this.offset+=2),this},n.writeShort=n.writeInt16,n.readInt16=function(t){var e="undefined"===typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[t],n|=this.view[t+1]<<8):(n=this.view[t]<<8,n|=this.view[t+1]),32768===(32768&n)&&(n=-(65535-n+1)),e&&(this.offset+=2),n},n.readShort=n.readInt16,n.writeUint16=function(t,e){var n="undefined"===typeof e;if(n&&(e=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=2,this.littleEndian?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),n&&(this.offset+=2),this},n.writeUInt16=n.writeUint16,n.readUint16=function(t){var e="undefined"===typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[t],n|=this.view[t+1]<<8):(n=this.view[t]<<8,n|=this.view[t+1]),e&&(this.offset+=2),n},n.readUInt16=n.readUint16,n.writeInt32=function(t,e){var n="undefined"===typeof e;if(n&&(e=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=4,this.littleEndian?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),n&&(this.offset+=4),this},n.writeInt=n.writeInt32,n.readInt32=function(t){var e="undefined"===typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0):(n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0),n|=0,e&&(this.offset+=4),n},n.readInt=n.readInt32,n.writeUint32=function(t,e){var n="undefined"===typeof e;if(n&&(e=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=4,this.littleEndian?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),n&&(this.offset+=4),this},n.writeUInt32=n.writeUint32,n.readUint32=function(t){var e="undefined"===typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0):(n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0),e&&(this.offset+=4),n},n.readUInt32=n.readUint32,t&&(n.writeInt64=function(e,n){var r="undefined"===typeof n;if(r&&(n=this.offset),!this.noAssert){if("number"===typeof e)e=t.fromNumber(e);else if("string"===typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"===typeof e?e=t.fromNumber(e):"string"===typeof e&&(e=t.fromString(e)),n+=8;var i=this.buffer.byteLength;n>i&&this.resize((i*=2)>n?i:n),n-=8;var o=e.low,a=e.high;return this.littleEndian?(this.view[n+3]=o>>>24&255,this.view[n+2]=o>>>16&255,this.view[n+1]=o>>>8&255,this.view[n]=255&o,n+=4,this.view[n+3]=a>>>24&255,this.view[n+2]=a>>>16&255,this.view[n+1]=a>>>8&255,this.view[n]=255&a):(this.view[n]=a>>>24&255,this.view[n+1]=a>>>16&255,this.view[n+2]=a>>>8&255,this.view[n+3]=255&a,n+=4,this.view[n]=o>>>24&255,this.view[n+1]=o>>>16&255,this.view[n+2]=o>>>8&255,this.view[n+3]=255&o),r&&(this.offset+=8),this},n.writeLong=n.writeInt64,n.readInt64=function(e){var n="undefined"===typeof e;if(n&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=0,i=0;this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0,e+=4,i=this.view[e+2]<<16,i|=this.view[e+1]<<8,i|=this.view[e],i+=this.view[e+3]<<24>>>0):(i=this.view[e+1]<<16,i|=this.view[e+2]<<8,i|=this.view[e+3],i+=this.view[e]<<24>>>0,e+=4,r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0);var o=new t(r,i,!1);return n&&(this.offset+=8),o},n.readLong=n.readInt64,n.writeUint64=function(e,n){var r="undefined"===typeof n;if(r&&(n=this.offset),!this.noAssert){if("number"===typeof e)e=t.fromNumber(e);else if("string"===typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"===typeof e?e=t.fromNumber(e):"string"===typeof e&&(e=t.fromString(e)),n+=8;var i=this.buffer.byteLength;n>i&&this.resize((i*=2)>n?i:n),n-=8;var o=e.low,a=e.high;return this.littleEndian?(this.view[n+3]=o>>>24&255,this.view[n+2]=o>>>16&255,this.view[n+1]=o>>>8&255,this.view[n]=255&o,n+=4,this.view[n+3]=a>>>24&255,this.view[n+2]=a>>>16&255,this.view[n+1]=a>>>8&255,this.view[n]=255&a):(this.view[n]=a>>>24&255,this.view[n+1]=a>>>16&255,this.view[n+2]=a>>>8&255,this.view[n+3]=255&a,n+=4,this.view[n]=o>>>24&255,this.view[n+1]=o>>>16&255,this.view[n+2]=o>>>8&255,this.view[n+3]=255&o),r&&(this.offset+=8),this},n.writeUInt64=n.writeUint64,n.readUint64=function(e){var n="undefined"===typeof e;if(n&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=0,i=0;this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0,e+=4,i=this.view[e+2]<<16,i|=this.view[e+1]<<8,i|=this.view[e],i+=this.view[e+3]<<24>>>0):(i=this.view[e+1]<<16,i|=this.view[e+2]<<8,i|=this.view[e+3],i+=this.view[e]<<24>>>0,e+=4,r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0);var o=new t(r,i,!0);return n&&(this.offset+=8),o},n.readUInt64=n.readUint64),n.writeFloat32=function(t,e){var n="undefined"===typeof e;if(n&&(e=this.offset),!this.noAssert){if("number"!==typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=4,u(this.view,t,e,this.littleEndian,23,4),n&&(this.offset+=4),this},n.writeFloat=n.writeFloat32,n.readFloat32=function(t){var e="undefined"===typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var n=s(this.view,t,this.littleEndian,23,4);return e&&(this.offset+=4),n},n.readFloat=n.readFloat32,n.writeFloat64=function(t,e){var n="undefined"===typeof e;if(n&&(e=this.offset),!this.noAssert){if("number"!==typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=8;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=8,u(this.view,t,e,this.littleEndian,52,8),n&&(this.offset+=8),this},n.writeDouble=n.writeFloat64,n.readFloat64=function(t){var e="undefined"===typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var n=s(this.view,t,this.littleEndian,52,8);return e&&(this.offset+=8),n},n.readDouble=n.readFloat64,e.MAX_VARINT32_BYTES=5,e.calculateVarint32=function(t){return(t>>>=0)<128?1:t<16384?2:t<1<<21?3:t<1<<28?4:5},e.zigZagEncode32=function(t){return((t|=0)<<1^t>>31)>>>0},e.zigZagDecode32=function(t){return t>>>1^-(1&t)|0},n.writeVarint32=function(t,n){var r="undefined"===typeof n;if(r&&(n=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var i,o=e.calculateVarint32(t);n+=o;var a=this.buffer.byteLength;for(n>a&&this.resize((a*=2)>n?a:n),n-=o,t>>>=0;t>=128;)i=127&t|128,this.view[n++]=i,t>>>=7;return this.view[n++]=t,r?(this.offset=n,this):o},n.writeVarint32ZigZag=function(t,n){return this.writeVarint32(e.zigZagEncode32(t),n)},n.readVarint32=function(t){var e="undefined"===typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var n,r=0,i=0;do{if(!this.noAssert&&t>this.limit){var o=Error("Truncated");throw o.truncated=!0,o}n=this.view[t++],r<5&&(i|=(127&n)<<7*r),++r}while(0!==(128&n));return i|=0,e?(this.offset=t,i):{value:i,length:r}},n.readVarint32ZigZag=function(t){var n=this.readVarint32(t);return"object"===typeof n?n.value=e.zigZagDecode32(n.value):n=e.zigZagDecode32(n),n},t&&(e.MAX_VARINT64_BYTES=10,e.calculateVarint64=function(e){"number"===typeof e?e=t.fromNumber(e):"string"===typeof e&&(e=t.fromString(e));var n=e.toInt()>>>0,r=e.shiftRightUnsigned(28).toInt()>>>0,i=e.shiftRightUnsigned(56).toInt()>>>0;return 0==i?0==r?n<16384?n<128?1:2:n<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:i<128?9:10},e.zigZagEncode64=function(e){return"number"===typeof e?e=t.fromNumber(e,!1):"string"===typeof e?e=t.fromString(e,!1):!1!==e.unsigned&&(e=e.toSigned()),e.shiftLeft(1).xor(e.shiftRight(63)).toUnsigned()},e.zigZagDecode64=function(e){return"number"===typeof e?e=t.fromNumber(e,!1):"string"===typeof e?e=t.fromString(e,!1):!1!==e.unsigned&&(e=e.toSigned()),e.shiftRightUnsigned(1).xor(e.and(t.ONE).toSigned().negate()).toSigned()},n.writeVarint64=function(n,r){var i="undefined"===typeof r;if(i&&(r=this.offset),!this.noAssert){if("number"===typeof n)n=t.fromNumber(n);else if("string"===typeof n)n=t.fromString(n);else if(!(n&&n instanceof t))throw TypeError("Illegal value: "+n+" (not an integer or Long)");if("number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"===typeof n?n=t.fromNumber(n,!1):"string"===typeof n?n=t.fromString(n,!1):!1!==n.unsigned&&(n=n.toSigned());var o=e.calculateVarint64(n),a=n.toInt()>>>0,s=n.shiftRightUnsigned(28).toInt()>>>0,u=n.shiftRightUnsigned(56).toInt()>>>0;r+=o;var c=this.buffer.byteLength;switch(r>c&&this.resize((c*=2)>r?c:r),r-=o,o){case 10:this.view[r+9]=u>>>7&1;case 9:this.view[r+8]=9!==o?128|u:127&u;case 8:this.view[r+7]=8!==o?s>>>21|128:s>>>21&127;case 7:this.view[r+6]=7!==o?s>>>14|128:s>>>14&127;case 6:this.view[r+5]=6!==o?s>>>7|128:s>>>7&127;case 5:this.view[r+4]=5!==o?128|s:127&s;case 4:this.view[r+3]=4!==o?a>>>21|128:a>>>21&127;case 3:this.view[r+2]=3!==o?a>>>14|128:a>>>14&127;case 2:this.view[r+1]=2!==o?a>>>7|128:a>>>7&127;case 1:this.view[r]=1!==o?128|a:127&a}return i?(this.offset+=o,this):o},n.writeVarint64ZigZag=function(t,n){return this.writeVarint64(e.zigZagEncode64(t),n)},n.readVarint64=function(e){var n="undefined"===typeof e;if(n&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=e,i=0,o=0,a=0,s=0;if(i=127&(s=this.view[e++]),128&s&&(i|=(127&(s=this.view[e++]))<<7,(128&s||this.noAssert&&"undefined"===typeof s)&&(i|=(127&(s=this.view[e++]))<<14,(128&s||this.noAssert&&"undefined"===typeof s)&&(i|=(127&(s=this.view[e++]))<<21,(128&s||this.noAssert&&"undefined"===typeof s)&&(o=127&(s=this.view[e++]),(128&s||this.noAssert&&"undefined"===typeof s)&&(o|=(127&(s=this.view[e++]))<<7,(128&s||this.noAssert&&"undefined"===typeof s)&&(o|=(127&(s=this.view[e++]))<<14,(128&s||this.noAssert&&"undefined"===typeof s)&&(o|=(127&(s=this.view[e++]))<<21,(128&s||this.noAssert&&"undefined"===typeof s)&&(a=127&(s=this.view[e++]),(128&s||this.noAssert&&"undefined"===typeof s)&&(a|=(127&(s=this.view[e++]))<<7,128&s||this.noAssert&&"undefined"===typeof s))))))))))throw Error("Buffer overrun");var u=t.fromBits(i|o<<28,o>>>4|a<<24,!1);return n?(this.offset=e,u):{value:u,length:e-r}},n.readVarint64ZigZag=function(n){var r=this.readVarint64(n);return r&&r.value instanceof t?r.value=e.zigZagDecode64(r.value):r=e.zigZagDecode64(r),r}),n.writeCString=function(t,e){var n="undefined"===typeof e;n&&(e=this.offset);var r,i=t.length;if(!this.noAssert){if("string"!==typeof t)throw TypeError("Illegal str: Not a string");for(r=0;r<i;++r)if(0===t.charCodeAt(r))throw RangeError("Illegal str: Contains NULL-characters");if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}i=f.calculateUTF16asUTF8(o(t))[1],e+=i+1;var a=this.buffer.byteLength;return e>a&&this.resize((a*=2)>e?a:e),e-=i+1,f.encodeUTF16toUTF8(o(t),function(t){this.view[e++]=t}.bind(this)),this.view[e++]=0,n?(this.offset=e,this):i},n.readCString=function(t){var e="undefined"===typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var n,r=t,i=-1;return f.decodeUTF8toUTF16(function(){if(0===i)return null;if(t>=this.limit)throw RangeError("Illegal range: Truncated data, "+t+" < "+this.limit);return 0===(i=this.view[t++])?null:i}.bind(this),n=a(),!0),e?(this.offset=t,n()):{string:n(),length:t-r}},n.writeIString=function(t,e){var n="undefined"===typeof e;if(n&&(e=this.offset),!this.noAssert){if("string"!==typeof t)throw TypeError("Illegal str: Not a string");if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var r,i=e;r=f.calculateUTF16asUTF8(o(t),this.noAssert)[1],e+=4+r;var a=this.buffer.byteLength;if(e>a&&this.resize((a*=2)>e?a:e),e-=4+r,this.littleEndian?(this.view[e+3]=r>>>24&255,this.view[e+2]=r>>>16&255,this.view[e+1]=r>>>8&255,this.view[e]=255&r):(this.view[e]=r>>>24&255,this.view[e+1]=r>>>16&255,this.view[e+2]=r>>>8&255,this.view[e+3]=255&r),e+=4,f.encodeUTF16toUTF8(o(t),function(t){this.view[e++]=t}.bind(this)),e!==i+4+r)throw RangeError("Illegal range: Truncated data, "+e+" == "+(e+4+r));return n?(this.offset=e,this):e-i},n.readIString=function(t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=t,i=this.readUint32(t),o=this.readUTF8String(i,e.METRICS_BYTES,t+=4);return t+=o.length,n?(this.offset=t,o.string):{string:o.string,length:t-r}},e.METRICS_CHARS="c",e.METRICS_BYTES="b",n.writeUTF8String=function(t,e){var n,r="undefined"===typeof e;if(r&&(e=this.offset),!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var i=e;n=f.calculateUTF16asUTF8(o(t))[1],e+=n;var a=this.buffer.byteLength;return e>a&&this.resize((a*=2)>e?a:e),e-=n,f.encodeUTF16toUTF8(o(t),function(t){this.view[e++]=t}.bind(this)),r?(this.offset=e,this):e-i},n.writeString=n.writeUTF8String,e.calculateUTF8Chars=function(t){return f.calculateUTF16asUTF8(o(t))[0]},e.calculateUTF8Bytes=function(t){return f.calculateUTF16asUTF8(o(t))[1]},e.calculateString=e.calculateUTF8Bytes,n.readUTF8String=function(t,n,r){"number"===typeof n&&(r=n,n=void 0);var i="undefined"===typeof r;if(i&&(r=this.offset),"undefined"===typeof n&&(n=e.METRICS_CHARS),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal length: "+t+" (not an integer)");if(t|=0,"number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var o,s=0,u=r;if(n===e.METRICS_CHARS){if(o=a(),f.decodeUTF8(function(){return s<t&&r<this.limit?this.view[r++]:null}.bind(this),(function(t){++s,f.UTF8toUTF16(t,o)})),s!==t)throw RangeError("Illegal range: Truncated data, "+s+" == "+t);return i?(this.offset=r,o()):{string:o(),length:r-u}}if(n===e.METRICS_BYTES){if(!this.noAssert){if("number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+t+") <= "+this.buffer.byteLength)}var c=r+t;if(f.decodeUTF8toUTF16(function(){return r<c?this.view[r++]:null}.bind(this),o=a(),this.noAssert),r!==c)throw RangeError("Illegal range: Truncated data, "+r+" == "+c);return i?(this.offset=r,o()):{string:o(),length:r-u}}throw TypeError("Unsupported metrics: "+n)},n.readString=n.readUTF8String,n.writeVString=function(t,n){var r="undefined"===typeof n;if(r&&(n=this.offset),!this.noAssert){if("string"!==typeof t)throw TypeError("Illegal str: Not a string");if("number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var i,a,s=n;i=f.calculateUTF16asUTF8(o(t),this.noAssert)[1],a=e.calculateVarint32(i),n+=a+i;var u=this.buffer.byteLength;if(n>u&&this.resize((u*=2)>n?u:n),n-=a+i,n+=this.writeVarint32(i,n),f.encodeUTF16toUTF8(o(t),function(t){this.view[n++]=t}.bind(this)),n!==s+i+a)throw RangeError("Illegal range: Truncated data, "+n+" == "+(n+i+a));return r?(this.offset=n,this):n-s},n.readVString=function(t){var n="undefined"===typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=t,i=this.readVarint32(t),o=this.readUTF8String(i.value,e.METRICS_BYTES,t+=i.length);return t+=o.length,n?(this.offset=t,o.string):{string:o.string,length:t-r}},n.append=function(t,n,r){"number"!==typeof n&&"string"===typeof n||(r=n,n=void 0);var i="undefined"===typeof r;if(i&&(r=this.offset),!this.noAssert){if("number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}t instanceof e||(t=e.wrap(t,n));var o=t.limit-t.offset;if(o<=0)return this;r+=o;var a=this.buffer.byteLength;return r>a&&this.resize((a*=2)>r?a:r),r-=o,this.view.set(t.view.subarray(t.offset,t.limit),r),t.offset+=o,i&&(this.offset+=o),this},n.appendTo=function(t,e){return t.append(this,e),this},n.assert=function(t){return this.noAssert=!t,this},n.capacity=function(){return this.buffer.byteLength},n.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},n.clone=function(t){var n=new e(0,this.littleEndian,this.noAssert);return t?(n.buffer=new ArrayBuffer(this.buffer.byteLength),n.view=new Uint8Array(n.buffer)):(n.buffer=this.buffer,n.view=this.view),n.offset=this.offset,n.markedOffset=this.markedOffset,n.limit=this.limit,n},n.compact=function(t,e){if("undefined"===typeof t&&(t=this.offset),"undefined"===typeof e&&(e=this.limit),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!==typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(0===t&&e===this.buffer.byteLength)return this;var n=e-t;if(0===n)return this.buffer=r,this.view=null,this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=0,this;var i=new ArrayBuffer(n),o=new Uint8Array(i);return o.set(this.view.subarray(t,e)),this.buffer=i,this.view=o,this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=n,this},n.copy=function(t,n){if("undefined"===typeof t&&(t=this.offset),"undefined"===typeof n&&(n=this.limit),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!==typeof n||n%1!==0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(t===n)return new e(0,this.littleEndian,this.noAssert);var r=n-t,i=new e(r,this.littleEndian,this.noAssert);return i.offset=0,i.limit=r,i.markedOffset>=0&&(i.markedOffset-=t),this.copyTo(i,0,t,n),i},n.copyTo=function(t,n,r,i){var o,a;if(!this.noAssert&&!e.isByteBuffer(t))throw TypeError("Illegal target: Not a ByteBuffer");if(n=(a="undefined"===typeof n)?t.offset:0|n,r=(o="undefined"===typeof r)?this.offset:0|r,i="undefined"===typeof i?this.limit:0|i,n<0||n>t.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+n+" <= "+t.buffer.byteLength);if(r<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var s=i-r;return 0===s?t:(t.ensureCapacity(n+s),t.view.set(this.view.subarray(r,i),n),o&&(this.offset+=s),a&&(t.offset+=s),this)},n.ensureCapacity=function(t){var e=this.buffer.byteLength;return e<t?this.resize((e*=2)>t?e:t):this},n.fill=function(t,e,n){var r="undefined"===typeof e;if(r&&(e=this.offset),"string"===typeof t&&t.length>0&&(t=t.charCodeAt(0)),"undefined"===typeof e&&(e=this.offset),"undefined"===typeof n&&(n=this.limit),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!==typeof n||n%1!==0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,e<0||e>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+n+" <= "+this.buffer.byteLength)}if(e>=n)return this;for(;e<n;)this.view[e++]=t;return r&&(this.offset=e),this},n.flip=function(){return this.limit=this.offset,this.offset=0,this},n.mark=function(t){if(t="undefined"===typeof t?this.offset:t,!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=t,this},n.order=function(t){if(!this.noAssert&&"boolean"!==typeof t)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!t,this},n.LE=function(t){return this.littleEndian="undefined"===typeof t||!!t,this},n.BE=function(t){return this.littleEndian="undefined"!==typeof t&&!t,this},n.prepend=function(t,n,r){"number"!==typeof n&&"string"===typeof n||(r=n,n=void 0);var i="undefined"===typeof r;if(i&&(r=this.offset),!this.noAssert){if("number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}t instanceof e||(t=e.wrap(t,n));var o=t.limit-t.offset;if(o<=0)return this;var a=o-r;if(a>0){var s=new ArrayBuffer(this.buffer.byteLength+a),u=new Uint8Array(s);u.set(this.view.subarray(r,this.buffer.byteLength),o),this.buffer=s,this.view=u,this.offset+=a,this.markedOffset>=0&&(this.markedOffset+=a),this.limit+=a,r+=a}else new Uint8Array(this.buffer);return this.view.set(t.view.subarray(t.offset,t.limit),r-o),t.offset=t.limit,i&&(this.offset-=o),this},n.prependTo=function(t,e){return t.prepend(this,e),this},n.printDebug=function(t){"function"!==typeof t&&(t=console.log.bind(console)),t(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},n.remaining=function(){return this.limit-this.offset},n.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},n.resize=function(t){if(!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal capacity: "+t+" (not an integer)");if((t|=0)<0)throw RangeError("Illegal capacity: 0 <= "+t)}if(this.buffer.byteLength<t){var e=new ArrayBuffer(t),n=new Uint8Array(e);n.set(this.view),this.buffer=e,this.view=n}return this},n.reverse=function(t,e){if("undefined"===typeof t&&(t=this.offset),"undefined"===typeof e&&(e=this.limit),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!==typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}return t===e?this:(Array.prototype.reverse.call(this.view.subarray(t,e)),this)},n.skip=function(t){if(!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal length: "+t+" (not an integer)");t|=0}var e=this.offset+t;if(!this.noAssert&&(e<0||e>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+t+" <= "+this.buffer.byteLength);return this.offset=e,this},n.slice=function(t,e){if("undefined"===typeof t&&(t=this.offset),"undefined"===typeof e&&(e=this.limit),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!==typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var n=this.clone();return n.offset=t,n.limit=e,n},n.toBuffer=function(t){var e=this.offset,n=this.limit;if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: Not an integer");if(e>>>=0,"number"!==typeof n||n%1!==0)throw TypeError("Illegal limit: Not an integer");if(n>>>=0,e<0||e>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+n+" <= "+this.buffer.byteLength)}if(!t&&0===e&&n===this.buffer.byteLength)return this.buffer;if(e===n)return r;var i=new ArrayBuffer(n-e);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(e,n),0),i},n.toArrayBuffer=n.toBuffer,n.toString=function(t,e,n){if("undefined"===typeof t)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"===typeof t&&(n=e=t="utf8"),t){case"utf8":return this.toUTF8(e,n);case"base64":return this.toBase64(e,n);case"hex":return this.toHex(e,n);case"binary":return this.toBinary(e,n);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+t)}};var c=function(){for(var t={},e=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],n=[],r=0,i=e.length;r<i;++r)n[e[r]]=r;return t.encode=function(t,n){for(var r,i;null!==(r=t());)n(e[r>>2&63]),i=(3&r)<<4,null!==(r=t())?(n(e[63&((i|=r>>4&15)|r>>4&15)]),i=(15&r)<<2,null!==(r=t())?(n(e[63&(i|r>>6&3)]),n(e[63&r])):(n(e[63&i]),n(61))):(n(e[63&i]),n(61),n(61))},t.decode=function(t,e){var r,i,o;function a(t){throw Error("Illegal character code: "+t)}for(;null!==(r=t());)if("undefined"===typeof(i=n[r])&&a(r),null!==(r=t())&&("undefined"===typeof(o=n[r])&&a(r),e(i<<2>>>0|(48&o)>>4),null!==(r=t()))){if("undefined"===typeof(i=n[r])){if(61===r)break;a(r)}if(e((15&o)<<4>>>0|(60&i)>>2),null!==(r=t())){if("undefined"===typeof(o=n[r])){if(61===r)break;a(r)}e((3&i)<<6>>>0|o)}}},t.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)},t}();n.toBase64=function(t,e){if("undefined"===typeof t&&(t=this.offset),"undefined"===typeof e&&(e=this.limit),e|=0,(t|=0)<0||e>this.capacity||t>e)throw RangeError("begin, end");var n;return c.encode(function(){return t<e?this.view[t++]:null}.bind(this),n=a()),n()},e.fromBase64=function(t,n){if("string"!==typeof t)throw TypeError("str");var r=new e(t.length/4*3,n),i=0;return c.decode(o(t),(function(t){r.view[i++]=t})),r.limit=i,r},e.btoa=function(t){return e.fromBinary(t).toBase64()},e.atob=function(t){return e.fromBase64(t).toBinary()},n.toBinary=function(t,e){if("undefined"===typeof t&&(t=this.offset),"undefined"===typeof e&&(e=this.limit),e|=0,(t|=0)<0||e>this.capacity()||t>e)throw RangeError("begin, end");if(t===e)return"";for(var n=[],r=[];t<e;)n.push(this.view[t++]),n.length>=1024&&(r.push(String.fromCharCode.apply(String,n)),n=[]);return r.join("")+String.fromCharCode.apply(String,n)},e.fromBinary=function(t,n){if("string"!==typeof t)throw TypeError("str");for(var r,i=0,o=t.length,a=new e(o,n);i<o;){if((r=t.charCodeAt(i))>255)throw RangeError("illegal char code: "+r);a.view[i++]=r}return a.limit=o,a},n.toDebug=function(t){for(var e,n=-1,r=this.buffer.byteLength,i="",o="",a="";n<r;){if(-1!==n&&(i+=(e=this.view[n])<16?"0"+e.toString(16).toUpperCase():e.toString(16).toUpperCase(),t&&(o+=e>32&&e<127?String.fromCharCode(e):".")),++n,t&&n>0&&n%16===0&&n!==r){for(;i.length<51;)i+=" ";a+=i+o+"\n",i=o=""}n===this.offset&&n===this.limit?i+=n===this.markedOffset?"!":"|":n===this.offset?i+=n===this.markedOffset?"[":"<":n===this.limit?i+=n===this.markedOffset?"]":">":i+=n===this.markedOffset?"'":t||0!==n&&n!==r?" ":""}if(t&&" "!==i){for(;i.length<51;)i+=" ";a+=i+o+"\n"}return t?a:i},e.fromDebug=function(t,n,r){for(var i,o,a=t.length,s=new e((a+1)/3|0,n,r),u=0,c=0,f=!1,l=!1,h=!1,p=!1,d=!1;u<a;){switch(i=t.charAt(u++)){case"!":if(!r){if(l||h||p){d=!0;break}l=h=p=!0}s.offset=s.markedOffset=s.limit=c,f=!1;break;case"|":if(!r){if(l||p){d=!0;break}l=p=!0}s.offset=s.limit=c,f=!1;break;case"[":if(!r){if(l||h){d=!0;break}l=h=!0}s.offset=s.markedOffset=c,f=!1;break;case"<":if(!r){if(l){d=!0;break}l=!0}s.offset=c,f=!1;break;case"]":if(!r){if(p||h){d=!0;break}p=h=!0}s.limit=s.markedOffset=c,f=!1;break;case">":if(!r){if(p){d=!0;break}p=!0}s.limit=c,f=!1;break;case"'":if(!r){if(h){d=!0;break}h=!0}s.markedOffset=c,f=!1;break;case" ":f=!1;break;default:if(!r&&f){d=!0;break}if(o=parseInt(i+t.charAt(u++),16),!r&&(isNaN(o)||o<0||o>255))throw TypeError("Illegal str: Not a debug encoded string");s.view[c++]=o,f=!0}if(d)throw TypeError("Illegal str: Invalid symbol at "+u)}if(!r){if(!l||!p)throw TypeError("Illegal str: Missing offset or limit");if(c<s.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+c+" < "+a)}return s},n.toHex=function(t,e){if(t="undefined"===typeof t?this.offset:t,e="undefined"===typeof e?this.limit:e,!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!==typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}for(var n,r=new Array(e-t);t<e;)(n=this.view[t++])<16?r.push("0",n.toString(16)):r.push(n.toString(16));return r.join("")},e.fromHex=function(t,n,r){if(!r){if("string"!==typeof t)throw TypeError("Illegal str: Not a string");if(t.length%2!==0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,o=t.length,a=new e(o/2|0,n),s=0,u=0;s<o;s+=2){if(i=parseInt(t.substring(s,s+2),16),!r&&(!isFinite(i)||i<0||i>255))throw TypeError("Illegal str: Contains non-hex characters");a.view[u++]=i}return a.limit=u,a};var f=function(){var t={MAX_CODEPOINT:1114111,encodeUTF8:function(t,e){var n=null;for("number"===typeof t&&(n=t,t=function(){return null});null!==n||null!==(n=t());)n<128?e(127&n):n<2048?(e(n>>6&31|192),e(63&n|128)):n<65536?(e(n>>12&15|224),e(n>>6&63|128),e(63&n|128)):(e(n>>18&7|240),e(n>>12&63|128),e(n>>6&63|128),e(63&n|128)),n=null},decodeUTF8:function(t,e){for(var n,r,i,o,a=function(t){t=t.slice(0,t.indexOf(null));var e=Error(t.toString());throw e.name="TruncatedError",e.bytes=t,e};null!==(n=t());)if(0===(128&n))e(n);else if(192===(224&n))null===(r=t())&&a([n,r]),e((31&n)<<6|63&r);else if(224===(240&n))(null===(r=t())||null===(i=t()))&&a([n,r,i]),e((15&n)<<12|(63&r)<<6|63&i);else{if(240!==(248&n))throw RangeError("Illegal starting byte: "+n);(null===(r=t())||null===(i=t())||null===(o=t()))&&a([n,r,i,o]),e((7&n)<<18|(63&r)<<12|(63&i)<<6|63&o)}},UTF16toUTF8:function(t,e){for(var n,r=null;null!==(n=null!==r?r:t());)n>=55296&&n<=57343&&null!==(r=t())&&r>=56320&&r<=57343?(e(1024*(n-55296)+r-56320+65536),r=null):e(n);null!==r&&e(r)},UTF8toUTF16:function(t,e){var n=null;for("number"===typeof t&&(n=t,t=function(){return null});null!==n||null!==(n=t());)n<=65535?e(n):(e(55296+((n-=65536)>>10)),e(n%1024+56320)),n=null},encodeUTF16toUTF8:function(e,n){t.UTF16toUTF8(e,(function(e){t.encodeUTF8(e,n)}))},decodeUTF8toUTF16:function(e,n){t.decodeUTF8(e,(function(e){t.UTF8toUTF16(e,n)}))},calculateCodePoint:function(t){return t<128?1:t<2048?2:t<65536?3:4},calculateUTF8:function(t){for(var e,n=0;null!==(e=t());)n+=e<128?1:e<2048?2:e<65536?3:4;return n},calculateUTF16asUTF8:function(e){var n=0,r=0;return t.UTF16toUTF8(e,(function(t){++n,r+=t<128?1:t<2048?2:t<65536?3:4})),[n,r]}};return t}();return n.toUTF8=function(t,e){if("undefined"===typeof t&&(t=this.offset),"undefined"===typeof e&&(e=this.limit),!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!==typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var n;try{f.decodeUTF8toUTF16(function(){return t<e?this.view[t++]:null}.bind(this),n=a())}catch(n){if(t!==e)throw RangeError("Illegal range: Truncated data, "+t+" != "+e)}return n()},e.fromUTF8=function(t,n,r){if(!r&&"string"!==typeof t)throw TypeError("Illegal str: Not a string");var i=new e(f.calculateUTF16asUTF8(o(t),!0)[1],n,r),a=0;return f.encodeUTF16toUTF8(o(t),(function(t){i.view[a++]=t})),i.limit=a,i},e})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";var r=n(2),i=n(4),o=n(57),a=n(76),s=n(16),u=n(151),c=n(189),f=n(3),l=n(19),h=n(111),p=n(11),d=n(17),y=n(36),v=n(41),g=n(92),b=n(64),m=n(66),w=n(112),E=n(95),x=n(192),O=n(149),T=n(55),S=n(24),k=n(142),_=n(35),j=n(38),A=n(146),I=n(110),C=n(94),P=n(93),R=n(7),L=n(193),N=n(194),D=n(58),U=n(44),M=n(37).forEach,F=I("hidden"),B=R("toPrimitive"),H=U.set,q=U.getterFor("Symbol"),z=Object.prototype,V=i.Symbol,G=o("JSON","stringify"),W=T.f,J=S.f,Y=x.f,Z=k.f,K=A("symbols"),$=A("op-symbols"),X=A("string-to-symbol-registry"),Q=A("symbol-to-string-registry"),tt=A("wks"),et=i.QObject,nt=!et||!et.prototype||!et.prototype.findChild,rt=s&&f((function(){return 7!=m(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=W(z,e);r&&delete z[e],J(t,e,n),r&&t!==z&&J(z,e,r)}:J,it=function(t,e){var n=K[t]=m(V.prototype);return H(n,{type:"Symbol",tag:t,description:e}),s||(n.description=e),n},ot=c?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof V},at=function(t,e,n){t===z&&at($,e,n),d(t);var r=g(e,!0);return d(n),l(K,r)?(n.enumerable?(l(t,F)&&t[F][r]&&(t[F][r]=!1),n=m(n,{enumerable:b(0,!1)})):(l(t,F)||J(t,F,b(1,{})),t[F][r]=!0),rt(t,r,n)):J(t,r,n)},st=function(t,e){d(t);var n=v(e),r=w(n).concat(lt(n));return M(r,(function(e){s&&!ut.call(n,e)||at(t,e,n[e])})),t},ut=function(t){var e=g(t,!0),n=Z.call(this,e);return!(this===z&&l(K,e)&&!l($,e))&&(!(n||!l(this,e)||!l(K,e)||l(this,F)&&this[F][e])||n)},ct=function(t,e){var n=v(t),r=g(e,!0);if(n!==z||!l(K,r)||l($,r)){var i=W(n,r);return!i||!l(K,r)||l(n,F)&&n[F][r]||(i.enumerable=!0),i}},ft=function(t){var e=Y(v(t)),n=[];return M(e,(function(t){l(K,t)||l(C,t)||n.push(t)})),n},lt=function(t){var e=t===z,n=Y(e?$:v(t)),r=[];return M(n,(function(t){!l(K,t)||e&&!l(z,t)||r.push(K[t])})),r};(u||(j((V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=P(t),n=function(t){this===z&&n.call($,t),l(this,F)&&l(this[F],e)&&(this[F][e]=!1),rt(this,e,b(1,t))};return s&&nt&&rt(z,e,{configurable:!0,set:n}),it(e,t)}).prototype,"toString",(function(){return q(this).tag})),j(V,"withoutSetter",(function(t){return it(P(t),t)})),k.f=ut,S.f=at,T.f=ct,E.f=x.f=ft,O.f=lt,L.f=function(t){return it(R(t),t)},s&&(J(V.prototype,"description",{configurable:!0,get:function(){return q(this).description}}),a||j(z,"propertyIsEnumerable",ut,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:V}),M(w(tt),(function(t){N(t)})),r({target:"Symbol",stat:!0,forced:!u},{for:function(t){var e=String(t);if(l(X,e))return X[e];var n=V(e);return X[e]=n,Q[n]=e,n},keyFor:function(t){if(!ot(t))throw TypeError(t+" is not a symbol");if(l(Q,t))return Q[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!s},{create:function(t,e){return void 0===e?m(t):st(m(t),e)},defineProperty:at,defineProperties:st,getOwnPropertyDescriptor:ct}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ft,getOwnPropertySymbols:lt}),r({target:"Object",stat:!0,forced:f((function(){O.f(1)}))},{getOwnPropertySymbols:function(t){return O.f(y(t))}}),G)&&r({target:"JSON",stat:!0,forced:!u||f((function(){var t=V();return"[null]"!=G([t])||"{}"!=G({a:t})||"{}"!=G(Object(t))}))},{stringify:function(t,e,n){for(var r,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=e,(p(e)||void 0!==t)&&!ot(t))return h(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!ot(e))return e}),i[1]=e,G.apply(null,i)}});V.prototype[B]||_(V.prototype,B,V.prototype.valueOf),D(V,"Symbol"),C[F]=!0},function(t,e,n){"use strict";var r=n(41),i=n(152),o=n(97),a=n(44),s=n(153),u=a.set,c=a.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){u(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=c(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";var r=n(2),i=n(205);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(t,e,n){var r=n(3);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var r=n(11);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(4),i=n(203),o=n(205),a=n(35);for(var s in i){var u=r[s],c=u&&u.prototype;if(c&&c.forEach!==o)try{a(c,"forEach",o)}catch(t){c.forEach=o}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(65),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){"use strict";var r=n(160).charAt,i=n(44),o=n(153),a=i.set,s=i.getterFor("String Iterator");o(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=s(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){"use strict";var r=n(2),i=n(37).filter,o=n(117),a=n(49),s=o("filter"),u=a("filter");r({target:"Array",proto:!0,forced:!s||!u},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";n(13),n(47),n(48),n(14),n(9),n(269),n(270),n(271),n(71),n(21),n(26);function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}e.a=function(t){if(!t)throw Error('autobind: "context" argument not specified');var e=!0,n=!1,o=void 0;try{for(var a,s=function(t){var e=[];do{var n=!0,r=!1,i=void 0;try{for(var o,a=Reflect.ownKeys(t)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e.push([t,s])}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}while((t=Reflect.getPrototypeOf(t))&&t!==Object.prototype);return e}(t.constructor.prototype)[Symbol.iterator]();!(e=(a=s.next()).done);e=!0){var u=i(a.value,2),c=u[0],f=u[1];if("constructor"!==f){var l=Reflect.getOwnPropertyDescriptor(c,f);l&&"function"===r(l.value)&&(t[f]=t[f].bind(t))}}}catch(t){n=!0,o=t}finally{try{e||null==s.return||s.return()}finally{if(n)throw o}}return t}},function(t,e,n){var r=n(16),i=n(184),o=n(17),a=n(92),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";var r,i,o,a,s=n(2),u=n(76),c=n(4),f=n(57),l=n(264),h=n(38),p=n(113),d=n(58),y=n(114),v=n(11),g=n(68),b=n(69),m=n(56),w=n(145),E=n(156),x=n(115),O=n(70),T=n(158).set,S=n(265),k=n(266),_=n(267),j=n(201),A=n(268),I=n(44),C=n(150),P=n(7),R=n(159),L=P("species"),N="Promise",D=I.get,U=I.set,M=I.getterFor(N),F=l,B=c.TypeError,H=c.document,q=c.process,z=f("fetch"),V=j.f,G=V,W="process"==m(q),J=!!(H&&H.createEvent&&c.dispatchEvent),Y=C(N,(function(){if(!(w(F)!==String(F))){if(66===R)return!0;if(!W&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!F.prototype.finally)return!0;if(R>=51&&/native code/.test(F))return!1;var t=F.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[L]=e,!(t.then((function(){}))instanceof e)})),Z=Y||!x((function(t){F.all(t).catch((function(){}))})),K=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},$=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;S((function(){for(var i=e.value,o=1==e.state,a=0;r.length>a;){var s,u,c,f=r[a++],l=o?f.ok:f.fail,h=f.resolve,p=f.reject,d=f.domain;try{l?(o||(2===e.rejection&&et(t,e),e.rejection=1),!0===l?s=i:(d&&d.enter(),s=l(i),d&&(d.exit(),c=!0)),s===f.promise?p(B("Promise-chain cycle")):(u=K(s))?u.call(s,h,p):h(s)):p(i)}catch(t){d&&!c&&d.exit(),p(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&Q(t,e)}))}},X=function(t,e,n){var r,i;J?((r=H.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},(i=c["on"+t])?i(r):"unhandledrejection"===t&&_("Unhandled promise rejection",n)},Q=function(t,e){T.call(c,(function(){var n,r=e.value;if(tt(e)&&(n=A((function(){W?q.emit("unhandledRejection",r,t):X("unhandledrejection",t,r)})),e.rejection=W||tt(e)?2:1,n.error))throw n.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){T.call(c,(function(){W?q.emit("rejectionHandled",t):X("rejectionhandled",t,e.value)}))},nt=function(t,e,n,r){return function(i){t(e,n,i,r)}},rt=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,$(t,e,!0))},it=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw B("Promise can't be resolved itself");var i=K(n);i?S((function(){var r={done:!1};try{i.call(n,nt(it,t,r,e),nt(rt,t,r,e))}catch(n){rt(t,r,n,e)}})):(e.value=n,e.state=1,$(t,e,!1))}catch(n){rt(t,{done:!1},n,e)}}};Y&&(F=function(t){b(this,F,N),g(t),r.call(this);var e=D(this);try{t(nt(it,this,e),nt(rt,this,e))}catch(t){rt(this,e,t)}},(r=function(t){U(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(F.prototype,{then:function(t,e){var n=M(this),r=V(O(this,F));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=W?q.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&$(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=D(t);this.promise=t,this.resolve=nt(it,t,e),this.reject=nt(rt,t,e)},j.f=V=function(t){return t===F||t===o?new i(t):G(t)},u||"function"!=typeof l||(a=l.prototype.then,h(l.prototype,"then",(function(t,e){var n=this;return new F((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof z&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return k(F,z.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:Y},{Promise:F}),d(F,N,!1,!0),y(N),o=f(N),s({target:N,stat:!0,forced:Y},{reject:function(t){var e=V(this);return e.reject.call(void 0,t),e.promise}}),s({target:N,stat:!0,forced:u||Y},{resolve:function(t){return k(u&&this===o?F:this,t)}}),s({target:N,stat:!0,forced:Z},{all:function(t){var e=this,n=V(e),r=n.resolve,i=n.reject,o=A((function(){var n=g(e.resolve),o=[],a=0,s=1;E(t,(function(t){var u=a++,c=!1;o.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,o[u]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=V(e),r=n.reject,i=A((function(){var i=g(e.resolve);E(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(t,e,n){var r=n(4),i=n(203),o=n(14),a=n(35),s=n(7),u=s("iterator"),c=s("toStringTag"),f=o.values;for(var l in i){var h=r[l],p=h&&h.prototype;if(p){if(p[u]!==f)try{a(p,u,f)}catch(t){p[u]=f}if(p[c]||a(p,c,l),i[l])for(var d in o)if(p[d]!==o[d])try{a(p,d,o[d])}catch(t){p[d]=o[d]}}}},function(t,e,n){"use strict";n(13),n(22),n(15),n(101),n(72),n(79),n(31),n(32),n(80),n(28),n(18);var r=n(0),i=n(23),o=n(181),a=n.n(o),s=n(85),u=n(88),c=n.n(u),f=n(132),l=n(51),h=n(1);function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=h.a.ECDN10,g=h.a.ECDN11,b=function(t,e){t[e]&&t[e].data&&0===t[e].data.length&&delete t[e]},m=n(63),w=n.n(m),E=n(62),x=n.n(E);function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function T(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S="critical",k=function(t){return Object.getOwnPropertyNames(t).reduce((function(e,n){return e[n]=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){T(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({name:n},t[n]),e}),{})},_=k({canplay:{code:1},canplaythrough:{code:2},complete:{code:3},durationchange:{code:4,metadata:"dur"},emptied:{code:5},ended:{code:6},loadeddata:{code:7},loadedmetadata:{code:8},pause:{code:9},play:{code:10},playing:{code:11},ratechange:{code:12,metadata:"rate"},seeked:{code:13,metadata:"pos"},seeking:{code:14,metadata:"pos"},stalled:{code:15},suspend:{code:16},waiting:{code:17}}),j=k({pageunload:{code:101}});n(47),n(48),n(59),n(127),n(14),n(9),n(71),n(21),n(26);function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n(60);var R=function(t){return t===1/0?-1:1e3*t};function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function N(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var D=function(t,e){var n=e.add,r=e.set,i=e.stop,o=e.start,a=function(){var e=t.duration();e>0&&r({duration:R(e)})},s=function(e){var r=e.name,s=e.code,u=e.metadata;return function(){n(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){N(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({e:s},function(e){switch(e){case"rate":return{rate:t.playbackRate()};case"dur":return{dur:R(t.duration())};case"pos":return{pos:t.currentTime()};default:return}}(u)));var e=_.durationchange,c=_.ended,f=_.canplay,l=_.canplaythrough,h=_.play;switch(r){case e.name:return a();case c.name:return i();case h.name:case f.name:case l.name:return o();default:return}}};a(),Object.getOwnPropertyNames(_).map((function(t){return _[t]})).forEach((function(e){var n=s(e);t.addEventListener(e.name,n)}))};function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var F=function(t,e){var n=e.add,i=e.set,o=e.stop,a=e.start,s=function(){var e=t.duration;e>0&&i({duration:R(e)})},u=function(e){return function(){var i=e.name,u=e.code,c=e.metadata;r.a.i("player event:",e),n(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({e:u},function(e){switch(e){case"rate":return{rate:t.playbackRate};case"dur":return{dur:R(t.duration)};case"pos":return{pos:t.currentTime};default:return}}(c)));var f=_.durationchange,l=_.ended,h=_.canplay,p=_.canplaythrough,d=_.play;switch(i){case f.name:return s();case l.name:return o();case d.name:case h.name:case p.name:return a();default:return}}};s(),Object.getOwnPropertyNames(_).map((function(t){return _[t]})).forEach((function(e){var n=u(e);t.addEventListener(e.name,n)}))},B=n(255);function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var G,W=function(t){return"portal"===t.integration.name},J=function(t){return{general:{playGuid:t},events:{data:[]},detection:{data:[]},priming:{data:[]}}},Y=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(i.a)(this),t.reporters.push(this);var r,o=e||{},a=o.seed,s=o.start,u=o.user,c=o.config;this.user=u,this.config=c||{},this.playGuid=Object(B.a)(a),this.startTime=s||Date.now(),this.storedInfo=((r=w()("ksdn.r"))&&r.browserUserGuid||(r={browserUserGuid:x()()},w()("ksdn.r",r)),r),this.contentSet=!1,this.sdkConfig=n,this.sdkConfig.setReportInterval(this.config.iar);var f=this.storedInfo,l=f.browserUserGuid,h=f.ecdn10,p=f.ecdn11,d=this.sdkConfig,y=d.version,v=d.integration;this.merged=J(),this.pending=q({},J(),{general:q({playGuid:this.playGuid,v:y,browserUserGuid:l},u&&{user:u},{start:this.startTime,integration:v})},h&&{ecdn10:h},{},p&&{ecdn11:p})}var e,n,o;return e=t,(n=[{key:"timestamp",value:function(t){return(t=null==t?Date.now():t)-this.startTime}},{key:"add",value:function(e){if(!this.cleaned){e.t=this.timestamp(e.t);var n=e.status;null!=n&&(e.status=n<100?"timeout":"".concat(n));var i=e.e,o=e.type;if(i){var s=_.durationchange.code;if(W(this.sdkConfig)&&i===s){if(this.ignoreDurationChange)return;this.ignoreDurationChange=!0,e.dur=-1}var u=_.seeking.code;if(i===u){if((a()(this.pending.events.data)||a()(this.merged.events.data)).e===u)return void(this.finalSeeking=e)}else this.finalSeeking&&(this.pending.events.data.push(this.finalSeeking),this.finalSeeking=null);this.pending.events.data.push(e)}else{var c=t.Type,f=c.WEBRTC,l=c.ECDN10,h=c.ECDN11;switch(o){case f:case l:case h:if(!0===e.success&&(r.a.i("a.d",o,e.method,e.v),function(t){var e=w()("ksdn.r");e&&e.browserUserGuid||(e={browserUserGuid:x()()}),t&&(e.lastDetection=t),w()("ksdn.r",e)}({type:o,v:e.v,date:Date.now()})),!1===e.success){r.a.f("a.d.f",o,e.method,e.status);var p=this.storedInfo.lastDetection;p&&(e.lastDetection=p)}this.pending.detection.data.push(e);break;default:this.pending.priming.data.push(e)}}var d=(this.merged,this.pending,{conditionCritical:null,conditionExpedite:null}),y=d.conditionCritical,v=d.conditionExpedite;(!y||!this.flagCritical(y))&&v&&this.expedite(v)}}},{key:"set",value:function(e,n){if(!this.cleaned){W(this.sdkConfig)&&e.duration&&(e.duration=-1),n=n||t.Sections.General;var r=this.merged[n],i=Object.getOwnPropertyNames(e).reduce((function(t,n){return r&&r[n]||(t[n]=e[n]),t}),{});this.pending[n]=Object.assign(i,this.pending[n]),n===t.Type.ECDN10&&e.content&&(this.contentSet=!0),i.duration&&!this.started&&this.start(!0,!0)}}},{key:"merge",value:function(){var t=this.merged,e=this.pending,n=this.playGuid;this.merged=function(t,e){var n,r,i,o=t.general,a=t.ecdn10,s=t.ecdn11,u=t.events,f=t.detection,l=t.priming;return e=c()(e),o.hb=(o.hb||[]).concat(e.general.t),delete e.general.t,delete e.general.critical,delete e.general.expedited,(n=u.data).push.apply(n,P(e.events.data)),(r=f.data).push.apply(r,P(e.detection.data)),(i=l.data).push.apply(i,P(e.priming.data)),{general:I({},o,{},e.general),ecdn10:I({},a,{},e.ecdn10),ecdn11:I({},s,{},e.ecdn11),events:u,detection:f,priming:l}}(t,e),this.pending=J(n)}},{key:"send",value:function(t){if(!this.cleaned){var e=this.pending,n=this.config,i=this.platform,o=this.rpk,a=this.jwt,u=this.contentSet;e.general.t=this.timestamp();var h=function(t){var e=t.config,n=t.platform,i=t.isFinal,o=t.pending,a=t.rpk,s=t.jwt,u=t.contentSet;if(n===v&&o.ecdn10){var h=o.ecdn10,p=h.agent,y=h.deliveryGuid;o.ecdn10.agent=d({},p,{deliveryGuid:y})}var m,w,E=d({},c()(o));switch(b(E,"events"),b(E,"detection"),b(E,"priming"),n){case v:var x=e.b;if(!x)return;if(!u)return;m="".concat(Object(l.a)(x),"/api/integration/report/play"),a&&(E.token=a);break;case g:if(!s||!e.sth)return;m="".concat(Object(l.a)(e.sth),"/api/stats/play"),w={Authorization:"Bearer ".concat(s)};var O=Object(f.a)(s);r.a.i("sending report",O),E={contentId:O.cid,tenantId:O.tid,record:E};break;default:return}return{method:"POST",url:m,async:!i,body:E,headers:w}}({config:n,platform:i,contentSet:u,isFinal:t,pending:e,rpk:o,jwt:a});h?(Object(s.a)(h).then((function(){r.a.i("report",h.body)})).catch((function(){r.a.f("report",h.body)})),this.merge()):r.a.w("report","not.ready",e)}}},{key:"expedite",value:function(t){t&&(this.pending.general.expedited=t),this.start(!0,!0)}},{key:"attachVideoElement",value:function(t){if(!this.cleaned){var e=this.add,n=this.set,r=this.stop,i=this.start;F(t,{add:e,set:n,stop:r,start:i})}}},{key:"attachAmpPlayer",value:function(t){if(!this.cleaned){var e=this.add,n=this.set,r=this.stop,i=this.start;D(t,{add:e,set:n,stop:r,start:i})}}},{key:"flagCritical",value:function(t){var e=Math.random()<.05;return this.pending.general.critical=t,e&&!this.hasExpeditedOnCritical&&(this.hasExpeditedOnCritical=!0,this.expedite(S)),e}},{key:"start",value:function(t,e){this.cleaned||this.intervalToken&&!t||(this.started=!0,clearInterval(this.intervalToken),this.intervalToken=setInterval(this.send,this.sdkConfig.reportInterval),e&&this.send())}},{key:"stop",value:function(){this.intervalToken&&(clearInterval(this.intervalToken),this.intervalToken=null,this.send(!0))}},{key:"cleanup",value:function(){this.stop(),this.merged=null,this.pending=null,this.cleaned=!0}}])&&V(e.prototype,n),o&&V(e,o),t}();Y.reporters=[],window.addEventListener("beforeunload",(function(){Y.reporters.forEach((function(t){t.add({e:j.pageunload.code}),t.cleanup()}))})),(G=Y).Type={WEBRTC:"webrtc",ECDN10:"ecdn10",ECDN11:"ecdn11",PUBLISH_CHECK:"publishCheck",PUBLISH:"publish",SESSION:"session",PREFETCH:"prefetch",RESTART:"restart"},G.Sections={General:"general",ECDN10:"ecdn10",ECDN11:"ecdn11"},G.Error={UNSUPPORTED:"unsupportedBrowser"};var Z=Y;n.d(e,"a",(function(){return Z}))},function(t,e,n){var r=n(2),i=n(36),o=n(112);r({target:"Object",stat:!0,forced:n(3)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},function(t,e,n){"use strict";var r=n(5),i=n(233);function o(){i.call(this)}r(o,i),o.prototype.removeAllListeners=function(t){t?delete this._listeners[t]:this._listeners={}},o.prototype.once=function(t,e){var n=this,r=!1;this.on(t,(function i(){n.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}))},o.prototype.emit=function(){var t=arguments[0],e=this._listeners[t];if(e){for(var n=arguments.length,r=new Array(n-1),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<e.length;o++)e[o].apply(this,r)}},o.prototype.on=o.prototype.addListener=i.prototype.addEventListener,o.prototype.removeListener=i.prototype.removeEventListener,t.exports.EventEmitter=o},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return u}));var r,i=n(1);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a="kollectiveSDN",s=(o(r={},i.c.SMOOTH,{tech:"FlashSS",mime:"application/vnd.ms-sstr+xml"}),o(r,i.c.DASH,{tech:"AzureHtml5JS",mime:"application/dash+xml"}),r),u={sdnInitSuccess:"sdnInitSuccess",sdnInitFailure:"sdnInitFailure",sdnFatalError:"sdnFatalError"}},function(t,e,n){var r=n(2),i=n(3),o=n(41),a=n(55).f,s=n(16),u=i((function(){a(1)}));r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},function(t,e,n){var r=n(2),i=n(16),o=n(147),a=n(41),s=n(55),u=n(116);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),i=s.f,c=o(r),f={},l=0;c.length>l;)void 0!==(n=i(r,e=c[l++]))&&u(f,e,n);return f}})},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(10),i=n(109),o=n(90),a=n(46),s=n(74),u=n(34),c=n(53),f=function(t){function e(n,r,i){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=o.a;break;case 1:if(!n){a.destination=o.a;break}if("object"===typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new l(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new l(a,n,r,i)}return a}return r.a(e,t),e.prototype[s.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(a.a),l=function(t){function e(e,n,r,a){var s,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return Object(i.a)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==o.a&&(c=Object.create(n),Object(i.a)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=s,u._error=r,u._complete=a,u}return r.a(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw t;Object(c.a)(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Object(c.a)(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(f)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},function(t,e,n){var r=n(16),i=n(24),o=n(64);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(75);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(67),i=n(91),o=n(36),a=n(20),s=n(195),u=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,f=4==t,l=6==t,h=5==t||l;return function(p,d,y,v){for(var g,b,m=o(p),w=i(m),E=r(d,y,3),x=a(w.length),O=0,T=v||s,S=e?T(p,x):n?T(p,0):void 0;x>O;O++)if((h||O in w)&&(b=E(g=w[O],O,m),t))if(e)S[O]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return O;case 2:u.call(S,g)}else if(f)return!1;return l?-1:c||f?f:S}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(t,e,n){var r=n(4),i=n(35),o=n(19),a=n(144),s=n(145),u=n(44),c=u.get,f=u.enforce,l=String(String).split("String");(t.exports=function(t,e,n,s){var u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),f(n).source=l.join("string"==typeof e?e:"")),t!==r?(u?!h&&t[e]&&(c=!0):delete t[e],c?t[e]=n:i(t,e,n)):c?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},function(t,e,n){"use strict";var r=n(134);t.exports={getOrigin:function(t){if(!t)return null;var e=new r(t);if("file:"===e.protocol)return null;var n=e.port;return n||(n="https:"===e.protocol?"443":"80"),e.protocol+"//"+e.hostname+":"+n},isOriginEqual:function(t,e){var n=this.getOrigin(t)===this.getOrigin(e);return n},isSchemeEqual:function(t,e){return t.split(":")[0]===e.split(":")[0]},addPath:function(t,e){var n=t.split("?");return n[0]+e+(n[1]?"?"+n[1]:"")},addQuery:function(t,e){return t+(-1===t.indexOf("?")?"?"+e:"&"+e)}}},function(t,e,n){t.exports=n(174)},function(t,e,n){var r=n(91),i=n(75);t.exports=function(t){return r(i(t))}},function(t,e,n){"use strict";var r=n(33);var i=n(74),o=n(90);var a=n(89);function s(){}function u(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:s}var c=n(34);n.d(e,"a",(function(){return f}));var f=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var a=this.operator,s=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a?s.add(a.call(s,this.source)):s.add(this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,i=e.destination,o=e.isStopped;if(n||o)return!1;t=i&&i instanceof r.a?i:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=l(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:u(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=l(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},function(t,e,n){"use strict";n(13),n(59),n(22),n(15),n(128),n(31),n(32),n(28),n(18);var r=n(86),i=n(1);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){var n=function(){switch(e){case i.c.MP4:return"content.mp4";case i.c.HLS:return"chunklist.m3u8";case i.c.DASH:return"playlist.ism/Manifest(format=mpd-time-csf)";case i.c.SMOOTH:return"playlist.ism/Manifest";default:return""}}();return"stream/".concat(t,"/").concat(n)}function l(t,e){var n=t.protocol,r=t.host,i=t.port;return"".concat(n,"://").concat(r,":").concat(i,"/").concat(e)}function h(){if(!this.config)throw Error("ECDN10AgentAPI lacks config")}var p=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"detect",value:function(t){var e=this,n=t||{},r=n.callback,o=u(n,["callback"]);r=r||i.d;var a,s,c,f={protocol:"https",host:o.hostHTTPS||"client.kontiki.com",port:o.portHTTPS||31015},l={protocol:"http",host:o.hostHTTP||"127.0.0.1",port:o.portHTTP||31013},h=this.config?[this.config]:[f,(a=window.Mozilla,s=a&&(a.isFirefox||a.isLikeFirefox),c=window.chrome&&!/Edg(e|iOS|A)\/|SamsungBrowser/i.test(navigator.userAgent),null!=window.isSecureContext&&!(!s&&!c)&&l)].filter(Boolean);!function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(h.length){var i=h.shift(),o=Date.now(),a=function(t,a){e.config=i,r({success:{protocol:i.protocol,data:t,request:a,start:o},failures:n})},s=function(e){n.push({start:o,t:Date.now(),protocol:i.protocol,request:e}),t(n)};e.makeRequest({uri:"kontiki/kontiki/cache/RetrieveAgentData",onSuccess:a,onFailure:s,onTimeout:s},i)}else r({failures:n})}()}},{key:"startSession",value:function(t){var e=t.body,n=e.ktoken,r=e.appContext;this.makeRequest(a({method:"POST",uri:"".concat("api/v1/setSessionData","?ktoken=").concat(n,"&appContext=").concat(r)},t))}},{key:"getDeliveryGuid",value:function(t){var e=t.urn;delete t.urn,this.makeRequest(a({uri:"".concat("api/v1/contentDeliveryGuid","?urn=").concat(e)},t))}},{key:"prefetch",value:function(t){var e=t.urn,n=t.streamType,r=u(t,["urn","streamType"]);this.makeRequest(a({uri:f(e,n),timeout:5e3,expectJson:!1},r))}},{key:"longpoll",value:function(t){this.makeRequest(a({uri:"api/v1/longpoll",timeout:3e4,ignoreEdgeTimeout:!0},t))}},{key:"stopStream",value:function(t){this.makeRequest(a({uri:"api/v1/stopStream"},t))}},{key:"makeRequest",value:function(t,e){e||h.call(this);var n=t||{},i=n.uri,o=n.timeout,s=u(n,["uri","timeout"]);Object(r.a)(a({url:l(e||this.config,i),timeout:o||2e3,jsonContent:!1},s))}},{key:"createStreamURL",value:function(t,e){h.call(this);var n=f(t,e);return l(this.config,n)}}])&&c(e.prototype,n),o&&c(e,o),t}());e.a=p},function(t,e,n){var r,i,o,a=n(261),s=n(4),u=n(11),c=n(35),f=n(19),l=n(110),h=n(94),p=s.WeakMap;if(a){var d=new p,y=d.get,v=d.has,g=d.set;r=function(t,e){return g.call(d,t,e),e},i=function(t){return y.call(d,t)||{}},o=function(t){return v.call(d,t)}}else{var b=l("state");h[b]=!0,r=function(t,e){return c(t,b,e),e},i=function(t){return f(t,b)?t[b]:{}},o=function(t){return f(t,b)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r=n(209),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){"use strict";var r=function(){return Array.isArray||function(t){return t&&"number"===typeof t.length}}(),i=n(139),o=n(109),a=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}();n.d(e,"a",(function(){return s}));var s=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,s=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var f=0;f<n.length;++f){n[f].remove(this)}if(Object(o.a)(s))try{s.call(this)}catch(t){e=t instanceof a?u(t.errors):[t]}if(r(c)){f=-1;for(var l=c.length;++f<l;){var h=c[f];if(Object(i.a)(h))try{h.unsubscribe()}catch(t){e=e||[],t instanceof a?e=e.concat(u(t.errors)):e.push(t)}}}if(e)throw new a(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!==typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function u(t){return t.reduce((function(t,e){return t.concat(e instanceof a?e.errors:e)}),[])}},function(t,e,n){"use strict";var r=n(2),i=n(16),o=n(4),a=n(19),s=n(11),u=n(24).f,c=n(186),f=o.Symbol;if(i&&"function"==typeof f&&(!("description"in f.prototype)||void 0!==f().description)){var l={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new f(t):void 0===t?f():f(t);return""===t&&(l[e]=!0),e};c(h,f);var p=h.prototype=f.prototype;p.constructor=h;var d=p.toString,y="Symbol(test)"==String(f("test")),v=/^Symbol\((.*)\)[^)]+$/;u(p,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=d.call(t);if(a(l,t))return"";var n=y?e.slice(7,-1):e.replace(v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:h})}},function(t,e,n){n(194)("iterator")},function(t,e,n){var r=n(16),i=n(3),o=n(19),a=Object.defineProperty,s={},u=function(t){throw t};t.exports=function(t,e){if(o(s,t))return s[t];e||(e={});var n=[][t],c=!!o(e,"ACCESSORS")&&e.ACCESSORS,f=o(e,0)?e[0]:u,l=o(e,1)?e[1]:void 0;return s[t]=!!n&&!i((function(){if(c&&!r)return!0;var t={length:-1};c?a(t,1,{enumerable:!0,get:u}):t[1]=1,n.call(t,f,l)}))}},function(t,e,n){(function(t,r){var i;(function(){var o=n(377),a={function:!0,object:!0},s=a[typeof e]&&e&&!e.nodeType&&e,u=a[typeof window]&&window||this,c=s&&a[typeof t]&&t&&!t.nodeType&&"object"==typeof r&&r;function f(t,e){t||(t=u.Object()),e||(e=u.Object());var n=t.Number||u.Number,r=t.String||u.String,i=t.Object||u.Object,o=t.Date||u.Date,s=t.SyntaxError||u.SyntaxError,c=t.TypeError||u.TypeError,l=t.Math||u.Math,h=t.JSON||u.JSON;"object"==typeof h&&h&&(e.stringify=h.stringify,e.parse=h.parse);var p=i.prototype,d=p.toString,y=p.hasOwnProperty;function v(t,e){try{t()}catch(t){e&&e()}}var g=new o(-0xc782b5b800cec);function b(t){if(null!=b[t])return b[t];var i;if("bug-string-char-index"==t)i="a"!="a"[0];else if("json"==t)i=b("json-stringify")&&b("date-serialization")&&b("json-parse");else if("date-serialization"==t){if(i=b("json-stringify")&&g){var a=e.stringify;v((function(){i='"-271821-04-20T00:00:00.000Z"'==a(new o(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==a(new o(864e13))&&'"-000001-01-01T00:00:00.000Z"'==a(new o(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==a(new o(-1))}))}}else{var s,u='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var c="function"==typeof(a=e.stringify);c&&((s=function(){return 1}).toJSON=s,v((function(){c="0"===a(0)&&"0"===a(new n)&&'""'==a(new r)&&void 0===a(d)&&void 0===a(void 0)&&void 0===a()&&"1"===a(s)&&"[1]"==a([s])&&"[null]"==a([void 0])&&"null"==a(null)&&"[null,null,null]"==a([void 0,d,null])&&a({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==u&&"1"===a(null,s)&&"[\n 1,\n 2\n]"==a([1,2],null,1)}),(function(){c=!1}))),i=c}if("json-parse"==t){var f,l=e.parse;"function"==typeof l&&v((function(){0!==l("0")||l(!1)||(s=l(u),(f=5==s.a.length&&1===s.a[0])&&(v((function(){f=!l('"\t"')})),f&&v((function(){f=1!==l("01")})),f&&v((function(){f=1!==l("1.")}))))}),(function(){f=!1})),i=f}}return b[t]=!!i}if(v((function(){g=-109252==g.getUTCFullYear()&&0===g.getUTCMonth()&&1===g.getUTCDate()&&10==g.getUTCHours()&&37==g.getUTCMinutes()&&6==g.getUTCSeconds()&&708==g.getUTCMilliseconds()})),b["bug-string-char-index"]=b["date-serialization"]=b.json=b["json-stringify"]=b["json-parse"]=null,!b("json")){var m=b("bug-string-char-index"),w=function(t,e){var n,r,i,o=0;for(i in(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n)y.call(r,i)&&o++;return n=r=null,o?w=function(t,e){var n,r,i="[object Function]"==d.call(t);for(n in t)i&&"prototype"==n||!y.call(t,n)||(r="constructor"===n)||e(n);(r||y.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],w=function(t,e){var n,i,o="[object Function]"==d.call(t),s=!o&&"function"!=typeof t.constructor&&a[typeof t.hasOwnProperty]&&t.hasOwnProperty||y;for(n in t)o&&"prototype"==n||!s.call(t,n)||e(n);for(i=r.length;n=r[--i];)s.call(t,n)&&e(n)}),w(t,e)};if(!b("json-stringify")&&!b("date-serialization")){var E={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},x=function(t,e){return("000000"+(e||0)).slice(-t)},O=function(t){var e,n,r,i,o,a,s,u,c;if(g)e=function(t){n=t.getUTCFullYear(),r=t.getUTCMonth(),i=t.getUTCDate(),a=t.getUTCHours(),s=t.getUTCMinutes(),u=t.getUTCSeconds(),c=t.getUTCMilliseconds()};else{var f=l.floor,h=[0,31,59,90,120,151,181,212,243,273,304,334],p=function(t,e){return h[e]+365*(t-1970)+f((t-1969+(e=+(e>1)))/4)-f((t-1901+e)/100)+f((t-1601+e)/400)};e=function(t){for(i=f(t/864e5),n=f(i/365.2425)+1970-1;p(n+1,0)<=i;n++);for(r=f((i-p(n,0))/30.42);p(n,r+1)<=i;r++);i=1+i-p(n,r),a=f((o=(t%864e5+864e5)%864e5)/36e5)%24,s=f(o/6e4)%60,u=f(o/1e3)%60,c=o%1e3}}return(O=function(t){return t>-1/0&&t<1/0?(e(t),t=(n<=0||n>=1e4?(n<0?"-":"+")+x(6,n<0?-n:n):x(4,n))+"-"+x(2,r+1)+"-"+x(2,i)+"T"+x(2,a)+":"+x(2,s)+":"+x(2,u)+"."+x(3,c)+"Z",n=r=i=a=s=u=c=null):t=null,t})(t)};if(b("json-stringify")&&!b("date-serialization")){function T(t){return O(this)}var S=e.stringify;e.stringify=function(t,e,n){var r=o.prototype.toJSON;o.prototype.toJSON=T;var i=S(t,e,n);return o.prototype.toJSON=r,i}}else{var k=function(t){var e=t.charCodeAt(0),n=E[e];return n||"\\u00"+x(2,e.toString(16))},_=/[\x00-\x1f\x22\x5c]/g,j=function(t){return _.lastIndex=0,'"'+(_.test(t)?t.replace(_,k):t)+'"'},A=function(t,e,n,r,i,a,s){var u,f,l,h,p,y,g,b,m;if(v((function(){u=e[t]})),"object"==typeof u&&u&&(u.getUTCFullYear&&"[object Date]"==d.call(u)&&u.toJSON===o.prototype.toJSON?u=O(u):"function"==typeof u.toJSON&&(u=u.toJSON(t))),n&&(u=n.call(e,t,u)),void 0==u)return void 0===u?u:"null";switch("object"==(f=typeof u)&&(l=d.call(u)),l||f){case"boolean":case"[object Boolean]":return""+u;case"number":case"[object Number]":return u>-1/0&&u<1/0?""+u:"null";case"string":case"[object String]":return j(""+u)}if("object"==typeof u){for(g=s.length;g--;)if(s[g]===u)throw c();if(s.push(u),h=[],b=a,a+=i,"[object Array]"==l){for(y=0,g=u.length;y<g;y++)p=A(y,u,n,r,i,a,s),h.push(void 0===p?"null":p);m=h.length?i?"[\n"+a+h.join(",\n"+a)+"\n"+b+"]":"["+h.join(",")+"]":"[]"}else w(r||u,(function(t){var e=A(t,u,n,r,i,a,s);void 0!==e&&h.push(j(t)+":"+(i?" ":"")+e)})),m=h.length?i?"{\n"+a+h.join(",\n"+a)+"\n"+b+"}":"{"+h.join(",")+"}":"{}";return s.pop(),m}};e.stringify=function(t,e,n){var r,i,o,s;if(a[typeof e]&&e)if("[object Function]"==(s=d.call(e)))i=e;else if("[object Array]"==s){o={};for(var u,c=0,f=e.length;c<f;)u=e[c++],"[object String]"!=(s=d.call(u))&&"[object Number]"!=s||(o[u]=1)}if(n)if("[object Number]"==(s=d.call(n))){if((n-=n%1)>0)for(n>10&&(n=10),r="";r.length<n;)r+=" "}else"[object String]"==s&&(r=n.length<=10?n:n.slice(0,10));return A("",((u={})[""]=t,u),i,o,r,"",[])}}}if(!b("json-parse")){var I,C,P=r.fromCharCode,R={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},L=function(){throw I=C=null,s()},N=function(){for(var t,e,n,r,i,o=C,a=o.length;I<a;)switch(i=o.charCodeAt(I)){case 9:case 10:case 13:case 32:I++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=m?o.charAt(I):o[I],I++,t;case 34:for(t="@",I++;I<a;)if((i=o.charCodeAt(I))<32)L();else if(92==i)switch(i=o.charCodeAt(++I)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=R[i],I++;break;case 117:for(e=++I,n=I+4;I<n;I++)(i=o.charCodeAt(I))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||L();t+=P("0x"+o.slice(e,I));break;default:L()}else{if(34==i)break;for(i=o.charCodeAt(I),e=I;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++I);t+=o.slice(e,I)}if(34==o.charCodeAt(I))return I++,t;L();default:if(e=I,45==i&&(r=!0,i=o.charCodeAt(++I)),i>=48&&i<=57){for(48==i&&((i=o.charCodeAt(I+1))>=48&&i<=57)&&L(),r=!1;I<a&&((i=o.charCodeAt(I))>=48&&i<=57);I++);if(46==o.charCodeAt(I)){for(n=++I;n<a&&!((i=o.charCodeAt(n))<48||i>57);n++);n==I&&L(),I=n}if(101==(i=o.charCodeAt(I))||69==i){for(43!=(i=o.charCodeAt(++I))&&45!=i||I++,n=I;n<a&&!((i=o.charCodeAt(n))<48||i>57);n++);n==I&&L(),I=n}return+o.slice(e,I)}r&&L();var s=o.slice(I,I+4);if("true"==s)return I+=4,!0;if("fals"==s&&101==o.charCodeAt(I+4))return I+=5,!1;if("null"==s)return I+=4,null;L()}return"$"},D=function(t){var e,n;if("$"==t&&L(),"string"==typeof t){if("@"==(m?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=N());)n?","==t?"]"==(t=N())&&L():L():n=!0,","==t&&L(),e.push(D(t));return e}if("{"==t){for(e={};"}"!=(t=N());)n?","==t?"}"==(t=N())&&L():L():n=!0,","!=t&&"string"==typeof t&&"@"==(m?t.charAt(0):t[0])&&":"==N()||L(),e[t.slice(1)]=D(N());return e}L()}return t},U=function(t,e,n){var r=M(t,e,n);void 0===r?delete t[e]:t[e]=r},M=function(t,e,n){var r,i=t[e];if("object"==typeof i&&i)if("[object Array]"==d.call(i))for(r=i.length;r--;)U(d,w,i);else w(i,(function(t){U(i,t,n)}));return n.call(t,e,i)};e.parse=function(t,e){var n,r;return I=0,C=""+t,n=D(N()),"$"!=N()&&L(),I=C=null,e&&"[object Function]"==d.call(e)?M(((r={})[""]=n,r),"",e):n}}}return e.runInContext=f,e}if(!c||c.global!==c&&c.window!==c&&c.self!==c||(u=c),s&&!o)f(u,s);else{var l=u.JSON,h=u.JSON3,p=!1,d=f(u,u.JSON3={noConflict:function(){return p||(p=!0,u.JSON=l,u.JSON3=h,l=h=null),d}});u.JSON={parse:d.parse,stringify:d.stringify}}o&&(void 0===(i=function(){return d}.call(e,n,e,t))||(t.exports=i))}).call(this)}).call(this,n(124)(t),n(6))},function(t,e,n){"use strict";var r=/^https?:\/\//;e.a=function(t){return null==t||r.test(t)?t:"https://".concat(t)}},function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return a}));n(14),n(9),n(25),n(125),n(21),n(26);var r=function(t,e){return new Promise((function(n){setTimeout((function(){n(e)}),t)}))};function i(t){return"string"===typeof t||t instanceof String}function o(t,e){var n=e.exec(t);return n?parseInt(n[1]):null}function a(t){var e=function(t){return o(t,/#EXT-X-TARGETDURATION:(\d+)/g)}(t);return e&&(e=e/2*1e3),e}},function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return l}));n(79);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a="INGEST",s="PEER",u=function t(e,n,r){o(this,t),Object.assign(this,{id:e,pos:n,sizeBytes:r})},c=function(){function t(e,n,r,i,a,s,u,c){o(this,t),this.type=e,this.nodeId=n,this.tenantId=r,i&&(this.sourceId=i),this.contentId=a,this.objectId=s,this.timestamp=Math.floor(u),this.requestStart=Math.floor(c)}return i(t,[{key:"startLoading",value:function(t,e){this.loadInit=Math.floor(t),this.sourceId=this.sourceId||e}},{key:"fail",value:function(t,e,n){this.loadInit||(this.loadInit=0),e&&(this.sourceId=e),this.component=new u("payload",0,0),this.status=!1,this.statusCode=n||500,this.requestEnd=Math.floor(t)}},{key:"stop",value:function(t,e){this.requestEnd=Math.floor(t),this.component=new u("payload",0,e),this.statusCode=200,this.status=!0}}]),t}();function f(t,e,n,r,i,o){return new c(s,t,e,n,r,i,Date.now(),o)}function l(t,e,n,r,i,o){return new c(a,t,e,n,r,i,Date.now(),o)}var h=new(function(){function t(){o(this,t),this.firstRequestTime=null,this.peerRequests=[],this.sourceRequests=[]}return i(t,[{key:"clear",value:function(){this.peerRequests=[],this.sourceRequests=[]}},{key:"addPeerRequest",value:function(t){this.firstRequestTime||(this.firstRequestTime=t.timestamp),this.peerRequests.push(t)}},{key:"addSourceRequest",value:function(t){this.firstRequestTime||(this.firstRequestTime=t.timestamp),this.sourceRequests.push(t)}}]),t}());e.c=h},function(t,e,n){var r=n(16),i=n(142),o=n(64),a=n(41),s=n(92),u=n(19),c=n(184),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=a(t),e=s(e,!0),c)try{return f(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(187),i=n(4),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},function(t,e,n){var r=n(24).f,i=n(19),o=n(7)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){"use strict";var r=n(2),i=n(3),o=n(111),a=n(11),s=n(36),u=n(20),c=n(116),f=n(195),l=n(117),h=n(7),p=n(159),d=h("isConcatSpreadable"),y=p>=51||!i((function(){var t=[];return t[d]=!1,t.concat()[0]!==t})),v=l("concat"),g=function(t){if(!a(t))return!1;var e=t[d];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,forced:!y||!v},{concat:function(t){var e,n,r,i,o,a=s(this),l=f(a,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?a:arguments[e],g(o)){if(h+(i=u(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,h++)n in o&&c(l,h,o[n])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(l,h++,o)}return l.length=h,l}})},function(t,e,n){"use strict";var r=n(2),i=n(37).map,o=n(117),a=n(49),s=o("map"),u=a("map");r({target:"Array",proto:!0,forced:!s||!u},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";(function(e){var r=n(82),i={},o=!1,a=e.chrome&&e.chrome.app&&e.chrome.app.runtime;t.exports={attachEvent:function(t,n){"undefined"!==typeof e.addEventListener?e.addEventListener(t,n,!1):e.document&&e.attachEvent&&(e.document.attachEvent("on"+t,n),e.attachEvent("on"+t,n))},detachEvent:function(t,n){"undefined"!==typeof e.addEventListener?e.removeEventListener(t,n,!1):e.document&&e.detachEvent&&(e.document.detachEvent("on"+t,n),e.detachEvent("on"+t,n))},unloadAdd:function(t){if(a)return null;var e=r.string(8);return i[e]=t,o&&setTimeout(this.triggerUnloadCallbacks,0),e},unloadDel:function(t){t in i&&delete i[t]},triggerUnloadCallbacks:function(){for(var t in i)i[t](),delete i[t]}};a||t.exports.attachEvent("unload",(function(){o||(o=!0,t.exports.triggerUnloadCallbacks())}))}).call(this,n(6))},function(t,e,n){var r=n(272),i=n(204);t.exports=function(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[o+s]=a[s];return e||i(a)}},function(t,e,n){!function(e,n){var r={version:"2.10.0",areas:{},apis:{},inherit:function(t,e){for(var n in t)e.hasOwnProperty(n)||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e},stringify:function(t){return void 0===t||"function"===typeof t?t+"":JSON.stringify(t)},parse:function(t){try{return JSON.parse(t)}catch(e){return t}},fn:function(t,e){for(var n in r.storeAPI[t]=e,r.apis)r.apis[n][t]=e},get:function(t,e){return t.getItem(e)},set:function(t,e,n){t.setItem(e,n)},remove:function(t,e){t.removeItem(e)},key:function(t,e){return t.key(e)},length:function(t){return t.length},clear:function(t){t.clear()},Store:function(t,e,n){var i=r.inherit(r.storeAPI,(function(t,e,n){return 0===arguments.length?i.getAll():"function"===typeof e?i.transact(t,e,n):void 0!==e?i.set(t,e,n):"string"===typeof t||"number"===typeof t?i.get(t):"function"===typeof t?i.each(t):t?i.setAll(t,e):i.clear()}));i._id=t;try{e.setItem("_-bad-_","wolf"),i._area=e,e.removeItem("_-bad-_")}catch(t){}return i._area||(i._area=r.storage("fake")),i._ns=n||"",r.areas[t]||(r.areas[t]=i._area),r.apis[i._ns+i._id]||(r.apis[i._ns+i._id]=i),i},storeAPI:{area:function(t,e){var n=this[t];return n&&n.area||(n=r.Store(t,e,this._ns),this[t]||(this[t]=n)),n},namespace:function(t,e){if(!t)return this._ns?this._ns.substring(0,this._ns.length-1):"";var n=t,i=this[n];if((!i||!i.namespace)&&(i=r.Store(this._id,this._area,this._ns+n+"."),this[n]||(this[n]=i),!e))for(var o in r.areas)i.area(o,r.areas[o]);return i},isFake:function(){return"fake"===this._area.name},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(t){return this._area.has?this._area.has(this._in(t)):!!(this._in(t)in this._area)},size:function(){return this.keys().length},each:function(t,e){for(var n=0,i=r.length(this._area);n<i;n++){var o=this._out(r.key(this._area,n));if(void 0!==o&&!1===t.call(this,o,this.get(o),e))break;i>r.length(this._area)&&(i--,n--)}return e||this},keys:function(t){return this.each((function(t,e,n){n.push(t)}),t||[])},get:function(t,e){var n=r.get(this._area,this._in(t));return null!==n?r.parse(n):e||n},getAll:function(t){return this.each((function(t,e,n){n[t]=e}),t||{})},transact:function(t,e,n){var r=this.get(t,n),i=e(r);return this.set(t,void 0===i?r:i),this},set:function(t,e,n){var i=this.get(t);return null!=i&&!1===n?e:r.set(this._area,this._in(t),r.stringify(e),n)||i},setAll:function(t,e){var n,r;for(var i in t)r=t[i],this.set(i,r,e)!==r&&(n=!0);return n},add:function(t,e){var n=this.get(t);if(n instanceof Array)e=n.concat(e);else if(null!==n){var i=typeof n;if(i===typeof e&&"object"===i){for(var o in e)n[o]=e[o];e=n}else e=n+e}return r.set(this._area,this._in(t),r.stringify(e)),e},remove:function(t,e){var n=this.get(t,e);return r.remove(this._area,this._in(t)),n},clear:function(){return this._ns?this.each((function(t){r.remove(this._area,this._in(t))}),1):r.clear(this._area),this},clearAll:function(){var t=this._area;for(var e in r.areas)r.areas.hasOwnProperty(e)&&(this._area=r.areas[e],this.clear());return this._area=t,this},_in:function(t){return"string"!==typeof t&&(t=r.stringify(t)),this._ns?this._ns+t:t},_out:function(t){return this._ns?t&&0===t.indexOf(this._ns)?t.substring(this._ns.length):void 0:t}},storage:function(t){return r.inherit(r.storageAPI,{items:{},name:t})},storageAPI:{length:0,has:function(t){return this.items.hasOwnProperty(t)},key:function(t){var e=0;for(var n in this.items)if(this.has(n)&&t===e++)return n},setItem:function(t,e){this.has(t)||this.length++,this.items[t]=e},removeItem:function(t){this.has(t)&&(delete this.items[t],this.length--)},getItem:function(t){return this.has(t)?this.items[t]:null},clear:function(){for(var t in this.items)this.removeItem(t)}}},i=r.Store("local",function(){try{return localStorage}catch(t){}}());i.local=i,i._=r,i.area("session",function(){try{return sessionStorage}catch(t){}}()),i.area("page",r.storage("page")),"function"===typeof n&&void 0!==n.amd?n("store2",[],(function(){return i})):t.exports?t.exports=i:(e.store&&(r.conflict=e.store),e.store=i)}(this,this&&this.define)},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r,i=n(17),o=n(190),a=n(148),s=n(94),u=n(191),c=n(143),f=n(110),l=f("IE_PROTO"),h=function(){},p=function(t){return"<script>"+t+"<\/script>"},d=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;d=r?function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete d.prototype[a[n]];return d()};s[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=i(t),n=new h,h.prototype=null,n[l]=t):n=d(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(68);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(17),i=n(68),o=n(7)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},function(t,e,n){"use strict";var r=n(38),i=n(17),o=n(3),a=n(202),s=RegExp.prototype,u=s.toString,c=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),f="toString"!=u.name;(c||f)&&r(RegExp.prototype,"toString",(function(){var t=i(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in s)?a.call(t):n)}),{unsafe:!0})},function(t,e,n){var r=n(16),i=n(24).f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/;!r||"name"in o||i(o,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},function(t,e,n){var r=n(289),i=n(294);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){return"function"===typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},function(t,e){t.exports=!1},function(t,e,n){var r=n(65),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e,n){var r=n(19),i=n(36),o=n(110),a=n(154),s=o("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){var r=n(2),i=n(206);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(t,e,n){var r=n(2),i=n(3),o=n(192).f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";var r=n(371);t.exports={string:function(t){for(var e="abcdefghijklmnopqrstuvwxyz012345".length,n=r.randomBytes(t),i=[],o=0;o<t;o++)i.push("abcdefghijklmnopqrstuvwxyz012345".substr(n[o]%e,1));return i.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var e=(""+(t-1)).length;return(new Array(e+1).join("0")+this.number(t)).slice(-e)}}},function(t,e,n){"use strict";var r=n(5),i=n(39),o=n(234);function a(t,e,n,r){o.call(this,t,e,function(t){return function(e,n,r){var o={};"string"===typeof n&&(o.headers={"Content-type":"text/plain"});var a=i.addPath(e,"/xhr_send"),s=new t("POST",a,n,o);return s.once("finish",(function(t){if(s=null,200!==t&&204!==t)return r(new Error("http status "+t));r()})),function(){s.close(),s=null;var t=new Error("Aborted");t.code=1e3,r(t)}}}(r),n,r)}r(a,o),t.exports=a},function(t,e,n){"use strict";function r(t){var e=t.playerElement();return e&&e.getElementsByTagName("video")[0]}function i(t){var e=t.el();return e&&e.getElementsByTagName("video")[0]}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}))},function(t,e,n){"use strict";n(13),n(22),n(15),n(31),n(32),n(28),n(9),n(25),n(18);var r=n(86);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a=function(t){return new Promise((function(e,n){Object(r.a)(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{onSuccess:function(t,n){return e({data:t,request:n})},onFailure:n,onTimeout:n}))}))}},function(t,e,n){"use strict";(function(t){n(15),n(80),n(18),n(276);var r=n(180),i=n(253),o=n(1);e.a=function(e){var n=e.method||"GET",a=e.url+Object(r.stringify)(e.params,!0),s=e.headers||{},u=null==e.expectJson||e.expectJson,c=null==e.jsonContent||e.jsonContent,f=null==e.async||e.async,l=e.onSuccess||o.d,h=e.onFailure||o.d,p=e.onTimeout||o.d,d=e.timeout||0,y=e.body,v=e.ignoreEdgeTimeout,g=new XMLHttpRequest;g.onreadystatechange=function(){if(g&&g.readyState===XMLHttpRequest.DONE)if(g.status>=200&&g.status<400){var e=u&&g.responseText?JSON.parse(g.responseText):g.responseText;l(e,g)}else g.status>=400?h(g):g.status<100&&t((function(){g.onreadystatechange&&h(g)}))},g.open(n,a,f),function(t,e,n,r){var o=Object(i.a)();if(!(e<=0||o&&r)){var a=function(){o&&t.readyState===XMLHttpRequest.DONE||(t.onreadystatechange=null,o||t.abort(),n(t))};o?setTimeout(a,e):(t.ontimeout=a,t.timeout=e)}}(g,d,p,v),e.withCredentials&&(g.withCredentials=e.withCredentials),u&&g.setRequestHeader("Accept","application/json"),"GET"!==n&&c&&g.setRequestHeader("Content-Type","application/json"),Object.getOwnPropertyNames(s).forEach((function(t){g.setRequestHeader(t,s[t])})),g.send(JSON.stringify(y))}}).call(this,n(273).setImmediate)},function(t,e,n){"use strict";n(59);var r=n(23),i=n(1),o=n(51),a=(n(22),n(15),n(14),n(60),n(104),n(9),n(25),n(21),n(18),n(26),n(40)),s=n.n(a),u=(n(174),n(0)),c=(n(13),n(47),n(48),n(127),n(28),n(71),n(183)),f=n.n(c);function l(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}var y=0,v=1,g=2,b=3,m=4,w="PENDING",E="ESTABLISHED",x="FAILED",O="CLOSED",T=function(){function t(){h(this,t),this.arr=[]}return d(t,[{key:"push",value:function(t){this.arr.unshift(t)}},{key:"popAll",value:function(){var t=l(this.arr);return this.arr=[],t}}]),t}(),S=new(function(){function t(){h(this,t),this.state=y,this.dispatchQueue=new T}return d(t,[{key:"init",value:function(t,e,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{onclose:function(){},onerror:function(){},onopen:function(){},onreconnect:function(){}};this.config=e,this.endpoint=t,this.rpcEndpoint=n,this.tick();var o=i.onclose,a=i.onerror,s=i.onopen,c=i.onreconnect;this.handlers=i,this.idleTimeMs=e.webrtc_idle_shutdown_ms||18e4;var l=this;return this.idleTimer=setInterval((function(){l.lastUsed?Date.now()-l.lastUsed>l.idleTimeMs&&(u.a.i("Socket is idle. Closing."),l.close(),l.state=m,clearTimeout(l.idleTimer)):(u.a.i("lastUsed was unset - ".concat(l.lastUsed),l),l.lastUsed=Date.now())}),3e4),new Promise((function(t,e){r.eb=new f.a(r.endpoint,r.config),r.eb.enableReconnect(!0),r.eb.onopen=function(){s&&r.eb.state===f.a.OPEN&&(s(),r.state=v),t()},r.eb.onreconnect=function(){r.state=g,c&&c(),r.dispatchQueue.popAll().forEach(r.dispatch)},r.eb.onerror=function(t){r.state=b,u.a.e(t),a&&a(),e()},r.eb.onclose=function(){r.state=y,o&&o()}}))}},{key:"tick",value:function(){return this.lastUsed=Date.now(),this.lastUsed}},{key:"close",value:function(){this.state=y,this.eb.close(),this.eb=null}},{key:"send",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.type,r=e.payload;return this.tick(),this.state===v||this.state===g?new Promise((function(e,i){t.eb.send(n,r,(function(t,n){return t?i(t):e(n)}))})):this.state===m?this._restart().then((function(){new Promise((function(e,i){t.eb.send(n,r,(function(t,n){return t?i(t):e(n)}))}))})):new Promise((function(t,e){e()}))}},{key:"dispatch",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.type,r=e.payload;this.tick(),this.state===v||this.state===g?this.eb.send(n,r):this.state===m?this._restart().then((function(){t.dispatchQueue.popAll().forEach(t.dispatch)})):this.dispatchQueue.push({type:n,payload:r})}},{key:"_constructMessage",value:function(t,e){return{type:this.rpcEndpoint,payload:{type:t,payload:e}}}},{key:"_restart",value:function(){return u.a.i("Restarting the Signalling connection."),this.init(this.config,this.endpoint,this.rpcEndpoint,this.handlers)}},{key:"registerHandler",value:function(t,e){this.eb.registerHandler(t,e)}},{key:"provideOffer",value:function(t,e,n){this.dispatch(this._constructMessage("PEER_OFFER",{from:e,to:t,offer:n}))}},{key:"provideAnswer",value:function(t,e,n){this.dispatch(this._constructMessage("PEER_ANSWER",{from:e,to:t,answer:n}))}},{key:"sendIceCandidate",value:function(t,e,n){this.dispatch(this._constructMessage("ICE_CANDIDATE",{to:t,from:e,candidate:n}))}},{key:"findPeers",value:function(t,e,n){return n=n||15,this.send(this._constructMessage("DISCOVER_PEERS",{node:t,contentId:e,limit:n}))}},{key:"sendPeerConnectionEvent",value:function(t,e,n,r){var i={nodes:[t,e],connectionState:n};return r&&(i.rtcData=r),this.dispatch(this._constructMessage("PEER_CONNECTION",i))}},{key:"registerHandlers",value:function(t){var e=this;Object.keys(t).forEach((function(n){e.eb.registerHandler(n,t[n])}))}},{key:"transferRecord",value:function(t){this.dispatch(this._constructMessage("TRANSFER_RECORD",t))}},{key:"contentStatus",value:function(t){this.dispatch(this._constructMessage("CONTENT_STATUS",t))}}]),t}()),k=(n(395),n(249),n(12)),_=n.n(k),j=n(10),A=n(42),I=n(33),C=n(46),P=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),R=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return j.a(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(C.a),L=n(74),N=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return j.a(e,t),e}(I.a),D=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return j.a(e,t),e.prototype[L.a]=function(){return new N(this)},e.prototype.lift=function(t){var e=new U(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new P;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new P;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new P;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new P;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new P;return this.hasError?(t.error(this.thrownError),C.a.EMPTY):this.isStopped?(t.complete(),C.a.EMPTY):(this.observers.push(t),new R(this,t))},e.prototype.asObservable=function(){var t=new A.a;return t.source=this,t},e.create=function(t,e){return new U(t,e)},e}(A.a),U=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return j.a(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):C.a.EMPTY},e}(D);n(101),n(129),n(398),n(403),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427);function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t||0===t.length)return null;var n=e||t.reduce((function(t,e){return t+e.byteLength}),0),r=new Uint8Array(n);return t.reduce((function(t,e){return r.set(new Uint8Array(e),t),t+e.byteLength}),0),r}n(428);function F(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H(t,e,n){return e&&B(t.prototype,e),n&&B(t,n),t}var q=Object.freeze({HAVE:1,SOURCING:2,PEERING:3,EVICTED:4}),z=Object.freeze({NOTIFY:1,REQUEST:2,AWAIT:3,DATA:4,TEXT:5,DATA_SENTINEL:6,FAILURE:7,CANCEL:8,ACK:9,CLOSE:10}),V=function(){function t(){F(this,t)}return H(t,null,[{key:"decode",value:function(t){var e=_.a.wrap(t);return{key:e.readCString(),state:e.readByte()}}},{key:"encode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.HAVE;return(new _.a).writeCString(t).writeByte(e).flip().buffer}}]),t}(),G=function(){function t(){F(this,t)}return H(t,null,[{key:"decode",value:function(t){var e=_.a.wrap(t),n=e.readInt32();return{key:e.readCString(),txId:n}}},{key:"encode",value:function(t,e){return(new _.a).writeInt32(t).writeCString(e).flip().buffer}}]),t}(),W=function(){function t(){F(this,t)}return H(t,null,[{key:"decode",value:function(t){var e=_.a.wrap(t),n=e.readInt32();return{key:e.readCString(),txId:n}}},{key:"encode",value:function(t,e){return(new _.a).writeInt32(t).writeCString(e).flip().buffer}}]),t}(),J=function(){function t(){F(this,t)}return H(t,null,[{key:"decode",value:function(t){var e=_.a.wrap(t),n=e.readInt32(),r=e.readCString();return{data:e.toArrayBuffer(),txId:n,key:r}}},{key:"encode",value:function(t,e,n){return(new _.a).writeInt32(t).writeCString(e).append(n).flip().buffer}}]),t}(),Y=function(){function t(){F(this,t)}return H(t,null,[{key:"decode",value:function(t){var e=_.a.wrap(t),n=e.readInt32(),r=e.readCString();return{text:e.readCString(),key:r,txId:n}}},{key:"encode",value:function(t,e,n){return(new _.a).writeInt32(t).writeCString(e).writeCString(n).flip().buffer}}]),t}(),Z=function(){function t(){F(this,t)}return H(t,null,[{key:"decode",value:function(t){var e=_.a.wrap(t);return{txId:e.readInt32(),key:e.readCString(),originalSizeBytes:e.readInt32()}}},{key:"encode",value:function(t,e,n){return(new _.a).writeInt32(t).writeCString(e).writeInt32(n).flip().buffer}}]),t}(),K=function(){function t(){F(this,t)}return H(t,null,[{key:"decode",value:function(t){var e=_.a.wrap(t),n=e.readInt32();return{key:e.readCString(),txId:n,statusCode:e.readInt32()}}},{key:"encode",value:function(t,e,n){return(new _.a).writeInt32(t).writeCString(e).writeInt32(n).flip().buffer}}]),t}(),$=n(52);function X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var tt=window.performance,et=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tt.now();Q(this,t),this.peerId=e,this.payload=n,this.ts=r};function nt(t,e){return(new _.a).writeByte(t).append(e).flip().buffer}function rt(t){return{candidate:t.candidate,component:t.component,foundation:t.foundation,ip:t.ip,port:t.port,priority:t.priority,protocol:t.protocol,relatedAddress:t.relatedAddress,relatedPort:t.relatedPort,sdpMid:t.sdpMid,sdpMLineIndex:t.sdpMLineIndex,tcpType:t.tcpType,type:t.type,usernameFragment:t.usernameFragment}}function it(t){u.a.i(t);var e=new RTCPeerConnection(t.peerConfiguration,t.channelOptions);e.oniceconnectionstatechange=function(e){e.target.iceConnectionState,"failed"===e.target.iceConnectionState&&(u.a.i("Failing connection because ICE connection state transitioned to ".concat(e.target.iceConnectionState),t.peer),t.fail())},e.onicecandidate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{candidate:null},n=e.candidate;u.a.i("candidate",n),n&&(t.iceCandidates.push(n),S.sendIceCandidate(t.peer,t.node,rt(n)))};var n=!1,r=!1;return e.onsignalingstatechange=function(i){var o=e.signalingState;switch(u.a.i("signaling state ".concat(o),i),o){case"stable":(n||r)&&(t.signalingStable=!0,u.a.i("signaling STABLE ".concat(o)),t.addPendingCandidates());break;case"have-local-offer":case"have-remote-offer":u.a.i("have offer"),n=!0;break;case"have-local-pranswer":case"have-remote-pranswer":u.a.i("have answer"),r=!0}},e.onconnectionstatechange=function(){switch(e.connectionState){case"connected":break;case"disconnected":case"failed":u.a.i("Failing connection because connectionState transitiond to ".concat(e.connectionState),t.node,t.peer),t.fail();break;case"closed":u.a.i("Connection state transitiond to ".concat(e.connectionState),t.node,t.peer),t.close()}},e}function ot(t){return function(e){var n,r;(n=e,r=n.data,r instanceof ArrayBuffer?Promise.resolve(r):"function"===typeof r.arrayBuffer?r.arrayBuffer():Promise.resolve(r)).then((function(e){if(e){S.tick();var n=_.a.wrap(e),r=n.readByte(),i=n.toArrayBuffer();switch(r){case z.NOTIFY:var o=V.decode(i),a=o.key,s=o.state;s===q.EVICTED?t.peerState.delete(a):t.peerState.set(a,s);break;case z.REQUEST:var c=G.decode(i),f=c.key,l=c.txId,h=t.cache.get(f);t.respond(f,h,l);break;case z.AWAIT:var p=W.decode(i),d=p.key,y=p.txId;Promise.race([t.cache.await(y,d),Object($.c)(4e3,null)]).then((function(e){t.respond(d,e,y)}));break;case z.DATA:var v=J.decode(i),g=v.data,b=v.txId,m=new et(t.peer.nodeId,g,tt.now()),w=t.pendingChunks.get(b)||[];w.push(m),t.pendingChunks.set(b,w);break;case z.TEXT:var E=Y.decode(i),x=E.text,O=E.txId,T=t.pendingResponse.get(O),k=new et(t.peer.nodeId,x,tt.now());T.next(k),t.pendingResponse.delete(O),T.complete();break;case z.DATA_SENTINEL:var j=Z.decode(i),A=t.pendingResponse.get(j.txId);try{var I=t.aggregateChunks(j.txId),C=I.data,P=I.ts;if(C.byteLength===j.originalSizeBytes){var R=new et(t.peer.nodeId,C,P);A.next(R)}else{var L={error:{message:"Invalid size after unchunking",statusCode:444},peerId:t.peer.nodeId};A.error(L)}}catch(e){var N={error:{message:e.message,statusCode:500},peerId:t.peer.nodeId};A.error(N)}finally{t.pendingResponse.delete(j.txId),A.complete()}break;case z.FAILURE:var D=K.decode(i),U=t.pendingResponse.get(D.txId),M={error:{message:"Failed to Peer data",data:D,statusCode:D.statusCode},peerId:t.peer.nodeId};U.error(M),t.pendingResponse.delete(D.txId);break;case z.CANCEL:case z.ACK:case z.CLOSE:break;default:u.a.i("unhandled peer message")}}})).catch((function(t){u.a.i("failed to handle datachannel message.",t)}))}}var at=function(){function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};Q(this,t),this.cache=e,this.node=n,this.peer=r,this.peerConfiguration=i,this.channelOptions=o,this.peerState=new Map,this.pendingChunks=new Map,this.pendingResponse=new Map,this.state=w,this.iceCandidates=[],this.peerIceCandidates=[],this.connectionRetries=0,this.connectionOffered=!1,this.signalingStable=!1}var e,n,r;return e=t,(n=[{key:"_incrementRetries",value:function(){this.connectionRetries=this.connectionRetries+1}},{key:"canRetry",value:function(){return this.connectionOffered&&this.connectionRetries<3}},{key:"_buildRtcData",value:function(){var t=this.iceCandidates,e=this.peerIceCandidates,n=this.peerConnection,r={iceCandidates:t,peerIceCandidates:e,node:this.node,peer:this.peer};if(n&&"closed"!=n.signalingState){var i=n.localDescription,o=n.remoteDescription,a=n.currentLocalDescription,s=n.currentRemoteDescription,u=n.pendingLocalDescription,c=n.pendingRemoteDescription,f=n.signalingState,l=n.iceConnectionState;i&&(r.localDescription=i),o&&(r.remoteDescription=o),a&&(r.currentLocalDescription=a),s&&(r.currentRemoteDescription=s),u&&(r.pendingLocalDescription=u),c&&(r.pendingRemoteDescription=c),f&&(r.signalingState=f),l&&(r.iceConnectionState=l)}else r.signalingState="closed";return r}},{key:"onclose",value:function(){}},{key:"onopen",value:function(){}},{key:"offerConnection",value:function(){var t=this;return this._incrementRetries(),this.connectionOffered=!0,S.sendPeerConnectionEvent(this.node,this.peer,w,this._buildRtcData()),this.peerConnection=it(this),this.dataChannel=this.peerConnection.createDataChannel(this.node.nodeId,this.channelOptions),this.setupDataChannel(),this.peerConnection.createOffer().then((function(e){return t.peerConnection.setLocalDescription(e)})).then((function(){var e=t.peerConnection,n=e.localDescription;S.provideOffer(t.peer,t.node,n),setTimeout((function(){e.remoteDescription||(u.a.i("No remote description set. Assuming the client never received an answer, closing."),t.close())}),1e4)}))}},{key:"handleAnswer",value:function(t){var e=this;S.sendPeerConnectionEvent(this.node,this.peer,w,this._buildRtcData()),this.peerConnection.setRemoteDescription(t).then((function(){return e.peerConnection.localDescription}),(function(t){u.a.e(t)}))}},{key:"answerConnection",value:function(t){var e=this;this.peerConnection=it(this),this.peerConnection.ondatachannel=function(t){e.dataChannel=t.channel,e.setupDataChannel()},this.peerConnection.setRemoteDescription(t).then((function(){e.peerConnection.createAnswer().then((function(t){e.peerConnection.setLocalDescription(t),S.provideAnswer(e.peer,e.node,t)}),(function(t){u.a.e(t)}))}))}},{key:"addPendingCandidates",value:function(){var t=this;this.peerIceCandidates.forEach((function(e){return t.peerConnection.addIceCandidate(e)}))}},{key:"handleIceCandidate",value:function(t){if(null!==t)try{this.peerConnection?(this.peerIceCandidates.push(t),this.signalingStable&&this.peerConnection.addIceCandidate(t)):u.a.e("Received iceCandidate when peerConnection was null.",t)}catch(t){u.a.i("failed to add ice candidate",t)}}},{key:"_cleanupResources",value:function(t){var e=this;this.dataChannel&&this.dataChannel.close(),this.peerConnection&&this.peerConnection.close(),this.pendingResponse&&this.pendingResponse.forEach((function(n){var r="Peer connection ".concat(t?"failed":"closed");n.error({error:{message:r},peerId:e.peer.nodeId})}))}},{key:"_retryOrClose",value:function(){this.canRetry()?(u.a.i("Retrying connection. ".concat(this.connectionRetries," previous attempts."),this.node,this.peer),this.offerConnection()):(u.a.i("Closing connection.",this.node,this.peer),this.onclose())}},{key:"fail",value:function(){u.a.i("Failing PeerChannel for peer: "+this.peer.nodeId,this.peer),this._cleanupResources(!0),S.sendPeerConnectionEvent(this.node,this.peer,x,this._buildRtcData()),this._retryOrClose()}},{key:"close",value:function(t){return u.a.i("Closing PeerChannel for peer: "+this.peer.nodeId,this.peer),this._cleanupResources(!1),S.sendPeerConnectionEvent(this.node,this.peer,O,this._buildRtcData()),t?void 0:void this._retryOrClose()}},{key:"setupDataChannel",value:function(){var t;this.dataChannel.onopen=(t=this,function(){t.state=E,t.onopen(),t.cache.keys().forEach((function(e){t.notify(e,q.HAVE)})),S.sendPeerConnectionEvent(t.node,t.peer,t.state,t._buildRtcData())}),this.dataChannel.onerror=function(t){return function(e){u.a.i("data channel error",e,t),t.close()}}(this),this.dataChannel.onclose=function(t){return function(){u.a.i("data channel closed",t),t.close()}}(this),this.dataChannel.onmessage=ot(this)}},{key:"getState",value:function(t){return this.peerState.get(t)}},{key:"notify",value:function(t,e){var n=nt(z.NOTIFY,V.encode(t,e));try{this.dataChannelSend(n)}catch(t){u.a.i(this,t)}}},{key:"dataChannelSend",value:function(t){try{this.dataChannel.send(t)}catch(t){if(u.a.i("Failed to send on data channel to peer: "+this.peer.nodeId,t),this.dataChannel)switch(this.dataChannel.readyState){case"connecting":case"closing":case"closed":return u.a.i("Closing connection due to DataChannel readyState ".concat(this.dataChannel.readyState),this.dataChannel),void this.close()}if(this.peerConnection)switch(this.peerConnection.connectionState){case"disconnected":case"failed":case"closed":return u.a.i("Closing connection with PeerConnection.connectionState ".concat(this.peerConnection.connectionState),this.peerConnection),void this.close()}}}},{key:"awaitData",value:function(t){var e=this.getTxId(),n=nt(z.AWAIT,W.encode(e,t));this.dataChannelSend(n);var r=new D;return this.pendingResponse.set(e,r),r}},{key:"fetchData",value:function(t){var e=this.getTxId(),n=nt(z.REQUEST,G.encode(e,t));this.dataChannelSend(n);var r=new D;return this.pendingResponse.set(e,r),r}},{key:"aggregateChunks",value:function(t){var e=this.pendingChunks.get(t);return this.pendingChunks.delete(t),{data:M(e.map((function(t){return t.payload}))),ts:e[0].ts}}},{key:"respond",value:function(t,e,n){var r=this;if(e)if(Object($.b)(e)){var i=nt(z.TEXT,Y.encode(n,t,e));this.dataChannelSend(i)}else A.a.create((function(t){!function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:65536,r=t.byteLength,i=0;i<r;i+=n){var o=t.slice(i,i+n);e(o)}}(e,(function(e){return t.next(e)}),32768),t.complete()})).subscribe({next:function(e){var i=nt(z.DATA,J.encode(n,t,e));r.dataChannelSend(i)},error:function(){var i=nt(z.DATA_SENTINEL,Z.encode(n,t,e.byteLength));r.dataChannelSend(i)},complete:function(){var i=nt(z.DATA_SENTINEL,Z.encode(n,t,e.byteLength));r.dataChannelSend(i)}});else{var o=nt(z.FAILURE,K.encode(n,t,408));this.dataChannelSend(o)}}},{key:"getTxId",value:function(){return this.txId||(this.txId=1),this.txId++}}])&&X(e.prototype,n),r&&X(e,r),t}();n(79);var st=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.assign(this,e)};n(429);function ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ct=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.assign(this,e,{node:new st(e.node),peerLimit:e.peerLimit||15})}var e,n,r;return e=t,(n=[{key:"signalingConfig",get:function(){return{server:this.node.nodeId,transports:["websocket"]}}},{key:"eventBusEndpointURL",get:function(){return new URL(this.eventBusEndpoint,this.baseUrl)}},{key:"localEventBusAddress",get:function(){return this.nodeAddress}},{key:"baseUrl",get:function(){return Object(o.a)(this.hostname)}}])&&ut(e.prototype,n),r&&ut(e,r),t}();function ft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ht(t){return t?"string"===typeof t||t instanceof String?(new TextEncoder).encode(t).byteLength:t.byteLength?t.byteLength:t.length?t.length:0:0}var pt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:256e6;ft(this,t),this.maxBytes=e,this.cachedBytes=0,this.cache=new Map}var e,n,r;return e=t,(n=[{key:"get",value:function(t){var e=this.cache.get(t);return e&&(this.cache.delete(t),this.cache.set(t,e)),e}},{key:"set",value:function(t,e){var n=ht(e);if(n>this.maxBytes)u.a.e("payload for ".concat(t," is too large at ").concat(n," bytes."));else{for(this.cache.has(t)&&this.cache.delete(t);this.cachedBytes+n>this.maxBytes;){var r=this.cache.keys().next().value;this.delete(r)}this.cachedBytes=this.cachedBytes+n,this.cache.set(t,e)}}},{key:"has",value:function(t){return this.cache.has(t)}},{key:"keys",value:function(){return this.cache.keys()}},{key:"delete",value:function(t){var e=this.cache.get(t);return this.cachedBytes=this.cachedBytes-ht(e),this.cache.delete(t)}},{key:"onEvict",value:function(){}}])&&lt(e.prototype,n),r&&lt(e,r),t}();function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yt(t,e,n){t.get(e).forEach((function(t){return t(null,n)})),t.delete(e)}var vt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cache=new pt,this.onPut=e,this.onEvict=n,this.awaits=new Map,this.source=null}var e,n,r;return e=t,(n=[{key:"keys",value:function(){return Array.from(this.cache.keys())}},{key:"get",value:function(t){return this.cache.get(t)}},{key:"await",value:function(t,e){var n=this.awaits;return this.cache.has(e)?Promise.resolve(this.cache.get(e)):new Promise((function(t,r){var i=n.get(e)||[];i.push((function(e,n){e&&r(e),t(n)})),n.set(e,i)}))}},{key:"put",value:function(t,e){this.source||(this.source=t),this.cache.set(t,e),this.onPut(t,e),this.awaits.has(t)&&yt(this.awaits,t,e)}},{key:"evict",value:function(t){var e=this.cache.get(t);this.cache.delete(t),this.onEvict(t,e),this.awaits.has(t)&&yt(this.awaits,t,null)}},{key:"clear",value:function(){this.cache=new pt}}])&&dt(e.prototype,n),r&&dt(e,r),t}();var gt="CACHED",bt="EVICTED",mt=function t(e,n,r,i,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.assign(this,{nodeId:e,contentId:n,objectId:r,status:i,timestamp:o,totalBytes:a})};function wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Et(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function xt(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Et(o,r,i,a,s,"next",t)}function s(t){Et(o,r,i,a,s,"throw",t)}a(void 0)}))}}function Ot(t,e){return Tt.apply(this,arguments)}function Tt(){return(Tt=xt(s.a.mark((function t(e,n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e,{method:"GET",mode:"cors",credentials:"include",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}});case 3:return r=t.sent,t.next=6,r.json();case 6:return t.abrupt("return",t.sent);case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{error:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}var St=function(){function t(e,n,r){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tenantId=n,this.token=r,this.cache=new vt((function(t,e){if(e){var n=Object($.b)(e)?e.length:e.byteLength;i.sendCached(t,n)}else i.sendCached(t,0)}),(function(t,e){if(e){var n=Object($.b)(e)?e.length:e.byteLength;i.sendEvicted(t,n)}else i.sendEvicted(t,0)})),this.configUrl=e,this.peerConnections=new Map,this.initPromise=null,this.initialized=!1,this.notifyPeers.bind(this)}var e,n,r,i;return e=t,(n=[{key:"configure",value:function(t){this.peerConfig=t,this.peerConfig&&(this.node=this.peerConfig.node)}},{key:"setupPeer",value:(i=xt(s.a.mark((function t(e){var n,r,i,o,a=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.peerConfig){t.next=6;break}return t.next=3,Ot(this.configUrl,this.token);case 3:n=t.sent,r=new ct(n),this.configure(r);case 6:return e&&e(this.node),i=this.peerConfig.localEventBusAddress,o=this.peerHandler.bind(this),t.abrupt("return",S.init(this.peerConfig.eventBusEndpointURL,this.peerConfig.signalingConfig,this.peerConfig.eventBusAddress,{onopen:function(){S.registerHandler(i,o)},onreconnect:function(){a.findPeers().then((function(t){a.addPeers(t)}))}}));case 10:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;if(!this.configUrl)return u.a.e("Requires a Config url to initialize peering"),Promise.resolve(this);if(!this.content||this.content.id!==t.id){this.content=t;var n=this;return this.initPromise||(this.initPromise=this.setupPeer(e)),t&&t.id?this.initPromise.then((function(){return n.initialized=!0,n.findPeers()}),(function(t){return u.a.i(t)})).then((function(t){return n.addPeers(t),n})):this.initPromise}return Promise.resolve(this)}},{key:"peerHandler",value:function(t,e){if(t)u.a.e(t);else{u.a.i("peerhandler, ".concat(JSON.stringify(e)));var n,r=e.body,i=r.type,o=r.payload,a=o.from;switch(a.nodeId===this.node.nodeId&&u.a.e("received a message from self"),i){case"PEER_OFFER":S.tick(),u.a.i("creating a connection for peer: "+a.nodeId),this.createPeerConnection(a,o.offer);break;case"PEER_ANSWER":S.tick(),(n=this.getPeerConnection(a))&&n.handleAnswer(o.answer);break;case"ICE_CANDIDATE":S.tick(),(n=this.getPeerConnection(a))&&n.handleIceCandidate(o.candidate);break;default:u.a.e("handled unexpected message type: "+o.type)}}}},{key:"findPeers",value:function(){return S.findPeers(this.node,this.content.id,this.peerConfig.peerLimit).then((function(t){return t.body}),(function(t){return u.a.i(t),[]}))}},{key:"addPeers",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.map((function(t){return new st(t)})).filter((function(e){return!t.peerConnections.has(e.nodeId)})).forEach((function(e){t.createPeerConnection(e)}))}},{key:"getPeerConnection",value:function(t){return t.nodeId===this.node.nodeId?(u.a.e("You cannot peer with yourself!"),null):(this.peerConnections.has(t.nodeId)||u.a.i("connection not intialized"),this.peerConnections.get(t.nodeId))}},{key:"createPeerConnection",value:function(t,e){if(t.nodeId!==this.node.nodeId){if(!this.peerConnections.has(t.nodeId)){var n=new at(this.cache,this.node,t,this.peerConfig.peerConfiguration),r=this;n.onclose=function(){r.peerConnections.delete(t.nodeId),r.peerConnections.size},e?n.answerConnection(e):n.offerConnection(),r.peerConnections.set(t.nodeId,n)}}else u.a.e("getting offer from self")}},{key:"getSource",value:function(t){return this.cache.source?this.cache.source:t}},{key:"put",value:function(t,e,n){var r=this;this.cache.put(t,e),this.notifyHave(t),n&&n>0&&setTimeout((function(){r.cache.evict(t),r.notifyEvicted(t)}),n)}},{key:"lookup",value:function(t){var e=new Map([[q.HAVE,[]],[q.SOURCING,[]],[q.PEERING,[]]]);this.peerConnections.forEach((function(n){if(n.state===E){var r=n.getState(t);if(r){var i=e.get(r);i.push(n),e.set(r,i)}}}));var n=e.get(q.HAVE);if(n.length>0)return n[0].fetchData(t);var r=e.get(q.PEERING);if(r.length>0)return r[0].awaitData(t);var i=e.get(q.SOURCING);return i.length>0&&i[0].awaitData(t)}},{key:"notifyPeering",value:function(t){this.notifyPeers(t,q.PEERING)}},{key:"notifySourcing",value:function(t){this.notifyPeers(t,q.SOURCING)}},{key:"notifyHave",value:function(t){this.notifyPeers(t,q.HAVE)}},{key:"notifyEvicted",value:function(t){this.notifyPeers(t,q.EVICTED)}},{key:"notifyPeers",value:function(t,e){this.peerConnections.forEach((function(n){n&&n.state===E&&n.notify(t,e)}))}},{key:"awaitData",value:function(t,e){var n=this;return new Promise((function(r){n.peerConnections.get(t.nodeId).awaitData(e).then((function(t){return r(t)}))}))}},{key:"sendTransferRecord",value:function(t){try{S.transferRecord(t)}catch(t){u.a.i(t)}}},{key:"sendCached",value:function(t,e){var n=new mt(this.node.nodeId,this.content.id,t,gt,Date.now(),e);this.sendContentStatus(n)}},{key:"sendEvicted",value:function(t,e){var n=new mt(this.node.nodeId,this.content.id,t,bt,Date.now(),e);this.sendContentStatus(n)}},{key:"sendContentStatus",value:function(t){try{S.contentStatus(t)}catch(t){u.a.i(t)}}},{key:"shutdown",value:function(){u.a.i("Shutting down the peer manager"),this.initialized=!1,this.peerConnections.forEach((function(t){return t.close(!0)})),this.peerConnections.clear(),S.close(),this.cache.clear()}}])&&wt(e.prototype,n),r&&wt(e,r),t}(),kt=n(27);function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",(function(){return jt}));var jt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(r.a)(this);var a=n.content,s=a.id,u=a.tenantId,c=a.token,f=n.detectionSource.url;if(this.bindWebRTC=n.bindWebRTC||i.d,this.peerManager=t.peerManagers[s],this.peerManager)this.peerManager.initialized||(this.initPromise=this.peerManager.init({id:s,url:f}));else{var l=Object(o.a)(n.config.sgh||n.signalHost||"signal.kollective.app"),h="".concat(l,"/api/rtc/").concat(u,"/").concat(s),p=new St(h,u,c);t.peerManagers[s]=p,this.initPromise=p.init({id:s,url:f},(function(t){!function(t,e){var n=e.nodeId,r=e.clientId,i=e.version||"1.0.0";t.set({webrtc:{v:i,nodeId:n,agentId:r}},kt.a.Sections.ECDN11)}(e,t)})),this.peerManager=p}}var e,n,a;return e=t,(n=[{key:"init",value:function(){return this.initPromise}},{key:"startDelivery",value:function(t){this.playerBinding=this.bindWebRTC(t,this.peerManager)}},{key:"stop",value:function(){this.playerBinding&&this.playerBinding.stop(),this.peerManager&&this.peerManager.shutdown()}}])&&_t(e.prototype,n),a&&_t(e,a),t}();jt.peerManagers={}},function(t,e,n){var r=n(277);t.exports=function(t){return r(t,5)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(34),i=n(53),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},function(t,e,n){var r=n(3),i=n(56),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(11);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e){t.exports={}},function(t,e,n){var r=n(188),i=n(148).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(41),i=n(20),o=n(77),a=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),f=o(a,c);if(t&&n!=n){for(;c>f;)if((s=u[f++])!=s)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===n)return t||f||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e){t.exports={}},function(t,e,n){var r=n(17),i=n(262);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},function(t,e,n){var r=n(155),i=n(56),o=n(7)("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:a?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var r=n(99),i=n(97),o=n(7)("iterator");t.exports=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){"use strict";var r=n(2),i=n(161).left,o=n(102),a=n(49),s=o("reduce"),u=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!u},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(3);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";var r=n(366),i=n(367);t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},function(t,e,n){"use strict";var r=n(5),i=n(235);function o(t,e,n){i.call(this,t,e,n,{noCredentials:!0})}r(o,i),o.enabled=i.enabled,t.exports=o},function(t,e,n){"use strict";(function(e){t.exports={isOpera:function(){return e.navigator&&/opera/i.test(e.navigator.userAgent)},isKonqueror:function(){return e.navigator&&/konqueror/i.test(e.navigator.userAgent)},hasDomain:function(){if(!e.document)return!0;try{return!!e.document.domain}catch(t){return!1}}}}).call(this,n(6))},function(t,e,n){"use strict";(function(e){var r=n(61),i=n(50),o=n(106);t.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){t.exports.WPrefix in e||(e[t.exports.WPrefix]={})},postMessage:function(n,r){e.parent!==e&&e.parent.postMessage(i.stringify({windowId:t.exports.currentWindowId,type:n,data:r||""}),"*")},createIframe:function(t,n){var i,o,a=e.document.createElement("iframe"),s=function(){clearTimeout(i);try{a.onload=null}catch(t){}a.onerror=null},u=function(){a&&(s(),setTimeout((function(){a&&a.parentNode.removeChild(a),a=null}),0),r.unloadDel(o))},c=function(t){a&&(u(),n(t))};return a.src=t,a.style.display="none",a.style.position="absolute",a.onerror=function(){c("onerror")},a.onload=function(){clearTimeout(i),i=setTimeout((function(){c("onload timeout")}),2e3)},e.document.body.appendChild(a),i=setTimeout((function(){c("timeout")}),15e3),o=r.unloadAdd(u),{post:function(t,e){setTimeout((function(){try{a&&a.contentWindow&&a.contentWindow.postMessage(t,e)}catch(t){}}),0)},cleanup:u,loaded:s}},createHtmlfile:function(n,i){var o,a,s,u=["Active"].concat("Object").join("X"),c=new e[u]("htmlfile"),f=function(){clearTimeout(o),s.onerror=null},l=function(){c&&(f(),r.unloadDel(a),s.parentNode.removeChild(s),s=c=null,CollectGarbage())},h=function(t){c&&(l(),i(t))};c.open(),c.write('<html><script>document.domain="'+e.document.domain+'";<\/script></html>'),c.close(),c.parentWindow[t.exports.WPrefix]=e[t.exports.WPrefix];var p=c.createElement("div");return c.body.appendChild(p),s=c.createElement("iframe"),p.appendChild(s),s.src=n,s.onerror=function(){h("onerror")},o=setTimeout((function(){h("timeout")}),15e3),a=r.unloadAdd(l),{post:function(t,e){try{setTimeout((function(){s&&s.contentWindow&&s.contentWindow.postMessage(t,e)}),0)}catch(t){}},cleanup:l,loaded:f}}},t.exports.iframeEnabled=!1,e.document&&(t.exports.iframeEnabled=("function"===typeof e.postMessage||"object"===typeof e.postMessage)&&!o.isKonqueror())}).call(this,n(6))},function(t,e,n){"use strict";var r=n(2),i=n(37).find,o=n(152),a=n(49),s=!0,u=a("find");"find"in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!u},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(t,e,n){"use strict";function r(t){return"function"===typeof t}n.d(e,"a",(function(){return r}))},function(t,e,n){var r=n(146),i=n(93),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var r=n(56);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(188),i=n(148);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(38);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){"use strict";var r=n(57),i=n(24),o=n(7),a=n(16),s=o("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(7)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(92),i=n(24),o=n(64);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},function(t,e,n){var r=n(3),i=n(7),o=n(159),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){var r=n(279),i=n(280),o=n(281),a=n(282),s=n(283);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(207);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(163),i=n(290),o=n(291),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(73)(Object,"create");t.exports=r},function(t,e,n){var r=n(304);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(211),i=n(212);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],f=o?o(n[c],t[c],c,n,t):void 0;void 0===f&&(f=t[c]),a?i(n,c,f):r(n,c,f)}return n}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var r=n(2),i=n(126);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(t,e,n){"use strict";var r,i,o=n(202),a=n(344),s=RegExp.prototype.exec,u=String.prototype.replace,c=s,f=(r=/a/,i=/b*/g,s.call(r,"a"),s.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),l=a.UNSUPPORTED_Y||a.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(f||h||l)&&(c=function(t){var e,n,r,i,a=this,c=l&&a.sticky,p=o.call(a),d=a.source,y=0,v=t;return c&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),v=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(d="(?: "+d+")",v=" "+v,y++),n=new RegExp("^(?:"+d+")",p)),h&&(n=new RegExp("^"+d+"$(?!\\s)",p)),f&&(e=a.lastIndex),r=s.call(c?n:a,v),c?r?(r.input=r.input.slice(y),r[0]=r[0].slice(y),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:f&&r&&(a.lastIndex=a.global?r.index+r[0].length:e),h&&r&&r.length>1&&u.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=c},function(t,e,n){var r=n(2),i=n(228);r({target:"Array",stat:!0,forced:!n(115)((function(t){Array.from(t)}))},{from:i})},function(t,e,n){"use strict";var r=n(2),i=n(96).indexOf,o=n(102),a=n(49),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),f=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:u||!c||!f},{indexOf:function(t){return u?s.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(2),i=n(11),o=n(111),a=n(77),s=n(20),u=n(41),c=n(116),f=n(7),l=n(117),h=n(49),p=l("slice"),d=h("slice",{ACCESSORS:!0,0:0,1:2}),y=f("species"),v=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!p||!d},{slice:function(t,e){var n,r,f,l=u(this),h=s(l.length),p=a(t,h),d=a(void 0===e?h:e,h);if(o(l)&&("function"!=typeof(n=l.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[y])&&(n=void 0):n=void 0,n===Array||void 0===n))return v.call(l,p,d);for(r=new(void 0===n?Array:n)(g(d-p,0)),f=0;p<d;p++,f++)p in l&&c(r,f,l[p]);return r.length=f,r}})},function(t,e,n){"use strict";var r=n(5),i=n(29).EventEmitter;function o(t,e){i.call(this);var n=this;this.bufferPosition=0,this.xo=new e("POST",t,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",(function(t,e){n._chunkHandler(t,e),n.xo=null;var r=200===t?"network":"permanent";n.emit("close",null,r),n._cleanup()}))}r(o,i),o.prototype._chunkHandler=function(t,e){if(200===t&&e)for(var n=-1;;this.bufferPosition+=n+1){var r=e.slice(this.bufferPosition);if(-1===(n=r.indexOf("\n")))break;var i=r.slice(0,n);i&&this.emit("message",i)}},o.prototype._cleanup=function(){this.removeAllListeners()},o.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},t.exports=o},function(t,e,n){"use strict";var r=n(5),i=n(235);function o(t,e,n,r){i.call(this,t,e,n,r)}r(o,i),o.enabled=i.enabled&&i.supportsCORS,t.exports=o},function(t,e,n){"use strict";n(125),n(226);var r=n(0),i=n(254);e.a=function(t){return function(t){try{return JSON.parse(i.Base64.decode(t))}catch(e){r.a.e("failed to parse jwt input:",t,e)}}(t.split(".")[1])||{}}},function(t,e,n){"use strict";var r=n(1);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"detect",value:function(t){var e=(t||{}).callback;(e=e||r.d)({failures:[]})}}])&&i(e.prototype,n),o&&i(e,o),t}());e.a=o},function(t,e,n){"use strict";(function(e){var r=n(365),i=n(180),o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function u(t){return(t||"").toString().replace(s,"")}var c=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function l(t){var n,r=("undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{}).location||{},i={},a=typeof(t=t||r);if("blob:"===t.protocol)i=new p(unescape(t.pathname),{});else if("string"===a)for(n in i=new p(t,{}),f)delete i[n];else if("object"===a){for(n in t)n in f||(i[n]=t[n]);void 0===i.slashes&&(i.slashes=o.test(t.href))}return i}function h(t){t=u(t);var e=a.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function p(t,e,n){if(t=u(t),!(this instanceof p))return new p(t,e,n);var o,a,s,f,d,y,v=c.slice(),g=typeof e,b=this,m=0;for("object"!==g&&"string"!==g&&(n=e,e=null),n&&"function"!==typeof n&&(n=i.parse),e=l(e),o=!(a=h(t||"")).protocol&&!a.slashes,b.slashes=a.slashes||o&&e.slashes,b.protocol=a.protocol||e.protocol||"",t=a.rest,a.slashes||(v[3]=[/(.*)/,"pathname"]);m<v.length;m++)"function"!==typeof(f=v[m])?(s=f[0],y=f[1],s!==s?b[y]=t:"string"===typeof s?~(d=t.indexOf(s))&&("number"===typeof f[2]?(b[y]=t.slice(0,d),t=t.slice(d+f[2])):(b[y]=t.slice(d),t=t.slice(0,d))):(d=s.exec(t))&&(b[y]=d[1],t=t.slice(0,d.index)),b[y]=b[y]||o&&f[3]&&e[y]||"",f[4]&&(b[y]=b[y].toLowerCase())):t=f(t);n&&(b.query=n(b.query)),o&&e.slashes&&"/"!==b.pathname.charAt(0)&&(""!==b.pathname||""!==e.pathname)&&(b.pathname=function(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(b.pathname,e.pathname)),r(b.port,b.protocol)||(b.host=b.hostname,b.port=""),b.username=b.password="",b.auth&&(f=b.auth.split(":"),b.username=f[0]||"",b.password=f[1]||""),b.origin=b.protocol&&b.host&&"file:"!==b.protocol?b.protocol+"//"+b.host:"null",b.href=b.toString()}p.prototype={set:function(t,e,n){var o=this;switch(t){case"query":"string"===typeof e&&e.length&&(e=(n||i.parse)(e)),o[t]=e;break;case"port":o[t]=e,r(e,o.protocol)?e&&(o.host=o.hostname+":"+e):(o.host=o.hostname,o[t]="");break;case"hostname":o[t]=e,o.port&&(e+=":"+o.port),o.host=e;break;case"host":o[t]=e,/:\d+$/.test(e)?(e=e.split(":"),o.port=e.pop(),o.hostname=e.join(":")):(o.hostname=e,o.port="");break;case"protocol":o.protocol=e.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(e){var a="pathname"===t?"/":"#";o[t]=e.charAt(0)!==a?a+e:e}else o[t]=e;break;default:o[t]=e}for(var s=0;s<c.length;s++){var u=c[s];u[4]&&(o[u[1]]=o[u[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(t){t&&"function"===typeof t||(t=i.stringify);var e,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(e="object"===typeof n.query?t(n.query):n.query)&&(o+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(o+=n.hash),o}},p.extractProtocol=h,p.location=l,p.trimLeft=u,p.qs=i,t.exports=p}).call(this,n(6))},function(t,e,n){"use strict";var r=n(140),i=function(t,e){return t()?new r.a(e()):new XMLHttpRequest};e.a=function(t,e,n){t.setXmlHttpRequestFactory(i.bind(null,e,n))}},function(t,e,n){"use strict";(function(t){n(13),n(22),n(108),n(15),n(72),n(31),n(32),n(80),n(28),n(9),n(25),n(18);var r=n(40),i=n.n(r),o=(n(174),n(0)),a=n(23),s=n(137),u=n(1),c=n(138),f=n(84),l=n(135),h=n(87),p=n(258),d=n(30),y=n(259);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function w(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){m(o,r,i,a,s,"next",t)}function s(t){m(o,r,i,a,s,"throw",t)}a(void 0)}))}}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var x=u.c.DASH,O=u.c.HLS,T=u.c.SMOOTH,S=function(){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Object(a.a)(this),this.sdkConfig=n,this.player=t,this.playReady=!1,this.sdnPlaybackFailed=!1,this.configPromise=Promise.resolve(null),this.setupPlayer(t)}var n,r,v,b,m;return n=e,(r=[{key:"getContext",value:function(){return this.sdkConfig.integration.name}},{key:"getSdnName",value:function(){return d.b}},{key:"initContext",value:function(){}},{key:"prepareReporter",value:function(){}},{key:"setupPlayer",value:function(e){var n=this;this.initContext(),e.addEventListener(t.amp.eventName.sourceset,(function(){if(n.sdnPlaybackFailed)return n.playReady=!0,void o.a.f(n.getContext()+":sdn.playback.failed");n.cdnSourceList=e.options_.sourceList,n.configPromise&&n.configPromise.then(function(){var t=w(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.config=e,o.a.i(n.getContext()+":sdn.config",e),n.prepareReporter(),t.next=5,n.startDelivery();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){o.a.f(n.getContext()+":sdn.playback.failed",t),n.player.trigger({type:d.c.sdnInitFailure},"no.cfg",t),n.playReady=!0}))}));var r=e.currentTechName();this.playerSourceType=Object.getOwnPropertyNames(d.a).find((function(t){return d.a[t].tech===r})),this.compatibleDeliveryModes=function(){var t=u.a.ECDN10,e=u.a.ECDN11,r=u.a.WEBRTC;switch(n.playerSourceType){case x:return;case O:return[e,r];case T:return[t];default:return[]}}(),Object(l.a)(e,(function(){return n.enableWebRTC}),(function(){return n.playbackModule.peerManager}))}},{key:"getVideoElement",value:function(){return Object(f.a)(this.player)}},{key:"prepareSourceInfo",value:(m=w(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{sources:this.cdnSourceList});case 1:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"preparePublishingInfo",value:function(t){return{detection:t}}},{key:"startDelivery",value:(b=w(i.a.mark((function t(){var e,n,r,o,a,u=this;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.prepareSourceInfo();case 2:if(this.sourceInfo=t.sent,e=Object(y.a)(this.cdnSourceList)){t.next=8;break}return this.fallbackToCDN(),this.playReady=!0,t.abrupt("return");case 8:n=this.reporter,r=this.config,o=this.compatibleDeliveryModes,a={url:e,sourceType:x},Object(s.a)(n,a,r,o).then((function(t){return u.preparePublishingInfo(t)})).then((function(t){return Promise.resolve(Object(c.a)(t.detection.mode)).then((function(e){var r=e===h.a;u.enableWebRTC=r;var i=u.config,o=u.switchToCDN,s=u.playerSourceType;u.playbackModule=new e(n,g({},t,{detectionSource:a,sourceType:s,config:i,switchToCDN:o}),u.sdkConfig)}))})).then((function(){return u.playbackModule.init()})).then((function(){return u.playbackModule.startDelivery(u.sourceInfo)})).then(this.playKollective).catch(this.fallbackToCDN).then((function(){var t=u.getVideoElement();t?(u.reporter.attachVideoElement(t),u.playReady=!0):(u.reporter.attachAmpPlayer(u.player),u.playReady=!0)})).catch(this.fallbackToCDN);case 11:case"end":return t.stop()}}),t,this)}))),function(){return b.apply(this,arguments)})},{key:"switchToCDN",value:function(t){o.a.e(this.getContext()+":switch2cdn:"+t),this.sdnPlaybackFailed=!0,this.cdnSourceList&&this.player.src(this.cdnSourceList)}},{key:"fallbackToCDN",value:function(t){o.a.e(this.getContext()+":fallback2cdn:"+t),this.playbackModule&&this.playbackModule.stop(),this.sdnPlaybackFailed=!0,this.player.options_.sourceList=this.cdnSourceList,this.player.options_.sdn.name=null}},{key:"playKollective",value:function(t){this.player.options_.sourceList=Object(p.a)(t,this.cdnSourceList),this.player.options_.sdn.name=this.getSdnName()}},{key:"stop",value:function(){o.a.i("Stopping Kollective SDK plugin"),this.playbackModule&&this.playbackModule.stop(),this.reporter&&this.reporter.cleanup()}}])&&E(n.prototype,r),v&&E(n,v),e}();e.a=S}).call(this,n(6))},function(t,e,n){"use strict";n(13),n(47),n(48),n(22),n(15),n(14),n(31),n(32),n(28),n(9),n(25),n(71),n(21),n(18),n(26);var r=n(256),i=n.n(r),o=n(1),a=(n(101),n(27));function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=o.a.ECDN10,c=o.a.ECDN11,f=o.a.WEBRTC,l=o.b.Live,h=o.b.VOD,p=function(t,e,n){var r,i=e||{},o=i.tpe,p=i.eae,d=i.wel,y=i.wev,v=i.wpl,g=i.wpv;o=null==o||!!o;var b=(n||[u,c,f]).reduce((function(t,e){return t[e]=!0,t}),{}),m=function(){try{var t=window.RTCPeerConnection;return!(!t||!t.prototype.createDataChannel)}catch(t){return!1}}(),w=b[f],E=b[u]&&o,x=b[c]&&p,O=!!v,T=!!g,S=w&&d,k=w&&y;m||!S&&!k||t.add({type:a.a.Type.WEBRTC,success:!1,reason:a.a.Error.UNSUPPORTED}),S=S&&m,k=k&&m;var _=p||d||y||!o;return{modeOrder:(r={},s(r,l,[x&&c,O&&S&&f,E&&u,!O&&S&&f].filter(Boolean)),s(r,h,[x&&c,T&&k&&f,E&&u,!T&&k&&f].filter(Boolean)),r),platform:_?c:u}},d=o.a.ECDN10,y=o.a.ECDN11,v=n(257),g=n.n(v);function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E=function(t,e,n,r){return new Promise((function(i,s){e.detect(m({callback:function(e){var n=e.success,u=e.failures;if(r===o.a.ECDN10){var c=a.a.Type.ECDN10;if((u||[]).forEach((function(e){var n=e.start,r=e.t,i=e.protocol,o=e.request.status;t.add({type:c,method:i,t:n}),t.add({type:c,method:i,t:r,status:o,success:!1})})),n){var f=n.start,l=n.protocol,h=n.data,p=h.version,d=h.blackout;if(t.add({type:c,method:l,t:f}),t.add(m({type:c,method:l,success:!0,v:p},d&&{blackout:d})),g()(h.version,"10.6")<0)return void s()}}n?i(n.data):s()}},n),t)}))},x=n(43),O=n(133);function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k=o.a.ECDN10,_=o.a.ECDN11,j=o.a.WEBRTC,A=function(t,e,n){switch(e){case j:return t.add({type:a.a.Type.WEBRTC,success:!0}),Promise.resolve({mode:e});case _:return E(t,O.a,n).then((function(t){return{mode:e,data:t}}));case k:return E(t,x.a,n,e).then((function(t){var r=t.vod_optout,i=1==r||0==r?r:n.voo,o={mode:e,data:t};return i?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){S(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},o,{vodOptOut:i}):o}));default:return Promise.reject({mode:null})}},I=n(141);function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(e,"a",(function(){return D}));var L=o.b.Live,N=o.b.VOD;function D(t,e,n,r){var o=p(t,n,r),s=o.modeOrder,u=o.platform;return function r(i,o){var a=function(){return Promise.resolve(o||Object(I.a)(e))},s=R(i.shift()||[],2),u=s[0],c=s[1];return u===c||o?A(t,o===L?u:c,n).then((function(t){return t.vodOptOut?a().then((function(e){return e===L?{mode:t.mode,data:t.data,playType:e}:Promise.reject(e)})):function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){P(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{playType:o})})).catch((function(t){if(t instanceof Error)throw t;return t&&null===t.mode?t:r(i,t||o)})):a().then((function(t){return i.unshift([u,c]),r(i,t)}))}(i()(s[L],s[N])).then((function(e){return e.platform=u,function(t,e){var n=e.mode,r=e.platform,i=e.data;switch(t.platform=r,n){case d:var o={v:i.version,nodeId:i.node_id,machineName:i.machine_name,machineUserGuid:i.machine_user_guid};t.set({agent:o},a.a.Sections.ECDN10);break;case y:default:;}}(t,e),e}))}},function(t,e,n){"use strict";n(9),n(25),n(13),n(22),n(108),n(15),n(14),n(60),n(72),n(79),n(31),n(32),n(28),n(21),n(18),n(26);var r=n(0),i=n(23),o=n(1),a=n(43),s="manifestProgress",u="handleError",c="httpError",f="cancelStream",l="switchToCDN",h="artStatus",p="100",d=404,y="ended",v="shutdown",g=function(t){var e=t.cmd,n=t.params,i=t.onProgress,o=t.onReady,a=t.switchToCDN;switch(e){case s:return void(n&&(n.percent===p?o():i(parseInt(n.percent))));case u:case c:return void(n&&n.code===d&&(r.a.f("ecdn10:pac.fnf:"+(n.message?n.message:"")),a()));case f:return r.a.f("ecdn10:pac.cs:"+(n&&n.message?n.message:"")),void a();case l:return r.a.f("ecdn10:pac.s2cdn:"+(n&&n.message?n.message:"")),void a();case h:return void(n&&(n.status!==y&&n.status!==v||(r.a.f("ecdn10:pac.art:"+n.status),a())));default:return}},b=n(141);function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var w=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.timeout=e.tas||8e4,this.timeoutLive=e.tle||this.timeout,this.timeoutVOD=e.tvd||this.timeout,this.promise=new Promise((function(t,e){n.reject=e}))}var e,n,r;return e=t,(n=[{key:"init",value:function(t,e,n,r){var i=this;return Promise.resolve(this.timeoutLive===this.timeoutVOD?this.timeoutLive:Promise.resolve(null!=e?e:Object(b.a)({url:n,sourceType:r})).then((function(t){return t===o.b.Live?i.timeoutLive:i.timeoutVOD})).catch((function(){return Math.min(i.timeoutLive,i.timeoutVOD)}))).then((function(e){e=Math.max(0,e-t),setTimeout(i.reject,e,"t.a.s")}))}},{key:"getPromise",value:function(){return this.promise}}])&&m(e.prototype,n),r&&m(e,r),t}();function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var S=[{mime:"application/vnd.ms-sstr+xml",type:o.c.SMOOTH},{mime:"application/dash+xml",type:o.c.DASH},{mime:"application/vnd.apple.mpegurl",type:o.c.HLS}],k=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(i.a)(this);var o=n.content,a=n.detection,s=n.detectionSource,u=n.sourceType,c=n.switchToCDN,f=n.realmId,l=n.realmTicket,h=n.config;this.urn=o.urn,this.sourceType=u,this.switchToCDN=c,this.ktoken=a.data.ktoken,this.authParams={realmId:f,realmTicket:l,appContext:r.integration.name},this.ts=0,this.progress=0,this.longpollStopped=!1;var p=new w(h);p.init(e.timestamp(),a.playType,s.url,u),this.withTimeout=function(t){return Promise.race([p.getPromise(),t])}}var e,n,o;return e=t,(n=[{key:"init",value:function(){var t=this;return this.withTimeout(new Promise((function(e,n){a.a.startSession({body:Object.assign({ktoken:t.ktoken},t.authParams),onSuccess:function(t,n){return e({data:t,request:n})},onFailure:n,onTimeout:n})})))}},{key:"startDelivery",value:function(t){var e=this;return this.longpollStopped=!1,this.withTimeout(new Promise((function(n,r){a.a.prefetch({urn:e.urn,streamType:e.sourceType,params:{ktoken:e.ktoken},onSuccess:function(){return n(e.longpollPromise(t))},onFailure:function(i){return e.handlePrefetchFailure(i,t,n,r)},onTimeout:function(){return n(e.longpollPromise(t))}})})))}},{key:"handlePrefetchFailure",value:function(t,e,n,r){t&&t.status>=400&&t.status<500?n(this.longpollPromise(e)):r()}},{key:"longpollPromise",value:function(t){var e=this;return new Promise((function(n,r){e.longpoll(t,n,r)}))}},{key:"longpoll",value:function(t,e,n){var i=this;a.a.longpoll({params:{ktoken:this.ktoken,ts:this.ts},onSuccess:function(o){var a=o.ts,s=o.cmd,u=o.params;i.ts=a,g({cmd:s,params:u,onReady:function(){r.a.i("ecdn10:a.ready"),e(i.prepareSources(t)),i.listenToAgentCommands()},onProgress:function(o){r.a.i("ecdn10:a.progress="+o),i.progress>0&&0==o?i.stop().then((function(){return i.startDelivery(t)})):(i.progress=o,i.longpoll(t,e,n))},switchToCDN:i.processSwitchToCDN})},onFailure:function(t){r.a.f("ecdn10:a.lp.f="+t.status),n()},onTimeout:function(){r.a.i("ecdn10:a.lp.to"),i.longpoll(t,e,n)}})}},{key:"listenToAgentCommands",value:function(){var t=this;this.longpollStopped||a.a.longpoll({params:{ktoken:this.ktoken,ts:this.ts},onSuccess:function(e){var n=e.ts,r=e.cmd,i=e.params;t.ts=n,g({cmd:r,params:i,switchToCDN:t.processSwitchToCDN}),t.listenToAgentCommands()},onFailure:function(t){r.a.f("ecdn10:a.ac.f="+t.status)},onTimeout:function(){r.a.i("ecdn10:a.ac.to"),t.listenToAgentCommands()}})}},{key:"processSwitchToCDN",value:function(){this.stop(),this.switchToCDN&&this.switchToCDN()}},{key:"prepareSources",value:function(t){var e=this;if(t&&t.sources){var n=t.sources.map((function(t){var n=a.a.createStreamURL(e.urn,S.find((function(e){return e.mime===t.mime})).type);return x({},t,{kurl:n})}));return x({},t,{sources:n})}return t}},{key:"stop",value:function(){var t=this;return this.progress=0,this.longpollStopped=!0,new Promise((function(e){a.a.stopStream({params:Object.assign({urn:t.urn},t.authParams),onSuccess:e,onFailure:e,onTimeout:e})}))}}])&&T(e.prototype,n),o&&T(e,o),t}();function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var j=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"init",value:function(){}},{key:"startDelivery",value:function(){}},{key:"stop",value:function(){}}])&&_(e.prototype,n),r&&_(e,r),t}(),A=n(87),I=o.a.ECDN10,C=o.a.ECDN11,P=o.a.WEBRTC;e.a=function(t){switch(t){case P:return A.a;case I:return k;case C:return j;default:return Promise.reject("no.p")}}},function(t,e,n){"use strict";function r(t){return null!==t&&"object"===typeof t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n(59),n(15),n(129);var r=n(0),i=n(23),o=n(10),a=n(33),s=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),u=n(42),c=new u.a((function(t){return t.complete()}));function f(t){return t?function(t){return new u.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):c}var l=function(){function t(t){if(this.total=t,this.total<0)throw new s}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.total))},t}(),h=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return o.a(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(a.a),p=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return o.a(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return o.a(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n(46).a)),d=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),y=new(function(t){function e(n,r){void 0===r&&(r=d.now);var i=t.call(this,n,(function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return o.a(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(d))(p),v=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}();var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(a.a),b=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return o.a(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(a.a),m=n(53);function w(){return"function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var E=w(),x=n(89);var O=n(139),T=function(t){if(t&&"function"===typeof t[x.a])return o=t,function(t){var e=o[x.a]();if("function"!==typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((i=t)&&"number"===typeof i.length&&"function"!==typeof i)return r=t,function(t){for(var e=0,n=r.length;e<n&&!t.closed;e++)t.next(r[e]);t.complete()};if(function(t){return!!t&&"function"!==typeof t.subscribe&&"function"===typeof t.then}(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,m.a),t};if(t&&"function"===typeof t[E])return e=t,function(t){for(var n=e[E]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"===typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,i,o,a=Object(O.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+a+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function S(t,e,n){return void 0===n&&(n=y),function(r){var i,o=(i=t)instanceof Date&&!isNaN(+i),a=o?+t-n.now():Math.abs(t);return r.lift(new k(a,o,e,n))}}var k=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new _(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),_=function(t){function e(e,n,r,i,o){var a=t.call(this,e)||this;return a.absoluteTimeout=n,a.waitFor=r,a.withObservable=i,a.scheduler=o,a.action=null,a.scheduleTimeout(),a}return o.a(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(function(t,e,n,r,i){if(void 0===i&&(i=new b(t,n,r)),!i.closed)return e instanceof u.a?e.subscribe(i):T(e)(i)}(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(g);function j(t){var e=t.error;t.subscriber.error(e)}function A(t,e){return void 0===e&&(e=y),S(t,function(t,e){return e?new u.a((function(n){return e.schedule(j,0,{error:t,subscriber:n})})):new u.a((function(e){return e.error(t)}))}(new v),e)}var I=n(1),C=n(54);function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(t,e,n){return e&&R(t.prototype,e),n&&R(t,n),t}n.d(e,"a",(function(){return V}));var N=XMLHttpRequest,D=N.HEADERS_RECEIVED,U=N.LOADING,M=N.DONE,F=["readyState","response","responseText","status","statusText"],B=["onabort","onerror","ontimeout","onreadystatechange","onload","onloadend","onloadstart","onprogress"],H=function(t){return t},q=function(t,e){if(!(t instanceof Event))return t;var n={};for(var r in t)n[r]=t[r];return n.currentTarget=e,n.target=e,n},z=function(){function t(e,n){P(this,t),Object(i.a)(this),this.peerManager=n,this.manifestUrl=n.content.url,this.kxhr=e,this.xhr=new XMLHttpRequest,this.state={},this.mirror(),this.setupHooks()}return L(t,[{key:"setupHooks",value:function(){var t=this;B.forEach((function(e){t.xhr[e]=function(n){if(!t.peering){t.mirror();var r=q(n,t.kxhr);if((t.kxhr[e]||I.d).bind(t.kxhr)(r),t.intercepting){var i="".concat(e,"Hook");(t[i]||I.d)(n)}}}}))}},{key:"mirror",value:function(){var t=this;F.forEach((function(e){if(!t.peering)try{t.state[e]=t.xhr[e]}catch(t){}t.kxhr[e]=t.state[e]}))}},{key:"open",value:function(){var t;this.url||(this.method=arguments.length<=0?void 0:arguments[0],this.url=arguments.length<=1?void 0:arguments[1],(t=this.xhr).open.apply(t,arguments),this.mirror())}},{key:"send",value:function(t){this.intercepting=!t&&/^GET$/gi.test(this.method)&&this.url!==this.manifestUrl,this.timeout=this.kxhr.timeout,this.xhr.timeout=this.timeout,this.xhr.msCaching=this.kxhr.msCaching,this.xhr.responseType=this.kxhr.responseType||"",this.peerManager&&this.peerManager.initialized&&this.intercepting?this.intercept():(this.xhr.send(t),this.mirror())}},{key:"getResponseHeader",value:function(){var t;if(!this.peering)return(t=this.xhr).getResponseHeader.apply(t,arguments);var e=arguments.length<=0?void 0:arguments[0],n=/^content-type$/gi.test(e);return n?/Fragments\(video/gi.test(this.url)?"video/mp4":/Fragments\(audio/gi.test(this.url)?"audio/mp4":void 0:void 0}},{key:"setRequestHeader",value:function(){var t;this.xhr&&(t=this.xhr).setRequestHeader.apply(t,arguments)}},{key:"abort",value:function(){if(this.peering){if(!this.kxhr)return;this.kxhr.onabort(),this.cleanup()}else{var t;(t=this.xhr).abort.apply(t,arguments)}}},{key:"onabortHook",value:function(){this.cleanup()}},{key:"intercept",value:function(){this.interceptTime=performance.now();var t=this.peerManager.lookup(this.url);t?this.peerContent(t):this.sourceContent()}},{key:"peerContent",value:function(t){var e=this,n=this.peerManager,i=this.url,o=this.interceptTime,a=this.timeout;this.peering=!0,n.notifyPeering(i);var s,u,c=Object(C.a)(n.node.nodeId,n.tenantId,null,n.content.id,i,o);this.subscription=t.pipe((u=1,function(t){return 0===u?f():t.lift(new l(u))}),a?A(a):H).subscribe({next:function(t){var o=t.peerId,a=t.payload,u=t.ts;if(s=a.slice(0).buffer){c.startLoading(u,o);var f=a.byteLength;c.stop(u,f),n.put(i,a)}else r.a.e("Received null or empty payload for ".concat(e.url," from peer ").concat(o))},error:function(t){r.a.e("Failed to receive from peer.",t);var i=t.peerId,o=t.error;c.fail(performance.now(),i,o?o.statusCode:500),n.sendTransferRecord(c),e.sourceContent()},complete:function(){null==s||void 0==s?(r.a.e("Received null or empty payload for ".concat(e.url,". Sourcing content")),e.sourceContent()):(n.sendTransferRecord(c),e.kxhr&&(function(){if(e.kxhr.onloadstart){var t=q(new ProgressEvent("loadstart"),e.kxhr);e.kxhr.onloadstart(t)}}(),function(){if(e.state.status=200,e.state.statusText="OK",e.state.readyState=D,e.mirror(),e.kxhr.onreadystatechange){var t=q(new Event("readystatechange"),e.kxhr);e.kxhr.onreadystatechange(t)}}(),function(t){if(r.a.enabled()&&r.a.i(e.peering?"peering":"sourcing",t.byteLength,t,e.url),e.state.response=t,e.state.readyState=U,e.mirror(),e.kxhr.onreadystatechange){var n=q(new Event("readystatechange"),e.kxhr);e.kxhr.onreadystatechange(n)}}(s),function(){if(e.state.readyState=M,e.mirror(),e.kxhr.onreadystatechange){var t=q(new Event("readystatechange"),e.kxhr);e.kxhr.onreadystatechange(t)}}(),function(){if(e.kxhr.onload){var t=q(new ProgressEvent("load"),e.kxhr);e.kxhr.onload(t)}}(),function(){if(e.kxhr.onloadend){var t=q(new ProgressEvent("loadend"),e.kxhr);e.kxhr.onloadend(t)}e.cleanup()}()))}})}},{key:"sourceContent",value:function(){var t=this,e=this.peerManager,n=this.url,r=this.xhr,i=this.interceptTime,o=performance.now();this.peering=!1;var a=o-i;if(this.timeout&&(r.timeout=Math.max(0,r.timeout-a),r.timeout<=50))return setTimeout((function(){var e=q(new ProgressEvent("timeout"));t.kxhr.ontimeout(e),t.cleanup()}),r.timeout);this.sourceRequestEvent=Object(C.b)(e.node.nodeId,e.tenantId,e.content.url,e.content.id,n,o),e.notifySourcing(n),this.xhr.send(),this.mirror()}},{key:"onreadystatechangeHook",value:function(){var t=this.peerManager,e=this.xhr,n=this.url,i=this.sourceRequestEvent,o=e.readyState,a=e.status,s=performance.now();if(null!=i.loadInit||o!==D&&o!==U||i.startLoading(s),o===M&&a>=200&&a<300){var u=e.response.slice(0),c=u.byteLength;r.a.enabled()&&r.a.i(this.peering?"peering":"sourcing",c,e.response,this.url),t.put(n,u),i.stop(s,c),t.sendTransferRecord(i)}}},{key:"onloadendHook",value:function(){this.cleanup()}},{key:"cleanup",value:function(){var t=this;B.forEach((function(e){t.xhr[e]=null})),this.xhr=null,this.kxhr=null}}]),t}(),V=function(){function t(e){P(this,t),Object(i.a)(this),this.kollective=new z(this,e)}return L(t,[{key:"open",value:function(){var t;(t=this.kollective).open.apply(t,arguments)}},{key:"setRequestHeader",value:function(){var t;(t=this.kollective).setRequestHeader.apply(t,arguments)}},{key:"send",value:function(){var t;(t=this.kollective).send.apply(t,arguments)}},{key:"getResponseHeader",value:function(){var t;return(t=this.kollective).getResponseHeader.apply(t,arguments)}},{key:"abort",value:function(){var t;(t=this.kollective).abort.apply(t,arguments)}},{key:"addEventListener",value:function(){}}]),t}()},function(t,e,n){"use strict";n(9),n(25);var r=n(85),i=(n(22),n(128),n(361),n(60),n(129),n(125),n(226),n(362),n(134)),o=n.n(i),a=function(t){return t.indexOf("#EXT-X-ENDLIST")<0},s=n(1),u=function(t){return Object(r.a)({url:t,expectJson:!1}).then((function(t){return t.data}))},c=function(t,e){var n=function(t,e){var n=t.split("\n").map((function(t){return t.trim()})).filter(Boolean).filter((function(t){return"#"!==t[0]}))[0];if(!n||!e||n.indexOf("://")>=0)return n;n="/"===n[0]?n:"/".concat(n);var r=new o.a(e);return r.query="",r.hash="",r.pathname=(r.pathname||"").split("/").slice(0,-1).join("/")+n,"".concat(r)}(t,e);return n?u(n).then(a):Promise.reject()};e.a=function(t){var e=t.url,n=t.sourceType;return u(e).then((function(t){switch(n){case s.c.HLS:return c(t,e);case s.c.DASH:return function(t){try{return"static"!==(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("MPD")[0].attributes.getNamedItem("type").value}catch(t){return!0}}(t);default:return Promise.reject()}})).then((function(t){return t?s.b.Live:s.b.VOD})).catch((function(){throw Error("Play type cannot be determined")}))}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(4),i=n(11),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,n){var r=n(4),i=n(35);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(185),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r=n(76),i=n(185);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(57),i=n(95),o=n(149),a=n(17);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(3),i=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},function(t,e,n){var r=n(3);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,n){var r=n(7),i=n(66),o=n(24),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},function(t,e,n){"use strict";var r=n(2),i=n(196),o=n(78),a=n(98),s=n(58),u=n(35),c=n(38),f=n(7),l=n(76),h=n(97),p=n(197),d=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,v=f("iterator"),g=function(){return this};t.exports=function(t,e,n,f,p,b,m){i(n,e,f);var w,E,x,O=function(t){if(t===p&&j)return j;if(!y&&t in k)return k[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},T=e+" Iterator",S=!1,k=t.prototype,_=k[v]||k["@@iterator"]||p&&k[p],j=!y&&_||O(p),A="Array"==e&&k.entries||_;if(A&&(w=o(A.call(new t)),d!==Object.prototype&&w.next&&(l||o(w)===d||(a?a(w,d):"function"!=typeof w[v]&&u(w,v,g)),s(w,T,!0,!0),l&&(h[T]=g))),"values"==p&&_&&"values"!==_.name&&(S=!0,j=function(){return _.call(this)}),l&&!m||k[v]===j||u(k,v,j),h[e]=j,p)if(E={values:O("values"),keys:b?j:O("keys"),entries:O("entries")},m)for(x in E)!y&&!S&&x in k||c(k,x,E[x]);else r({target:e,proto:!0,forced:y||S},E);return E}},function(t,e,n){var r=n(3);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r={};r[n(7)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(17),i=n(157),o=n(20),a=n(67),s=n(100),u=n(198),c=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,f,l){var h,p,d,y,v,g,b,m=a(e,n,f?2:1);if(l)h=t;else{if("function"!=typeof(p=s(t)))throw TypeError("Target is not iterable");if(i(p)){for(d=0,y=o(t.length);y>d;d++)if((v=f?m(r(b=t[d])[0],b[1]):m(t[d]))&&v instanceof c)return v;return new c(!1)}h=p.call(t)}for(g=h.next;!(b=g.call(h)).done;)if("object"==typeof(v=u(h,m,b.value,f))&&v&&v instanceof c)return v;return new c(!1)}).stop=function(t){return new c(!0,t)}},function(t,e,n){var r=n(7),i=n(97),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},function(t,e,n){var r,i,o,a=n(4),s=n(3),u=n(56),c=n(67),f=n(191),l=n(143),h=n(199),p=a.location,d=a.setImmediate,y=a.clearImmediate,v=a.process,g=a.MessageChannel,b=a.Dispatch,m=0,w={},E=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},x=function(t){return function(){E(t)}},O=function(t){E(t.data)},T=function(t){a.postMessage(t+"",p.protocol+"//"+p.host)};d&&y||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return w[++m]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(m),m},y=function(t){delete w[t]},"process"==u(v)?r=function(t){v.nextTick(x(t))}:b&&b.now?r=function(t){b.now(x(t))}:g&&!h?(o=(i=new g).port2,i.port1.onmessage=O,r=c(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(T)?r="onreadystatechange"in l("script")?function(t){f.appendChild(l("script")).onreadystatechange=function(){f.removeChild(this),E(t)}}:function(t){setTimeout(x(t),0)}:(r=T,a.addEventListener("message",O,!1))),t.exports={set:d,clear:y}},function(t,e,n){var r,i,o=n(4),a=n(200),s=o.process,u=s&&s.versions,c=u&&u.v8;c?i=(r=c.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},function(t,e,n){var r=n(65),i=n(75),o=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e,n){var r=n(68),i=n(36),o=n(91),a=n(20),s=function(t){return function(e,n,s,u){r(n);var c=i(e),f=o(c),l=a(c.length),h=t?l-1:0,p=t?-1:1;if(s<2)for(;;){if(h in f){u=f[h],h+=p;break}if(h+=p,t?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:l>h;h+=p)h in f&&(u=n(u,f[h],h,c));return u}};t.exports={left:s(!1),right:s(!0)}},function(t,e,n){var r=n(73)(n(45),"Map");t.exports=r},function(t,e,n){var r=n(45).Symbol;t.exports=r},function(t,e,n){var r=n(214),i=n(316),o=n(169);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(209),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,n(124)(t))},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(208),i=n(217);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){var r=n(220),i=n(221),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},function(t,e,n){var r=n(327),i=n(162),o=n(328),a=n(329),s=n(330),u=n(120),c=n(210),f=c(r),l=c(i),h=c(o),p=c(a),d=c(s),y=u;(r&&"[object DataView]"!=y(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=y(new i)||o&&"[object Promise]"!=y(o.resolve())||a&&"[object Set]"!=y(new a)||s&&"[object WeakMap]"!=y(new s))&&(y=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case f:return"[object DataView]";case l:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=y},function(t,e,n){var r=n(333);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){var r=n(94),i=n(11),o=n(19),a=n(24).f,s=n(93),u=n(231),c=s("meta"),f=0,l=Object.isExtensible||function(){return!0},h=function(t){a(t,c,{value:{objectID:"O"+ ++f,weakData:{}}})},p=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,c)){if(!l(t))return"F";if(!e)return"E";h(t)}return t[c].objectID},getWeakData:function(t,e){if(!o(t,c)){if(!l(t))return!0;if(!e)return!1;h(t)}return t[c].weakData},onFreeze:function(t){return u&&p.REQUIRED&&l(t)&&!o(t,c)&&h(t),t}};r[c]=!0},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n,r){var i=e&&e.prototype instanceof f?e:f,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=m(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var f=u(t,e,n);if("normal"===f.type){if(r=n.done?"completed":"suspendedYield",f.arg===c)continue;return{value:f.arg,done:n.done}}"throw"===f.type&&(r="completed",n.method="throw",n.arg=f.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var c={};function f(){}function l(){}function h(){}var p={};p[i]=function(){return this};var d=Object.getPrototypeOf,y=d&&d(d(O([])));y&&y!==e&&n.call(y,i)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function b(t){var e;this._invoke=function(r,i){function o(){return new Promise((function(e,o){!function e(r,i,o,a){var s=u(t[r],t,i);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&n.call(f,"__await")?Promise.resolve(f.__await).then((function(t){e("next",t,o,a)}),(function(t){e("throw",t,o,a)})):Promise.resolve(f).then((function(t){c.value=t,o(c)}),(function(t){return e("throw",t,o,a)}))}a(s.arg)}(r,i,e,o)}))}return e=e?e.then(o,o):o()}}function m(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,m(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function O(t){if(t){var e=t[i];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return l.prototype=v.constructor=h,h.constructor=l,h[a]=l.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===l||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},g(b.prototype),b.prototype[o]=function(){return this},t.AsyncIterator=b,t.async=function(e,n,r,i){var o=new b(s(e,n,r,i));return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},g(v),v[a]="Generator",v[i]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=O,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:O(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){"use strict";(function(e){var r=n(29).EventEmitter,i=n(5),o=n(61),a=n(106),s=n(39);function u(t,e,n){var i=this;r.call(this),setTimeout((function(){i._start(t,e,n)}),0)}i(u,r),u.prototype._start=function(t,n,r){var i=this,a=new e.XDomainRequest;n=s.addQuery(n,"t="+ +new Date),a.onerror=function(){i._error()},a.ontimeout=function(){i._error()},a.onprogress=function(){a.responseText,i.emit("chunk",200,a.responseText)},a.onload=function(){i.emit("finish",200,a.responseText),i._cleanup(!1)},this.xdr=a,this.unloadRef=o.unloadAdd((function(){i._cleanup(!0)}));try{this.xdr.open(t,n),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch(t){this._error()}},u.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},u.prototype._cleanup=function(t){if(this.xdr){if(this.removeAllListeners(),o.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch(t){}this.unloadRef=this.xdr=null}},u.prototype.close=function(){this._cleanup(!0)},u.enabled=!(!e.XDomainRequest||!a.hasDomain()),t.exports=u}).call(this,n(6))},function(t,e,n){"use strict";(function(e){var r=n(5),i=n(239),o=n(177);t.exports=function(t){function n(e,n){i.call(this,t.transportName,e,n)}return r(n,i),n.enabled=function(n,r){if(!e.document)return!1;var a=o.extend({},r);return a.sameOrigin=!0,t.enabled(a)&&i.enabled()},n.transportName="iframe-"+t.transportName,n.needBody=!0,n.roundTrips=i.roundTrips+t.roundTrips-1,n.facadeTransport=t,n}}).call(this,n(6))},function(t,e,n){"use strict";t.exports={isObject:function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,n,r=1,i=arguments.length;r<i;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}}},function(t,e,n){"use strict";function r(t){this.type=t}r.prototype.initEvent=function(t,e,n){return this.type=t,this.bubbles=e,this.cancelable=n,this.timeStamp=+new Date,this},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,t.exports=r},function(t,e,n){"use strict";var r=n(4),i=n(16),o=n(246),a=n(35),s=n(113),u=n(3),c=n(69),f=n(65),l=n(20),h=n(247),p=n(396),d=n(78),y=n(98),v=n(95).f,g=n(24).f,b=n(248),m=n(58),w=n(44),E=w.get,x=w.set,O=r.ArrayBuffer,T=O,S=r.DataView,k=S&&S.prototype,_=Object.prototype,j=r.RangeError,A=p.pack,I=p.unpack,C=function(t){return[255&t]},P=function(t){return[255&t,t>>8&255]},R=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},L=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},N=function(t){return A(t,23,4)},D=function(t){return A(t,52,8)},U=function(t,e){g(t.prototype,e,{get:function(){return E(this)[e]}})},M=function(t,e,n,r){var i=h(n),o=E(t);if(i+e>o.byteLength)throw j("Wrong index");var a=E(o.buffer).bytes,s=i+o.byteOffset,u=a.slice(s,s+e);return r?u:u.reverse()},F=function(t,e,n,r,i,o){var a=h(n),s=E(t);if(a+e>s.byteLength)throw j("Wrong index");for(var u=E(s.buffer).bytes,c=a+s.byteOffset,f=r(+i),l=0;l<e;l++)u[c+l]=f[o?l:e-l-1]};if(o){if(!u((function(){O(1)}))||!u((function(){new O(-1)}))||u((function(){return new O,new O(1.5),new O(NaN),"ArrayBuffer"!=O.name}))){for(var B,H=(T=function(t){return c(this,T),new O(h(t))}).prototype=O.prototype,q=v(O),z=0;q.length>z;)(B=q[z++])in T||a(T,B,O[B]);H.constructor=T}y&&d(k)!==_&&y(k,_);var V=new S(new T(2)),G=k.setInt8;V.setInt8(0,2147483648),V.setInt8(1,2147483649),!V.getInt8(0)&&V.getInt8(1)||s(k,{setInt8:function(t,e){G.call(this,t,e<<24>>24)},setUint8:function(t,e){G.call(this,t,e<<24>>24)}},{unsafe:!0})}else T=function(t){c(this,T,"ArrayBuffer");var e=h(t);x(this,{bytes:b.call(new Array(e),0),byteLength:e}),i||(this.byteLength=e)},S=function(t,e,n){c(this,S,"DataView"),c(t,T,"DataView");var r=E(t).byteLength,o=f(e);if(o<0||o>r)throw j("Wrong offset");if(o+(n=void 0===n?r-o:l(n))>r)throw j("Wrong length");x(this,{buffer:t,byteLength:n,byteOffset:o}),i||(this.buffer=t,this.byteLength=n,this.byteOffset=o)},i&&(U(T,"byteLength"),U(S,"buffer"),U(S,"byteLength"),U(S,"byteOffset")),s(S.prototype,{getInt8:function(t){return M(this,1,t)[0]<<24>>24},getUint8:function(t){return M(this,1,t)[0]},getInt16:function(t){var e=M(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=M(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return L(M(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return L(M(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return I(M(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return I(M(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){F(this,1,t,C,e)},setUint8:function(t,e){F(this,1,t,C,e)},setInt16:function(t,e){F(this,2,t,P,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){F(this,2,t,P,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){F(this,4,t,R,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){F(this,4,t,R,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){F(this,4,t,N,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){F(this,8,t,D,e,arguments.length>2?arguments[2]:void 0)}});m(T,"ArrayBuffer"),m(S,"DataView"),t.exports={ArrayBuffer:T,DataView:S}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}e.stringify=function(t,e){e=e||"";var n,i,o=[];for(i in"string"!==typeof e&&(e="?"),t)if(r.call(t,i)){if((n=t[i])||null!==n&&void 0!==n&&!isNaN(n)||(n=""),i=encodeURIComponent(i),n=encodeURIComponent(n),null===i||null===n)continue;o.push(i+"="+n)}return o.length?e+o.join("&"):""},e.parse=function(t){for(var e,n=/([^=?&]+)=?([^&]*)/g,r={};e=n.exec(t);){var o=i(e[1]),a=i(e[2]);null===o||null===a||o in r||(r[o]=a)}return r}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(348),i=n(349);t.exports=r("v5",80,i)},function(t,e,n){!function(r){var i=n(368);if(!i)throw new Error("vertx-eventbus.js requires sockjs-client, see http://sockjs.org");!function(n){function r(t,e){if(t){if(!e)return t;for(var n in t)t.hasOwnProperty(n)&&"undefined"===typeof e[n]&&(e[n]=t[n])}return e||{}}var i=function(t,e){var r=this;e=e||{},this.pingInterval=e.vertxbus_ping_interval||5e3,this.pingTimerID=null,this.reconnectEnabled=!1,this.reconnectAttempts=0,this.reconnectTimerID=null,this.maxReconnectAttempts=e.vertxbus_reconnect_attempts_max||1/0,this.reconnectDelayMin=e.vertxbus_reconnect_delay_min||1e3,this.reconnectDelayMax=e.vertxbus_reconnect_delay_max||5e3,this.reconnectExponent=e.vertxbus_reconnect_exponent||2,this.randomizationFactor=e.vertxbus_randomization_factor||.5;this.defaultHeaders=null,this.onerror=function(t){try{console.error(t)}catch(t){}};var o=function(){r.sockJSConn=new n(t,null,e),r.state=i.CONNECTING,r.handlers={},r.replyHandlers={},r.sockJSConn.onopen=function(){r.enablePing(!0),r.state=i.OPEN,r.onopen&&r.onopen(),r.reconnectTimerID&&(r.reconnectAttempts=0,r.onreconnect&&r.onreconnect())},r.sockJSConn.onclose=function(t){r.state=i.CLOSED,r.pingTimerID&&clearInterval(r.pingTimerID),r.reconnectEnabled&&r.reconnectAttempts<r.maxReconnectAttempts&&(r.sockJSConn=null,r.reconnectTimerID=setTimeout(o,function(){var t=r.reconnectDelayMin*Math.pow(r.reconnectExponent,r.reconnectAttempts);if(r.randomizationFactor){var e=Math.random(),n=Math.floor(e*r.randomizationFactor*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,r.reconnectDelayMax)}()),++r.reconnectAttempts),r.onclose&&r.onclose(t)},r.sockJSConn.onmessage=function(t){var e=JSON.parse(t.data);if(e.replyAddress&&Object.defineProperty(e,"reply",{value:function(t,n,i){r.send(e.replyAddress,t,n,i)}}),r.handlers[e.address])for(var n=r.handlers[e.address],i=0;i<n.length;i++)"err"===e.type?n[i]({failureCode:e.failureCode,failureType:e.failureType,message:e.message}):n[i](null,e);else if(r.replyHandlers[e.address]){var o=r.replyHandlers[e.address];delete r.replyHandlers[e.address],"err"===e.type?o({failureCode:e.failureCode,failureType:e.failureType,message:e.message}):o(null,e)}else if("err"===e.type)r.onerror(e);else try{console.warn("No handler found for message: ",e)}catch(t){}}};o()};i.prototype.send=function(t,e,n,o){if(this.state!=i.OPEN)throw new Error("INVALID_STATE_ERR");"function"===typeof n&&(o=n,n={});var a={type:"send",address:t,headers:r(this.defaultHeaders,n),body:e};if(o){var s="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t,e){return e=16*Math.random(),("y"==t?3&e|8:0|e).toString(16)}));a.replyAddress=s,this.replyHandlers[s]=o}this.sockJSConn.send(JSON.stringify(a))},i.prototype.publish=function(t,e,n){if(this.state!=i.OPEN)throw new Error("INVALID_STATE_ERR");this.sockJSConn.send(JSON.stringify({type:"publish",address:t,headers:r(this.defaultHeaders,n),body:e}))},i.prototype.registerHandler=function(t,e,n){if(this.state!=i.OPEN)throw new Error("INVALID_STATE_ERR");"function"===typeof e&&(n=e,e={}),this.handlers[t]||(this.handlers[t]=[],this.sockJSConn.send(JSON.stringify({type:"register",address:t,headers:r(this.defaultHeaders,e)}))),this.handlers[t].push(n)},i.prototype.unregisterHandler=function(t,e,n){if(this.state!=i.OPEN)throw new Error("INVALID_STATE_ERR");var o=this.handlers[t];if(o){"function"===typeof e&&(n=e,e={});var a=o.indexOf(n);-1!=a&&(o.splice(a,1),0===o.length&&(this.sockJSConn.send(JSON.stringify({type:"unregister",address:t,headers:r(this.defaultHeaders,e)})),delete this.handlers[t]))}},i.prototype.close=function(){this.state=i.CLOSING,this.enableReconnect(!1),this.sockJSConn.close()},i.CONNECTING=0,i.OPEN=1,i.CLOSING=2,i.CLOSED=3,i.prototype.enablePing=function(t){var e=this;if(t){var n=function(){e.sockJSConn.send(JSON.stringify({type:"ping"}))};e.pingInterval>0&&(n(),e.pingTimerID=setInterval(n,e.pingInterval))}else e.pingTimerID&&(clearInterval(e.pingTimerID),e.pingTimerID=null)},i.prototype.enableReconnect=function(t){this.reconnectEnabled=t,!t&&this.reconnectTimerID&&(clearTimeout(this.reconnectTimerID),this.reconnectTimerID=null,this.reconnectAttempts=0)},t.exports?e=t.exports=i:e.EventBus=i}(i)}()},function(t,e,n){var r=n(16),i=n(3),o=n(143);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(4),i=n(144),o=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,e,n){var r=n(19),i=n(147),o=n(55),a=n(24);t.exports=function(t,e){for(var n=i(e),s=a.f,u=o.f,c=0;c<n.length;c++){var f=n[c];r(t,f)||s(t,f,u(e,f))}}},function(t,e,n){var r=n(4);t.exports=r},function(t,e,n){var r=n(19),i=n(41),o=n(96).indexOf,a=n(94);t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)!r(a,n)&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(151);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(16),i=n(24),o=n(17),a=n(112);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),s=r.length,u=0;s>u;)i.f(t,n=r[u++],e[n]);return t}},function(t,e,n){var r=n(57);t.exports=r("document","documentElement")},function(t,e,n){var r=n(41),i=n(95).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e,n){var r=n(7);e.f=r},function(t,e,n){var r=n(187),i=n(19),o=n(193),a=n(24).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},function(t,e,n){var r=n(11),i=n(111),o=n(7)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){"use strict";var r=n(197).IteratorPrototype,i=n(66),o=n(64),a=n(58),s=n(97),u=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),a(t,c,!1,!0),s[c]=u,t}},function(t,e,n){"use strict";var r,i,o,a=n(78),s=n(35),u=n(19),c=n(7),f=n(76),l=c("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(r=i):h=!0),void 0==r&&(r={}),f||u(r,l)||s(r,l,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){var r=n(17);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(200);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){var r=n(57);t.exports=r("navigator","userAgent")||""},function(t,e,n){"use strict";var r=n(68),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},function(t,e,n){"use strict";var r=n(17);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,i=n;return[i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]]].join("")}},function(t,e,n){"use strict";var r=n(37).forEach,i=n(102),o=n(49),a=i("forEach"),s=o("forEach");t.exports=a&&s?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){"use strict";var r=n(16),i=n(3),o=n(112),a=n(149),s=n(142),u=n(36),c=n(91),f=Object.assign,l=Object.defineProperty;t.exports=!f||i((function(){if(r&&1!==f({b:1},f(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=f({},t)[n]||"abcdefghijklmnopqrst"!=o(f({},e)).join("")}))?function(t,e){for(var n=u(t),i=arguments.length,f=1,l=a.f,h=s.f;i>f;)for(var p,d=c(arguments[f++]),y=l?o(d).concat(l(d)):o(d),v=y.length,g=0;v>g;)p=y[g++],r&&!h.call(d,p)||(n[p]=d[p]);return n}:f},function(t,e){t.exports=function(t,e){return t===e||t!==t&&e!==e}},function(t,e,n){var r=n(120),i=n(103);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(6))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(212),i=n(207),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(213);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(73),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){var r=n(215),i=n(310),o=n(165),a=n(216),s=n(313),u=n(314),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),f=!n&&i(t),l=!n&&!f&&a(t),h=!n&&!f&&!l&&u(t),p=n||f||l||h,d=p?r(t.length,String):[],y=d.length;for(var v in t)!e&&!c.call(t,v)||p&&("length"==v||l&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,y))||d.push(v);return d}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){(function(t){var r=n(45),i=n(312),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u}).call(this,n(124)(t))},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(214),i=n(319),o=n(169);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(223),i=n(224),o=n(170),a=n(221),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(218)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(223),i=n(165);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e,n){"use strict";var r=n(345),i=n(227),o=n(17),a=n(75),s=n(70),u=n(346),c=n(20),f=n(347),l=n(126),h=n(3),p=[].push,d=Math.min,y=!h((function(){return!RegExp(4294967295,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(a(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===t)return[r];if(!i(t))return e.call(r,t,o);for(var s,u,c,f=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,y=new RegExp(t.source,h+"g");(s=l.call(y,r))&&!((u=y.lastIndex)>d&&(f.push(r.slice(d,s.index)),s.length>1&&s.index<r.length&&p.apply(f,s.slice(1)),c=s[0].length,d=u,f.length>=o));)y.lastIndex===s.index&&y.lastIndex++;return d===r.length?!c&&y.test("")||f.push(""):f.push(r.slice(d)),f.length>o?f.slice(0,o):f}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=a(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,i,n):r.call(String(i),e,n)},function(t,i){var a=n(r,t,this,i,r!==e);if(a.done)return a.value;var l=o(t),h=String(this),p=s(l,RegExp),v=l.unicode,g=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(y?"y":"g"),b=new p(y?l:"^(?:"+l.source+")",g),m=void 0===i?4294967295:i>>>0;if(0===m)return[];if(0===h.length)return null===f(b,h)?[h]:[];for(var w=0,E=0,x=[];E<h.length;){b.lastIndex=y?E:0;var O,T=f(b,y?h:h.slice(E));if(null===T||(O=d(c(b.lastIndex+(y?0:E)),h.length))===w)E=u(h,E,v);else{if(x.push(h.slice(w,E)),x.length===m)return x;for(var S=1;S<=T.length-1;S++)if(x.push(T[S]),x.length===m)return x;E=w=O}}return x.push(h.slice(w)),x}]}),!y)},function(t,e,n){var r=n(11),i=n(56),o=n(7)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){"use strict";var r=n(67),i=n(36),o=n(198),a=n(157),s=n(20),u=n(116),c=n(100);t.exports=function(t){var e,n,f,l,h,p,d=i(t),y="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,b=void 0!==g,m=c(d),w=0;if(b&&(g=r(g,v>2?arguments[2]:void 0,2)),void 0==m||y==Array&&a(m))for(n=new y(e=s(d.length));e>w;w++)p=b?g(d[w],w):d[w],u(n,w,p);else for(h=(l=m.call(d)).next,n=new y;!(f=h.call(l)).done;w++)p=b?o(l,g,[f.value,w],!0):f.value,u(n,w,p);return n.length=w,n}},function(t,e){t.exports=function(t){return t}},function(t,e){t.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(t,e,n){var r=n(3);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){var r=n(11),i=n(98);t.exports=function(t,e,n){var o,a;return i&&"function"==typeof(o=e.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&i(t,a),t}},function(t,e,n){"use strict";function r(){this._listeners={}}r.prototype.addEventListener=function(t,e){t in this._listeners||(this._listeners[t]=[]);var n=this._listeners[t];-1===n.indexOf(e)&&(n=n.concat([e])),this._listeners[t]=n},r.prototype.removeEventListener=function(t,e){var n=this._listeners[t];if(n){var r=n.indexOf(e);-1===r||(n.length>1?this._listeners[t]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[t])}},r.prototype.dispatchEvent=function(){var t=arguments[0],e=t.type,n=1===arguments.length?[t]:Array.apply(null,arguments);if(this["on"+e]&&this["on"+e].apply(this,n),e in this._listeners)for(var r=this._listeners[e],i=0;i<r.length;i++)r[i].apply(this,n)},t.exports=r},function(t,e,n){"use strict";var r=n(5),i=n(39),o=n(374),a=n(375);function s(t,e,n,r,s){var u=i.addPath(t,e),c=this;o.call(this,t,n),this.poll=new a(r,u,s),this.poll.on("message",(function(t){c.emit("message",t)})),this.poll.once("close",(function(t,e){c.poll=null,c.emit("close",t,e),c.close()}))}r(s,o),s.prototype.close=function(){o.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},t.exports=s},function(t,e,n){"use strict";(function(e){var r=n(29).EventEmitter,i=n(5),o=n(61),a=n(39),s=e.XMLHttpRequest;function u(t,e,n,i){var o=this;r.call(this),setTimeout((function(){o._start(t,e,n,i)}),0)}i(u,r),u.prototype._start=function(t,e,n,r){var i=this;try{this.xhr=new s}catch(t){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();e=a.addQuery(e,"t="+ +new Date),this.unloadRef=o.unloadAdd((function(){i._cleanup(!0)}));try{this.xhr.open(t,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){i.emit("finish",0,""),i._cleanup(!1)})}catch(t){return this.emit("finish",0,""),void this._cleanup(!1)}if(r&&r.noCredentials||!u.supportsCORS||(this.xhr.withCredentials=!0),r&&r.headers)for(var c in r.headers)this.xhr.setRequestHeader(c,r.headers[c]);this.xhr.onreadystatechange=function(){if(i.xhr){var t,e,n=i.xhr;switch(n.readyState,n.readyState){case 3:try{e=n.status,t=n.responseText}catch(t){}1223===e&&(e=204),200===e&&t&&t.length>0&&i.emit("chunk",e,t);break;case 4:1223===(e=n.status)&&(e=204),12005!==e&&12029!==e||(e=0),n.responseText,i.emit("finish",e,n.responseText),i._cleanup(!1)}}};try{i.xhr.send(n)}catch(t){i.emit("finish",0,""),i._cleanup(!1)}},u.prototype._cleanup=function(t){if(this.xhr){if(this.removeAllListeners(),o.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),t)try{this.xhr.abort()}catch(t){}this.unloadRef=this.xhr=null}},u.prototype.close=function(){this._cleanup(!0)},u.enabled=!!s;var c=["Active"].concat("Object").join("X");!u.enabled&&c in e&&(s=function(){try{return new e[c]("Microsoft.XMLHTTP")}catch(t){return null}},u.enabled=!!new s);var f=!1;try{f="withCredentials"in new s}catch(t){}u.supportsCORS=f,t.exports=u}).call(this,n(6))},function(t,e,n){"use strict";var r=n(5),i=n(83),o=n(130),a=n(175);function s(t){if(!a.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr_streaming",o,a)}r(s,i),s.enabled=function(t){return!t.cookie_needed&&!t.nullOrigin&&(a.enabled&&t.sameScheme)},s.transportName="xdr-streaming",s.roundTrips=2,t.exports=s},function(t,e,n){"use strict";var r=n(5),i=n(83),o=n(376),a=n(131),s=n(238);function u(t){if(!u.enabled())throw new Error("Transport created when disabled");i.call(this,t,"/eventsource",o,a)}r(u,i),u.enabled=function(){return!!s},u.transportName="eventsource",u.roundTrips=2,t.exports=u},function(t,e,n){(function(e){t.exports=e.EventSource}).call(this,n(6))},function(t,e,n){"use strict";var r=n(5),i=n(50),o=n(29).EventEmitter,a=n(240),s=n(39),u=n(107),c=n(61),f=n(82);function l(t,e,n){if(!l.enabled())throw new Error("Transport created when disabled");o.call(this);var r=this;this.origin=s.getOrigin(n),this.baseUrl=n,this.transUrl=e,this.transport=t,this.windowId=f.string(8);var i=s.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=u.createIframe(i,(function(t){r.emit("close",1006,"Unable to load an iframe ("+t+")"),r.close()})),this.onmessageCallback=this._message.bind(this),c.attachEvent("message",this.onmessageCallback)}r(l,o),l.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){c.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(t){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},l.prototype._message=function(t){if(t.data,!s.isOriginEqual(t.origin,this.origin))return t.origin,void this.origin;var e;try{e=i.parse(t.data)}catch(e){return void t.data}if(e.windowId!==this.windowId)return e.windowId,void this.windowId;switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",i.stringify([a,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var n;try{n=i.parse(e.data)}catch(t){return void e.data}this.emit("close",n[0],n[1]),this.close()}},l.prototype.postMessage=function(t,e){this.iframeObj.post(i.stringify({windowId:this.windowId,type:t,data:e||""}),this.origin)},l.prototype.send=function(t){this.postMessage("m",t)},l.enabled=function(){return u.iframeEnabled},l.transportName="iframe",l.roundTrips=2,t.exports=l},function(t,e){t.exports="1.4.0"},function(t,e,n){"use strict";var r=n(5),i=n(378),o=n(105),a=n(83);function s(t){if(!i.enabled)throw new Error("Transport created when disabled");a.call(this,t,"/htmlfile",i,o)}r(s,a),s.enabled=function(t){return i.enabled&&t.sameOrigin},s.transportName="htmlfile",s.roundTrips=2,t.exports=s},function(t,e,n){"use strict";var r=n(5),i=n(83),o=n(130),a=n(131),s=n(105);function u(t){if(!s.enabled&&!a.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr",o,a)}r(u,i),u.enabled=function(t){return!t.nullOrigin&&(!(!s.enabled||!t.sameOrigin)||a.enabled)},u.transportName="xhr-polling",u.roundTrips=2,t.exports=u},function(t,e,n){"use strict";(function(e){t.exports=e.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,n(6))},function(t,e,n){"use strict";var r=n(5),i=n(29).EventEmitter,o=n(50),a=n(105),s=n(245);function u(t){var e=this;i.call(this),this.ir=new s(t,a),this.ir.once("finish",(function(t,n){e.ir=null,e.emit("message",o.stringify([t,n]))}))}r(u,i),u.transportName="iframe-info-receiver",u.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},t.exports=u},function(t,e,n){"use strict";var r=n(29).EventEmitter,i=n(5),o=n(50),a=n(177);function s(t,e){r.call(this);var n=this,i=+new Date;this.xo=new e("GET",t),this.xo.once("finish",(function(t,e){var r,s;if(200===t){if(s=+new Date-i,e)try{r=o.parse(e)}catch(t){}a.isObject(r)||(r={})}n.emit("finish",r,s),n.removeAllListeners()}))}i(s,r),s.prototype.close=function(){this.removeAllListeners(),this.xo.close()},t.exports=s},function(t,e){t.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},function(t,e,n){var r=n(65),i=n(20);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length or index");return n}},function(t,e,n){"use strict";var r=n(36),i=n(77),o=n(20);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)e[s++]=t;return e}},function(t,e,n){"use strict";var r=n(2),i=n(3),o=n(179),a=n(17),s=n(77),u=n(20),c=n(70),f=o.ArrayBuffer,l=o.DataView,h=f.prototype.slice;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new f(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(void 0!==h&&void 0===e)return h.call(a(this),t);for(var n=a(this).byteLength,r=s(t,n),i=s(void 0===e?n:e,n),o=new(c(this,f))(u(i-r)),p=new l(this),d=new l(o),y=0;r<i;)d.setUint8(y++,p.getUint8(r++));return o}})},function(t,e,n){var r=n(401);t.exports=function(t,e){var n=r(t);if(n%e)throw RangeError("Wrong offset");return n}},function(t,e,n){var r=n(3),i=n(7),o=n(76),a=i("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),o&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(t,e,n){var r=n(2),i=n(3),o=n(36),a=n(78),s=n(154);r({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},function(t,e,n){"use strict";e.a=function(){return/Edg(e|iOS|A)\//i.test(navigator.userAgent)}},function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(t,e){module.exports=e(t)}("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:this,(function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.1",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(t){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(t){for(var e={},n=0,r=t.length;n<r;n++)e[t.charAt(n)]=n;return e}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?fromCharCode(192|e>>>6)+fromCharCode(128|63&e):fromCharCode(224|e>>>12&15)+fromCharCode(128|e>>>6&63)+fromCharCode(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return fromCharCode(240|e>>>18&7)+fromCharCode(128|e>>>12&63)+fromCharCode(128|e>>>6&63)+fromCharCode(128|63&e)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(t){return t.replace(re_utob,cb_utob)},cb_encode=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),e>=2?"=":b64chars.charAt(n>>>6&63),e>=1?"=":b64chars.charAt(63&n)].join("")},btoa=global.btoa?function(t){return global.btoa(t)}:function(t){return t.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(t){return(t.constructor===buffer.constructor?t:buffer.from(t)).toString("base64")}:function(t){return(t.constructor===buffer.constructor?t:new buffer(t)).toString("base64")}:function(t){return btoa(utob(t))},encode=function(t,e){return e?_encode(String(t)).replace(/[+\/]/g,(function(t){return"+"==t?"-":"_"})).replace(/=/g,""):_encode(String(t))},encodeURI=function(t){return encode(t,!0)},re_btou=new RegExp(["[\xc0-\xdf][\x80-\xbf]","[\xe0-\xef][\x80-\xbf]{2}","[\xf0-\xf7][\x80-\xbf]{3}"].join("|"),"g"),cb_btou=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return fromCharCode(55296+(e>>>10))+fromCharCode(56320+(1023&e));case 3:return fromCharCode((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return fromCharCode((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},btou=function(t){return t.replace(re_btou,cb_btou)},cb_decode=function(t){var e=t.length,n=e%4,r=(e>0?b64tab[t.charAt(0)]<<18:0)|(e>1?b64tab[t.charAt(1)]<<12:0)|(e>2?b64tab[t.charAt(2)]<<6:0)|(e>3?b64tab[t.charAt(3)]:0),i=[fromCharCode(r>>>16),fromCharCode(r>>>8&255),fromCharCode(255&r)];return i.length-=[0,0,2,1][n],i.join("")},_atob=global.atob?function(t){return global.atob(t)}:function(t){return t.replace(/\S{1,4}/g,cb_decode)},atob=function(t){return _atob(String(t).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(t){return(t.constructor===buffer.constructor?t:buffer.from(t,"base64")).toString()}:function(t){return(t.constructor===buffer.constructor?t:new buffer(t,"base64")).toString()}:function(t){return btou(_atob(t))},decode=function(t){return _decode(String(t).replace(/[-_]/g,(function(t){return"-"==t?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var t=global.Base64;return global.Base64=_Base64,t};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"===typeof Object.defineProperty){var noEnum=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum((function(){return decode(this)}))),Object.defineProperty(String.prototype,"toBase64",noEnum((function(t){return encode(this,t)}))),Object.defineProperty(String.prototype,"toBase64URI",noEnum((function(){return encode(this,!0)})))}}return global.Meteor&&(Base64=global.Base64),module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}}))}).call(this,__webpack_require__(6))},function(t,e,n){"use strict";(function(t){var r=n(182),i=n.n(r),o=n(62),a=n.n(o),s="ksdk::common::reporter::playGuid";e.a=function(e){var n=t.sessionStorage.getItem(s);if(n)return n;var r=e?i()(e,i.a.DNS):a()();return t.sessionStorage.setItem(s,r),r}}).call(this,n(6))},function(t,e,n){var r=n(350)(n(357));t.exports=r},function(t,e,n){var r,i,o;i=[],void 0===(o="function"===typeof(r=function(){var t=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function e(t){var e,n,r=t.replace(/^v/,"").replace(/\+.*$/,""),i=(n="-",-1===(e=r).indexOf(n)?e.length:e.indexOf(n)),o=r.substring(0,i).split(".");return o.push(r.substring(i+1)),o}function n(t){return isNaN(Number(t))?t:Number(t)}function r(e){if("string"!==typeof e)throw new TypeError("Invalid argument expected string");if(!t.test(e))throw new Error("Invalid argument not valid semver ('"+e+"' received)")}function i(t,i){[t,i].forEach(r);for(var o=e(t),a=e(i),s=0;s<Math.max(o.length-1,a.length-1);s++){var u=parseInt(o[s]||0,10),c=parseInt(a[s]||0,10);if(u>c)return 1;if(c>u)return-1}var f=o[o.length-1],l=a[a.length-1];if(f&&l){var h=f.split(".").map(n),p=l.split(".").map(n);for(s=0;s<Math.max(h.length,p.length);s++){if(void 0===h[s]||"string"===typeof p[s]&&"number"===typeof h[s])return-1;if(void 0===p[s]||"string"===typeof h[s]&&"number"===typeof p[s])return 1;if(h[s]>p[s])return 1;if(p[s]>h[s])return-1}}else if(f||l)return f?-1:1;return 0}var o=[">",">=","=","<","<="],a={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};return i.compare=function(t,e,n){!function(t){if("string"!==typeof t)throw new TypeError("Invalid operator type, expected string but got "+typeof t);if(-1===o.indexOf(t))throw new TypeError("Invalid operator, expected one of "+o.join("|"))}(n);var r=i(t,e);return a[n].indexOf(r)>-1},i})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";n(13),n(22),n(108),n(15),n(60),n(31),n(32),n(28),n(18);var r=n(88),i=n.n(r);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a=function(t,e){return t&&t.sources?i()(e).map((function(e){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{src:function(t,e){var n=t.find((function(t){return t.url===e}));return n&&n.kurl?n.kurl:e}(t.sources,e.src)})})):e}},function(t,e,n){"use strict";n(108);var r=n(30),i=n(1);e.a=function(t){if(t&&t.length>0){var e=r.a[i.c.DASH].mime,n=t.find((function(t){return t.type===e}));return n?n.src:null}return null}},function(t,e,n){t.exports=n(439)},function(t,e,n){var r=n(4),i=n(145),o=r.WeakMap;t.exports="function"===typeof o&&/native code/.test(i(o))},function(t,e,n){var r=n(11);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){"use strict";var r=n(155),i=n(99);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){var r=n(4);t.exports=r.Promise},function(t,e,n){var r,i,o,a,s,u,c,f,l=n(4),h=n(55).f,p=n(56),d=n(158).set,y=n(199),v=l.MutationObserver||l.WebKitMutationObserver,g=l.process,b=l.Promise,m="process"==p(g),w=h(l,"queueMicrotask"),E=w&&w.value;E||(r=function(){var t,e;for(m&&(t=g.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():o=void 0,t}}o=void 0,t&&t.enter()},m?a=function(){g.nextTick(r)}:v&&!y?(s=!0,u=document.createTextNode(""),new v(r).observe(u,{characterData:!0}),a=function(){u.data=s=!s}):b&&b.resolve?(c=b.resolve(void 0),f=c.then,a=function(){f.call(c,r)}):a=function(){d.call(l,r)}),t.exports=E||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},function(t,e,n){var r=n(17),i=n(11),o=n(201);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(4);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){var r=n(2),i=n(16),o=n(17),a=n(55);r({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(t,e){return a.f(o(t),e)}})},function(t,e,n){var r=n(2),i=n(17),o=n(78);r({target:"Reflect",stat:!0,sham:!n(154)},{getPrototypeOf:function(t){return o(i(t))}})},function(t,e,n){n(2)({target:"Reflect",stat:!0},{ownKeys:n(147)})},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e,n){(function(t){var r="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(274),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(6))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,a,s,u=1,c={},f=!1,l=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){d(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},r=function(t){o.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,r=function(t){var e=l.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(d,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"===typeof e.data&&0===e.data.indexOf(a)&&d(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(a+e,"*")}),h.setImmediate=function(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return c[u]=i,r(u),u++},h.clearImmediate=p}function p(t){delete c[t]}function d(t){if(f)setTimeout(d,0,t);else{var e=c[t];if(e){f=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{p(t),f=!1}}}}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,n(6),n(275))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],f=!1,l=-1;function h(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&p())}function p(){if(!f){var t=s(h);f=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||f||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){var r=n(2),i=n(4),o=n(158);r({global:!0,bind:!0,enumerable:!0,forced:!i.setImmediate||!i.clearImmediate},{setImmediate:o.set,clearImmediate:o.clear})},function(t,e,n){var r=n(278),i=n(308),o=n(211),a=n(309),s=n(318),u=n(321),c=n(322),f=n(323),l=n(324),h=n(325),p=n(326),d=n(171),y=n(331),v=n(332),g=n(338),b=n(165),m=n(216),w=n(340),E=n(103),x=n(342),O=n(164),T={};T["[object Arguments]"]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T["[object Object]"]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T["[object Function]"]=T["[object WeakMap]"]=!1,t.exports=function t(e,n,S,k,_,j){var A,I=1&n,C=2&n,P=4&n;if(S&&(A=_?S(e,k,_,j):S(e)),void 0!==A)return A;if(!E(e))return e;var R=b(e);if(R){if(A=y(e),!I)return c(e,A)}else{var L=d(e),N="[object Function]"==L||"[object GeneratorFunction]"==L;if(m(e))return u(e,I);if("[object Object]"==L||"[object Arguments]"==L||N&&!_){if(A=C||N?{}:g(e),!I)return C?l(e,s(A,e)):f(e,a(A,e))}else{if(!T[L])return _?e:{};A=v(e,L,I)}}j||(j=new r);var D=j.get(e);if(D)return D;j.set(e,A),x(e)?e.forEach((function(r){A.add(t(r,n,S,r,e,j))})):w(e)&&e.forEach((function(r,i){A.set(i,t(r,n,S,i,e,j))}));var U=P?C?p:h:C?keysIn:O,M=R?void 0:U(e);return i(M||e,(function(r,i){M&&(r=e[i=r]),o(A,i,t(r,n,S,i,e,j))})),A}},function(t,e,n){var r=n(118),i=n(284),o=n(285),a=n(286),s=n(287),u=n(288);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(119),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(119);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(119);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(119);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(118);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(118),i=n(162),o=n(295);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(208),i=n(292),o=n(103),a=n(210),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,f=u.toString,l=c.hasOwnProperty,h=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?h:s).test(a(t))}},function(t,e,n){var r=n(163),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r,i=n(293),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(45)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(296),i=n(303),o=n(305),a=n(306),s=n(307);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(297),i=n(118),o=n(162);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(298),i=n(299),o=n(300),a=n(301),s=n(302);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(121);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(121),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(121),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(121);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(122);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(122);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(122);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(122);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(123),i=n(164);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(311),i=n(81),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){var r=n(120),i=n(81);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(315),i=n(166),o=n(167),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(120),i=n(217),o=n(81),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(168),i=n(317),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(218)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(123),i=n(219);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(103),i=n(168),o=n(320),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){(function(t){var r=n(45),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(124)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(123),i=n(170);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(123),i=n(222);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(225),i=n(170),o=n(164);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(225),i=n(222),o=n(219);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(73)(n(45),"DataView");t.exports=r},function(t,e,n){var r=n(73)(n(45),"Promise");t.exports=r},function(t,e,n){var r=n(73)(n(45),"Set");t.exports=r},function(t,e,n){var r=n(73)(n(45),"WeakMap");t.exports=r},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(172),i=n(334),o=n(335),a=n(336),s=n(337);t.exports=function(t,e,n){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return o(t);case"[object Set]":return new u;case"[object Symbol]":return a(t)}}},function(t,e,n){var r=n(45).Uint8Array;t.exports=r},function(t,e,n){var r=n(172);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(163),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},function(t,e,n){var r=n(172);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(339),i=n(224),o=n(168);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e,n){var r=n(103),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var r=n(341),i=n(166),o=n(167),a=o&&o.isMap,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(171),i=n(81);t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},function(t,e,n){var r=n(343),i=n(166),o=n(167),a=o&&o.isSet,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(171),i=n(81);t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},function(t,e,n){"use strict";var r=n(3);function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,n){"use strict";n(125);var r=n(38),i=n(3),o=n(7),a=n(126),s=n(35),u=o("species"),c=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f="$0"==="a".replace(/./,"$0"),l=o("replace"),h=!!/./[l]&&""===/./[l]("a","$0"),p=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,l){var d=o(t),y=!i((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),v=y&&!i((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e}));if(!y||!v||"replace"===t&&(!c||!f||h)||"split"===t&&!p){var g=/./[d],b=n(d,""[t],(function(t,e,n,r,i){return e.exec===a?y&&!i?{done:!0,value:g.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:f,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),m=b[0],w=b[1];r(String.prototype,t,m),r(RegExp.prototype,d,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}l&&s(RegExp.prototype[d],"sham",!0)}},function(t,e,n){"use strict";var r=n(160).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(56),i=n(126);t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var o=n.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){var r=n(204);t.exports=function(t,e,n){var i=function(t,i,o,a){var s=o&&a||0;if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(t)),"string"==typeof i&&(i=function(t){var e=[];return t.replace(/[a-fA-F0-9]{2}/g,(function(t){e.push(parseInt(t,16))})),e}(i)),!Array.isArray(t))throw TypeError("value must be an array of bytes");if(!Array.isArray(i)||16!==i.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var u=n(i.concat(t));if(u[6]=15&u[6]|e,u[8]=63&u[8]|128,o)for(var c=0;c<16;++c)o[s+c]=u[c];return o||r(u)};try{i.name=t}catch(t){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}},function(t,e,n){"use strict";function r(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function i(t,e){return t<<e|t>>>32-e}t.exports=function(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var o=unescape(encodeURIComponent(t));t=new Array(o.length);for(var a=0;a<o.length;a++)t[a]=o.charCodeAt(a)}t.push(128);var s=t.length/4+2,u=Math.ceil(s/16),c=new Array(u);for(a=0;a<u;a++){c[a]=new Array(16);for(var f=0;f<16;f++)c[a][f]=t[64*a+4*f]<<24|t[64*a+4*f+1]<<16|t[64*a+4*f+2]<<8|t[64*a+4*f+3]}for(c[u-1][14]=8*(t.length-1)/Math.pow(2,32),c[u-1][14]=Math.floor(c[u-1][14]),c[u-1][15]=8*(t.length-1)&4294967295,a=0;a<u;a++){for(var l=new Array(80),h=0;h<16;h++)l[h]=c[a][h];for(h=16;h<80;h++)l[h]=i(l[h-3]^l[h-8]^l[h-14]^l[h-16],1);var p=n[0],d=n[1],y=n[2],v=n[3],g=n[4];for(h=0;h<80;h++){var b=Math.floor(h/20),m=i(p,5)+r(b,d,y,v)+g+e[b]+l[h]>>>0;g=v,v=y,y=i(d,30)>>>0,d=p,p=m}n[0]=n[0]+p>>>0,n[1]=n[1]+d>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+v>>>0,n[4]=n[4]+g>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}},function(t,e,n){var r=n(229),i=n(351),o=n(353);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e,n){var r=n(352),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(u),r(t,this,c)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(354),i=n(356)(r);t.exports=i},function(t,e,n){var r=n(355),i=n(213),o=n(229),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(220),i=n(358),o=n(359),a=n(215),s=n(360),u=Math.max;t.exports=function(t){if(!t||!t.length)return[];var e=0;return t=r(t,(function(t){if(s(t))return e=u(t.length,e),!0})),a(e,(function(e){return i(t,o(e))}))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(169),i=n(81);t.exports=function(t){return i(t)&&r(t)}},function(t,e,n){"use strict";var r=n(2),i=n(91),o=n(41),a=n(102),s=[].join,u=i!=Object,c=a("join",",");r({target:"Array",proto:!0,forced:u||!c},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(2),i=n(363).trim;r({target:"String",proto:!0,forced:n(364)("trim")},{trim:function(){return i(this)}})},function(t,e,n){var r=n(75),i="["+n(230)+"]",o=RegExp("^"+i+i+"*"),a=RegExp(i+i+"*$"),s=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},function(t,e,n){var r=n(3),i=n(230);t.exports=function(t){return r((function(){return!!i[t]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[t]()||i[t].name!==t}))}},function(t,e,n){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},function(t,e,n){"use strict";var r=n(2),i=n(4),o=n(150),a=n(38),s=n(173),u=n(156),c=n(69),f=n(11),l=n(3),h=n(115),p=n(58),d=n(232);t.exports=function(t,e,n){var y=-1!==t.indexOf("Map"),v=-1!==t.indexOf("Weak"),g=y?"set":"add",b=i[t],m=b&&b.prototype,w=b,E={},x=function(t){var e=m[t];a(m,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(v&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!f(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!f(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(o(t,"function"!=typeof b||!(v||m.forEach&&!l((function(){(new b).entries().next()})))))w=n.getConstructor(e,t,y,g),s.REQUIRED=!0;else if(o(t,!0)){var O=new w,T=O[g](v?{}:-0,1)!=O,S=l((function(){O.has(1)})),k=h((function(t){new b(t)})),_=!v&&l((function(){for(var t=new b,e=5;e--;)t[g](e,e);return!t.has(-0)}));k||((w=e((function(e,n){c(e,w,t);var r=d(new b,e,w);return void 0!=n&&u(n,r[g],r,y),r}))).prototype=m,m.constructor=w),(S||_)&&(x("delete"),x("has"),y&&x("get")),(_||T)&&x(g),v&&m.clear&&delete m.clear}return E[t]=w,r({global:!0,forced:w!=b},E),p(w,t),v||n.setStrong(w,t,y),w}},function(t,e,n){"use strict";var r=n(24).f,i=n(66),o=n(113),a=n(67),s=n(69),u=n(156),c=n(153),f=n(114),l=n(16),h=n(173).fastKey,p=n(44),d=p.set,y=p.getterFor;t.exports={getConstructor:function(t,e,n,c){var f=t((function(t,r){s(t,f,e),d(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),l||(t.size=0),void 0!=r&&u(r,t[c],t,n)})),p=y(e),v=function(t,e,n){var r,i,o=p(t),a=g(t,e);return a?a.value=n:(o.last=a={index:i=h(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),l?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},g=function(t,e){var n,r=p(t),i=h(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return o(f.prototype,{clear:function(){for(var t=p(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,l?t.size=0:this.size=0},delete:function(t){var e=p(this),n=g(this,t);if(n){var r=n.next,i=n.previous;delete e.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),e.first==n&&(e.first=r),e.last==n&&(e.last=i),l?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=p(this),r=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!g(this,t)}}),o(f.prototype,n?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return v(this,0===t?0:t,e)}}:{add:function(t){return v(this,t=0===t?0:t,t)}}),l&&r(f.prototype,"size",{get:function(){return p(this).size}}),f},setStrong:function(t,e,n){var r=e+" Iterator",i=y(e),o=y(r);c(t,e,(function(t,e){d(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";(function(e){var r=n(369);t.exports=n(383)(r),"_sockjs_onload"in e&&setTimeout(e._sockjs_onload,1)}).call(this,n(6))},function(t,e,n){"use strict";t.exports=[n(370),n(373),n(236),n(237),n(176)(n(237)),n(241),n(176)(n(241)),n(242),n(379),n(176)(n(242)),n(380)]},function(t,e,n){"use strict";var r=n(61),i=n(39),o=n(5),a=n(29).EventEmitter,s=n(372);function u(t,e,n){if(!u.enabled())throw new Error("Transport created when disabled");a.call(this);var o=this,c=i.addPath(t,"/websocket");c="https"===c.slice(0,5)?"wss"+c.slice(5):"ws"+c.slice(4),this.url=c,this.ws=new s(this.url,[],n),this.ws.onmessage=function(t){t.data,o.emit("message",t.data)},this.unloadRef=r.unloadAdd((function(){o.ws.close()})),this.ws.onclose=function(t){t.code,t.reason,o.emit("close",t.code,t.reason),o._cleanup()},this.ws.onerror=function(t){o.emit("close",1006,"WebSocket connection broken"),o._cleanup()}}o(u,a),u.prototype.send=function(t){var e="["+t+"]";this.ws.send(e)},u.prototype.close=function(){var t=this.ws;this._cleanup(),t&&t.close()},u.prototype._cleanup=function(){var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},u.enabled=function(){return!!s},u.transportName="websocket",u.roundTrips=2,t.exports=u},function(t,e,n){"use strict";(function(e){e.crypto&&e.crypto.getRandomValues?t.exports.randomBytes=function(t){var n=new Uint8Array(t);return e.crypto.getRandomValues(n),n}:t.exports.randomBytes=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=Math.floor(256*Math.random());return e}}).call(this,n(6))},function(t,e,n){"use strict";(function(e){var n=e.WebSocket||e.MozWebSocket;t.exports=n?function(t){return new n(t)}:void 0}).call(this,n(6))},function(t,e,n){"use strict";(function(e){var r=n(5),i=n(83),o=n(130),a=n(131),s=n(105),u=n(106);function c(t){if(!s.enabled&&!a.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr_streaming",o,a)}r(c,i),c.enabled=function(t){return!t.nullOrigin&&(!u.isOpera()&&a.enabled)},c.transportName="xhr-streaming",c.roundTrips=2,c.needBody=!!e.document,t.exports=c}).call(this,n(6))},function(t,e,n){"use strict";var r=n(5),i=n(29).EventEmitter;function o(t,e){i.call(this),this.sendBuffer=[],this.sender=e,this.url=t}r(o,i),o.prototype.send=function(t){this.sendBuffer.push(t),this.sendStop||this.sendSchedule()},o.prototype.sendScheduleWait=function(){var t,e=this;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout((function(){e.sendStop=null,e.sendSchedule()}),25)},o.prototype.sendSchedule=function(){this.sendBuffer.length;var t=this;if(this.sendBuffer.length>0){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,(function(e){t.sendStop=null,e?(t.emit("close",e.code||1006,"Sending error: "+e),t.close()):t.sendScheduleWait()})),this.sendBuffer=[]}},o.prototype._cleanup=function(){this.removeAllListeners()},o.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},t.exports=o},function(t,e,n){"use strict";var r=n(5),i=n(29).EventEmitter;function o(t,e,n){i.call(this),this.Receiver=t,this.receiveUrl=e,this.AjaxObject=n,this._scheduleReceiver()}r(o,i),o.prototype._scheduleReceiver=function(){var t=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",(function(e){t.emit("message",e)})),e.once("close",(function(n,r){t.pollIsClosing,t.poll=e=null,t.pollIsClosing||("network"===r?t._scheduleReceiver():(t.emit("close",n||1006,r),t.removeAllListeners()))}))},o.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},t.exports=o},function(t,e,n){"use strict";var r=n(5),i=n(29).EventEmitter,o=n(238);function a(t){i.call(this);var e=this,n=this.es=new o(t);n.onmessage=function(t){t.data,e.emit("message",decodeURI(t.data))},n.onerror=function(t){n.readyState;var r=2!==n.readyState?"network":"permanent";e._cleanup(),e._close(r)}}r(a,i),a.prototype.abort=function(){this._cleanup(),this._close("user")},a.prototype._cleanup=function(){var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)},a.prototype._close=function(t){var e=this;setTimeout((function(){e.emit("close",null,t),e.removeAllListeners()}),200)},t.exports=a},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){"use strict";(function(e){var r=n(5),i=n(107),o=n(39),a=n(29).EventEmitter,s=n(82);function u(t){a.call(this);var n=this;i.polluteGlobalNamespace(),this.id="a"+s.string(6),t=o.addQuery(t,"c="+decodeURIComponent(i.WPrefix+"."+this.id)),u.htmlfileEnabled;var r=u.htmlfileEnabled?i.createHtmlfile:i.createIframe;e[i.WPrefix][this.id]={start:function(){n.iframeObj.loaded()},message:function(t){n.emit("message",t)},stop:function(){n._cleanup(),n._close("network")}},this.iframeObj=r(t,(function(){n._cleanup(),n._close("permanent")}))}r(u,a),u.prototype.abort=function(){this._cleanup(),this._close("user")},u.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete e[i.WPrefix][this.id]},u.prototype._close=function(t){this.emit("close",null,t),this.removeAllListeners()},u.htmlfileEnabled=!1;var c=["Active"].concat("Object").join("X");if(c in e)try{u.htmlfileEnabled=!!new e[c]("htmlfile")}catch(t){}u.enabled=u.htmlfileEnabled||i.iframeEnabled,t.exports=u}).call(this,n(6))},function(t,e,n){"use strict";var r=n(5),i=n(83),o=n(236),a=n(130),s=n(175);function u(t){if(!s.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr",a,s)}r(u,i),u.enabled=o.enabled,u.transportName="xdr-polling",u.roundTrips=2,t.exports=u},function(t,e,n){"use strict";(function(e){var r=n(5),i=n(234),o=n(381),a=n(382);function s(t){if(!s.enabled())throw new Error("Transport created when disabled");i.call(this,t,"/jsonp",a,o)}r(s,i),s.enabled=function(){return!!e.document},s.transportName="jsonp-polling",s.roundTrips=1,s.needBody=!0,t.exports=s}).call(this,n(6))},function(t,e,n){"use strict";(function(e){var r=n(107),i=n(82),o=n(106),a=n(39),s=n(5),u=n(29).EventEmitter;function c(t){var n=this;u.call(this),r.polluteGlobalNamespace(),this.id="a"+i.string(6);var o=a.addQuery(t,"c="+encodeURIComponent(r.WPrefix+"."+this.id));e[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(o),this.timeoutId=setTimeout((function(){n._abort(new Error("JSONP script loaded abnormally (timeout)"))}),c.timeout)}s(c,u),c.prototype.abort=function(){if(e[r.WPrefix][this.id]){var t=new Error("JSONP user aborted read");t.code=1e3,this._abort(t)}},c.timeout=35e3,c.scriptErrorTimeout=1e3,c.prototype._callback=function(t){this._cleanup(),this.aborting||(t&&this.emit("message",t),this.emit("close",null,"network"),this.removeAllListeners())},c.prototype._abort=function(t){this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()},c.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var t=this.script;t.parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null}delete e[r.WPrefix][this.id]},c.prototype._scriptError=function(){var t=this;this.errorTimer||(this.errorTimer=setTimeout((function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))}),c.scriptErrorTimeout))},c.prototype._createScript=function(t){var n,r=this,a=this.script=e.document.createElement("script");if(a.id="a"+i.string(8),a.src=t,a.type="text/javascript",a.charset="UTF-8",a.onerror=this._scriptError.bind(this),a.onload=function(){r._abort(new Error("JSONP script loaded abnormally (onload)"))},a.onreadystatechange=function(){if(a.readyState,/loaded|closed/.test(a.readyState)){if(a&&a.htmlFor&&a.onclick){r.loadedOkay=!0;try{a.onclick()}catch(t){}}a&&r._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"===typeof a.async&&e.document.attachEvent)if(o.isOpera())(n=this.script2=e.document.createElement("script")).text="try{var a = document.getElementById('"+a.id+"'); if(a)a.onerror();}catch(x){};",a.async=n.async=!1;else{try{a.htmlFor=a.id,a.event="onclick"}catch(t){}a.async=!0}"undefined"!==typeof a.async&&(a.async=!0);var s=e.document.getElementsByTagName("head")[0];s.insertBefore(a,s.firstChild),n&&s.insertBefore(n,s.firstChild)},t.exports=c}).call(this,n(6))},function(t,e,n){"use strict";(function(e){var r,i,o=n(82),a=n(39);t.exports=function(t,n,s){r||((r=e.document.createElement("form")).style.display="none",r.style.position="absolute",r.method="POST",r.enctype="application/x-www-form-urlencoded",r.acceptCharset="UTF-8",(i=e.document.createElement("textarea")).name="d",r.appendChild(i),e.document.body.appendChild(r));var u="a"+o.string(8);r.target=u,r.action=a.addQuery(a.addPath(t,"/jsonp_send"),"i="+u);var c=function(t){try{return e.document.createElement('<iframe name="'+t+'">')}catch(r){var n=e.document.createElement("iframe");return n.name=t,n}}(u);c.id=u,c.style.display="none",r.appendChild(c);try{i.value=n}catch(t){}r.submit();var f=function(t){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,setTimeout((function(){c.parentNode.removeChild(c),c=null}),500),i.value="",s(t))};return c.onerror=function(){f()},c.onload=function(){f()},c.onreadystatechange=function(t){c.readyState,"complete"===c.readyState&&f()},function(){f(new Error("Aborted"))}}}).call(this,n(6))},function(t,e,n){"use strict";(function(e){n(384);var r,i=n(134),o=n(5),a=n(50),s=n(82),u=n(385),c=n(39),f=n(61),l=n(386),h=n(177),p=n(106),d=n(387),y=n(178),v=n(233),g=n(243),b=n(388),m=n(389),w=n(390);function E(t,e,n){if(!(this instanceof E))return new E(t,e,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");v.call(this),this.readyState=E.CONNECTING,this.extensions="",this.protocol="",(n=n||{}).protocols_whitelist&&d.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var r=n.sessionId||8;if("function"===typeof r)this._generateSessionId=r;else{if("number"!==typeof r)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return s.string(r)}}this._server=n.server||s.numberString(1e3);var o=new i(t);if(!o.host||!o.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(o.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==o.protocol&&"https:"!==o.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+o.protocol+"' is not allowed.");var a="https:"===o.protocol;if("https:"===g.protocol&&!a)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var u=e.sort();u.forEach((function(t,e){if(!t)throw new SyntaxError("The protocols entry '"+t+"' is invalid.");if(e<u.length-1&&t===u[e+1])throw new SyntaxError("The protocols entry '"+t+"' is duplicated.")}));var f=c.getOrigin(g.href);this._origin=f?f.toLowerCase():null,o.set("pathname",o.pathname.replace(/\/+$/,"")),this.url=o.href,this.url,this._urlInfo={nullOrigin:!p.hasDomain(),sameOrigin:c.isOriginEqual(this.url,g.href),sameScheme:c.isSchemeEqual(this.url,g.href)},this._ir=new w(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function x(t){return 1e3===t||t>=3e3&&t<=4999}o(E,v),E.prototype.close=function(t,e){if(t&&!x(t))throw new Error("InvalidAccessError: Invalid code");if(e&&e.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==E.CLOSING&&this.readyState!==E.CLOSED){this._close(t||1e3,e||"Normal closure",!0)}},E.prototype.send=function(t){if("string"!==typeof t&&(t=""+t),this.readyState===E.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===E.OPEN&&this._transport.send(u.quote(t))},E.version=n(240),E.CONNECTING=0,E.OPEN=1,E.CLOSING=2,E.CLOSED=3,E.prototype._receiveInfo=function(t,e){if(this._ir=null,t){this._rto=this.countRTO(e),this._transUrl=t.base_url?t.base_url:this.url,t=h.extend(t,this._urlInfo);var n=r.filterToEnabled(this._transportsWhitelist,t);this._transports=n.main,this._transports.length,this._connect()}else this._close(1002,"Cannot connect to server")},E.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if(t.transportName,t.needBody&&(!e.document.body||"undefined"!==typeof e.document.readyState&&"complete"!==e.document.readyState&&"interactive"!==e.document.readyState))return this._transports.unshift(t),void f.attachEvent("load",this._connect.bind(this));var n=Math.max(this._timeout,this._rto*t.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),n);var r=c.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),i=this._transportOptions[t.transportName],o=new t(r,this._transUrl,i);return o.on("message",this._transportMessage.bind(this)),o.once("close",this._transportClose.bind(this)),o.transportName=t.transportName,void(this._transport=o)}this._close(2e3,"All transports failed",!1)},E.prototype._transportTimeout=function(){this.readyState===E.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},E.prototype._transportMessage=function(t){var e,n=this,r=t.slice(0,1),i=t.slice(1);switch(r){case"o":return void this._open();case"h":return this.dispatchEvent(new y("heartbeat")),void this.transport}if(i)try{e=a.parse(i)}catch(t){}if("undefined"!==typeof e)switch(r){case"a":Array.isArray(e)&&e.forEach((function(t){n.transport,n.dispatchEvent(new m(t))}));break;case"m":this.transport,this.dispatchEvent(new m(e));break;case"c":Array.isArray(e)&&2===e.length&&this._close(e[0],e[1],!0)}},E.prototype._transportClose=function(t,e){this.transport,this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),x(t)||2e3===t||this.readyState!==E.CONNECTING?this._close(t,e):this._connect()},E.prototype._open=function(){this._transport&&this._transport.transportName,this.readyState,this.readyState===E.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=E.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new y("open")),this.transport):this._close(1006,"Server lost session")},E.prototype._close=function(t,e,n){this.transport,this.readyState;var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===E.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=E.CLOSING,setTimeout(function(){this.readyState=E.CLOSED,r&&this.dispatchEvent(new y("error"));var i=new b("close");i.wasClean=n||!1,i.code=t||1e3,i.reason=e,this.dispatchEvent(i),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},E.prototype.countRTO=function(t){return t>100?4*t:300+t},t.exports=function(t){return r=l(t),n(393)(E,t),E}}).call(this,n(6))},function(t,e,n){"use strict";var r,i=Array.prototype,o=Object.prototype,a=Function.prototype,s=String.prototype,u=i.slice,c=o.toString,f=function(t){return"[object Function]"===o.toString.call(t)},l=function(t){return"[object String]"===c.call(t)},h=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}();r=h?function(t,e,n,r){!r&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,n,r){!r&&e in t||(t[e]=n)};var p=function(t,e,n){for(var i in e)o.hasOwnProperty.call(e,i)&&r(t,i,e[i],n)},d=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)};function y(t){var e=+t;return e!==e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function v(){}p(a,{bind:function(t){var e=this;if(!f(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n=u.call(arguments,1),r=function(){if(this instanceof s){var r=e.apply(this,n.concat(u.call(arguments)));return Object(r)===r?r:this}return e.apply(t,n.concat(u.call(arguments)))},i=Math.max(0,e.length-n.length),o=[],a=0;a<i;a++)o.push("$"+a);var s=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")(r);return e.prototype&&(v.prototype=e.prototype,s.prototype=new v,v.prototype=null),s}}),p(Array,{isArray:function(t){return"[object Array]"===c.call(t)}});var g,b,m,w=Object("a"),E="a"!==w[0]||!(0 in w);p(i,{forEach:function(t){var e=d(this),n=E&&l(this)?this.split(""):e,r=arguments[1],i=-1,o=n.length>>>0;if(!f(t))throw new TypeError;for(;++i<o;)i in n&&t.call(r,n[i],i,e)}},(g=i.forEach,b=!0,m=!0,g&&(g.call("foo",(function(t,e,n){"object"!==typeof n&&(b=!1)})),g.call([1],(function(){m="string"===typeof this}),"x")),!(g&&b&&m)));var x=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);p(i,{indexOf:function(t){var e=E&&l(this)?this.split(""):d(this),n=e.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=y(arguments[1])),r=r>=0?r:Math.max(0,n+r);r<n;r++)if(r in e&&e[r]===t)return r;return-1}},x);var O,T=s.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(O=void 0===/()??/.exec("")[1],s.split=function(t,e){var n=this;if(void 0===t&&0===e)return[];if("[object RegExp]"!==c.call(t))return T.call(this,t,e);var r,o,a,s,u=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),l=0;for(t=new RegExp(t.source,f+"g"),n+="",O||(r=new RegExp("^"+t.source+"$(?!\\s)",f)),e=void 0===e?-1>>>0:e>>>0;(o=t.exec(n))&&!((a=o.index+o[0].length)>l&&(u.push(n.slice(l,o.index)),!O&&o.length>1&&o[0].replace(r,(function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(o[t]=void 0)})),o.length>1&&o.index<n.length&&i.push.apply(u,o.slice(1)),s=o[0].length,l=a,u.length>=e));)t.lastIndex===o.index&&t.lastIndex++;return l===n.length?!s&&t.test("")||u.push(""):u.push(n.slice(l)),u.length>e?u.slice(0,e):u}):"0".split(void 0,0).length&&(s.split=function(t,e){return void 0===t&&0===e?[]:T.call(this,t,e)});var S=s.substr,k="".substr&&"b"!=="0b".substr(-1);p(s,{substr:function(t,e){return S.call(this,t<0&&(t=this.length+t)<0?0:t,e)}},k)},function(t,e,n){"use strict";var r,i=n(50),o=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;t.exports={quote:function(t){var e=i.stringify(t);return o.lastIndex=0,o.test(e)?(r||(r=function(t){var e,n={},r=[];for(e=0;e<65536;e++)r.push(String.fromCharCode(e));return t.lastIndex=0,r.join("").replace(t,(function(t){return n[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""})),t.lastIndex=0,n}(o)),e.replace(o,(function(t){return r[t]}))):e}}},function(t,e,n){"use strict";t.exports=function(t){return{filterToEnabled:function(e,n){var r={main:[],facade:[]};return e?"string"===typeof e&&(e=[e]):e=[],t.forEach((function(t){t&&("websocket"===t.transportName&&!1===n.websocket||(e.length&&-1===e.indexOf(t.transportName)?t.transportName:t.enabled(n)?(t.transportName,r.main.push(t),t.facadeTransport&&r.facade.push(t.facadeTransport)):t.transportName))})),r}}}},function(t,e,n){"use strict";(function(e){var n={};["log","debug","warn"].forEach((function(t){var r;try{r=e.console&&e.console[t]&&e.console[t].apply}catch(t){}n[t]=r?function(){return e.console[t].apply(e.console,arguments)}:"log"===t?function(){}:n.log})),t.exports=n}).call(this,n(6))},function(t,e,n){"use strict";var r=n(5),i=n(178);function o(){i.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}r(o,i),t.exports=o},function(t,e,n){"use strict";var r=n(5),i=n(178);function o(t){i.call(this),this.initEvent("message",!1,!1),this.data=t}r(o,i),t.exports=o},function(t,e,n){"use strict";var r=n(29).EventEmitter,i=n(5),o=n(39),a=n(175),s=n(131),u=n(105),c=n(391),f=n(392),l=n(245);function h(t,e){var n=this;r.call(this),setTimeout((function(){n.doXhr(t,e)}),0)}i(h,r),h._getReceiver=function(t,e,n){return n.sameOrigin?new l(e,u):s.enabled?new l(e,s):a.enabled&&n.sameScheme?new l(e,a):f.enabled()?new f(t,e):new l(e,c)},h.prototype.doXhr=function(t,e){var n=this,r=o.addPath(t,"/info");this.xo=h._getReceiver(t,r,e),this.timeoutRef=setTimeout((function(){n._cleanup(!1),n.emit("finish")}),h.timeout),this.xo.once("finish",(function(t,e){n._cleanup(!0),n.emit("finish",t,e)}))},h.prototype._cleanup=function(t){clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null},h.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},h.timeout=8e3,t.exports=h},function(t,e,n){"use strict";var r=n(29).EventEmitter;function i(){var t=this;r.call(this),this.to=setTimeout((function(){t.emit("finish",200,"{}")}),i.timeout)}n(5)(i,r),i.prototype.close=function(){clearTimeout(this.to)},i.timeout=2e3,t.exports=i},function(t,e,n){"use strict";(function(e){var r=n(29).EventEmitter,i=n(5),o=n(50),a=n(61),s=n(239),u=n(244);function c(t,n){var i=this;r.call(this);var c=function(){var e=i.ifr=new s(u.transportName,n,t);e.once("message",(function(t){if(t){var e;try{e=o.parse(t)}catch(t){return i.emit("finish"),void i.close()}var n=e[0],r=e[1];i.emit("finish",n,r)}i.close()})),e.once("close",(function(){i.emit("finish"),i.close()}))};e.document.body?c():a.attachEvent("load",c)}i(c,r),c.enabled=function(){return s.enabled()},c.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},t.exports=c}).call(this,n(6))},function(t,e,n){"use strict";var r=n(39),i=n(61),o=n(50),a=n(394),s=n(244),u=n(107),c=n(243);t.exports=function(t,e){var n,f={};e.forEach((function(t){t.facadeTransport&&(f[t.facadeTransport.transportName]=t.facadeTransport)})),f[s.transportName]=s,t.bootstrap_iframe=function(){var e;u.currentWindowId=c.hash.slice(1);i.attachEvent("message",(function(i){if(i.source===parent&&("undefined"===typeof n&&(n=i.origin),i.origin===n)){var s;try{s=o.parse(i.data)}catch(t){return void i.data}if(s.windowId===u.currentWindowId)switch(s.type){case"s":var l;try{l=o.parse(s.data)}catch(t){s.data;break}var h=l[0],p=l[1],d=l[2],y=l[3];if(h!==t.version)throw new Error('Incompatible SockJS! Main site uses: "'+h+'", the iframe: "'+t.version+'".');if(!r.isOriginEqual(d,c.href)||!r.isOriginEqual(y,c.href))throw new Error("Can't connect to different domain from within an iframe. ("+c.href+", "+d+", "+y+")");e=new a(new f[p](d,y));break;case"m":e._send(s.data);break;case"c":e&&e._close(),e=null}}})),u.postMessage("s")}}},function(t,e,n){"use strict";var r=n(50),i=n(107);function o(t){this._transport=t,t.on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}o.prototype._transportClose=function(t,e){i.postMessage("c",r.stringify([t,e]))},o.prototype._transportMessage=function(t){i.postMessage("t",t)},o.prototype._send=function(t){this._transport.send(t)},o.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},t.exports=o},function(t,e,n){"use strict";var r=n(2),i=n(4),o=n(179),a=n(114),s=o.ArrayBuffer;r({global:!0,forced:i.ArrayBuffer!==s},{ArrayBuffer:s}),a("ArrayBuffer")},function(t,e){var n=Math.abs,r=Math.pow,i=Math.floor,o=Math.log,a=Math.LN2;t.exports={pack:function(t,e,s){var u,c,f,l=new Array(s),h=8*s-e-1,p=(1<<h)-1,d=p>>1,y=23===e?r(2,-24)-r(2,-77):0,v=t<0||0===t&&1/t<0?1:0,g=0;for((t=n(t))!=t||t===1/0?(c=t!=t?1:0,u=p):(u=i(o(t)/a),t*(f=r(2,-u))<1&&(u--,f*=2),(t+=u+d>=1?y/f:y*r(2,1-d))*f>=2&&(u++,f/=2),u+d>=p?(c=0,u=p):u+d>=1?(c=(t*f-1)*r(2,e),u+=d):(c=t*r(2,d-1)*r(2,e),u=0));e>=8;l[g++]=255&c,c/=256,e-=8);for(u=u<<e|c,h+=e;h>0;l[g++]=255&u,u/=256,h-=8);return l[--g]|=128*v,l},unpack:function(t,e){var n,i=t.length,o=8*i-e-1,a=(1<<o)-1,s=a>>1,u=o-7,c=i-1,f=t[c--],l=127&f;for(f>>=7;u>0;l=256*l+t[c],c--,u-=8);for(n=l&(1<<-u)-1,l>>=-u,u+=e;u>0;n=256*n+t[c],c--,u-=8);if(0===l)l=1-s;else{if(l===a)return n?NaN:f?-1/0:1/0;n+=r(2,e),l-=s}return(f?-1:1)*n*r(2,l-e)}}},function(t,e,n){var r,i,o;i=[],void 0===(o="function"===typeof(r=function(){"use strict";function t(t,e,n){this.low=0|t,this.high=0|e,this.unsigned=!!n}function e(t){return!0===(t&&t.__isLong__)}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),t.isLong=e;var n={},r={};function i(t,e){var i,o,s;return e?(s=0<=(t>>>=0)&&t<256)&&(o=r[t])?o:(i=a(t,(0|t)<0?-1:0,!0),s&&(r[t]=i),i):(s=-128<=(t|=0)&&t<128)&&(o=n[t])?o:(i=a(t,t<0?-1:0,!1),s&&(n[t]=i),i)}function o(t,e){if(isNaN(t)||!isFinite(t))return e?y:d;if(e){if(t<0)return y;if(t>=l)return w}else{if(t<=-h)return E;if(t+1>=h)return m}return t<0?o(-t,e).neg():a(t%f|0,t/f|0,e)}function a(e,n,r){return new t(e,n,r)}t.fromInt=i,t.fromNumber=o,t.fromBits=a;var s=Math.pow;function u(t,e,n){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return d;if("number"===typeof e?(n=e,e=!1):e=!!e,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(t.substring(1),e,n).neg();for(var i=o(s(n,8)),a=d,c=0;c<t.length;c+=8){var f=Math.min(8,t.length-c),l=parseInt(t.substring(c,c+f),n);if(f<8){var h=o(s(n,f));a=a.mul(h).add(o(l))}else a=(a=a.mul(i)).add(o(l))}return a.unsigned=e,a}function c(e){return e instanceof t?e:"number"===typeof e?o(e):"string"===typeof e?u(e):a(e.low,e.high,e.unsigned)}t.fromString=u,t.fromValue=c;var f=4294967296,l=f*f,h=l/2,p=i(1<<24),d=i(0);t.ZERO=d;var y=i(0,!0);t.UZERO=y;var v=i(1);t.ONE=v;var g=i(1,!0);t.UONE=g;var b=i(-1);t.NEG_ONE=b;var m=a(-1,2147483647,!1);t.MAX_VALUE=m;var w=a(-1,-1,!0);t.MAX_UNSIGNED_VALUE=w;var E=a(0,-2147483648,!1);t.MIN_VALUE=E;var x=t.prototype;return x.toInt=function(){return this.unsigned?this.low>>>0:this.low},x.toNumber=function(){return this.unsigned?(this.high>>>0)*f+(this.low>>>0):this.high*f+(this.low>>>0)},x.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(E)){var e=o(t),n=this.div(e),r=n.mul(e).sub(this);return n.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=o(s(t,6),this.unsigned),a=this,u="";;){var c=a.div(i),f=(a.sub(c.mul(i)).toInt()>>>0).toString(t);if((a=c).isZero())return f+u;for(;f.length<6;)f="0"+f;u=""+f+u}},x.getHighBits=function(){return this.high},x.getHighBitsUnsigned=function(){return this.high>>>0},x.getLowBits=function(){return this.low},x.getLowBitsUnsigned=function(){return this.low>>>0},x.getNumBitsAbs=function(){if(this.isNegative())return this.eq(E)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},x.isZero=function(){return 0===this.high&&0===this.low},x.isNegative=function(){return!this.unsigned&&this.high<0},x.isPositive=function(){return this.unsigned||this.high>=0},x.isOdd=function(){return 1===(1&this.low)},x.isEven=function(){return 0===(1&this.low)},x.equals=function(t){return e(t)||(t=c(t)),(this.unsigned===t.unsigned||this.high>>>31!==1||t.high>>>31!==1)&&this.high===t.high&&this.low===t.low},x.eq=x.equals,x.notEquals=function(t){return!this.eq(t)},x.neq=x.notEquals,x.lessThan=function(t){return this.comp(t)<0},x.lt=x.lessThan,x.lessThanOrEqual=function(t){return this.comp(t)<=0},x.lte=x.lessThanOrEqual,x.greaterThan=function(t){return this.comp(t)>0},x.gt=x.greaterThan,x.greaterThanOrEqual=function(t){return this.comp(t)>=0},x.gte=x.greaterThanOrEqual,x.compare=function(t){if(e(t)||(t=c(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},x.comp=x.compare,x.negate=function(){return!this.unsigned&&this.eq(E)?E:this.not().add(v)},x.neg=x.negate,x.add=function(t){e(t)||(t=c(t));var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,s=t.high>>>16,u=65535&t.high,f=t.low>>>16,l=0,h=0,p=0,d=0;return p+=(d+=o+(65535&t.low))>>>16,h+=(p+=i+f)>>>16,l+=(h+=r+u)>>>16,l+=n+s,a((p&=65535)<<16|(d&=65535),(l&=65535)<<16|(h&=65535),this.unsigned)},x.subtract=function(t){return e(t)||(t=c(t)),this.add(t.neg())},x.sub=x.subtract,x.multiply=function(t){if(this.isZero())return d;if(e(t)||(t=c(t)),t.isZero())return d;if(this.eq(E))return t.isOdd()?E:d;if(t.eq(E))return this.isOdd()?E:d;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(p)&&t.lt(p))return o(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,s=65535&this.low,u=t.high>>>16,f=65535&t.high,l=t.low>>>16,h=65535&t.low,y=0,v=0,g=0,b=0;return g+=(b+=s*h)>>>16,v+=(g+=i*h)>>>16,g&=65535,v+=(g+=s*l)>>>16,y+=(v+=r*h)>>>16,v&=65535,y+=(v+=i*l)>>>16,v&=65535,y+=(v+=s*f)>>>16,y+=n*h+r*l+i*f+s*u,a((g&=65535)<<16|(b&=65535),(y&=65535)<<16|(v&=65535),this.unsigned)},x.mul=x.multiply,x.divide=function(t){if(e(t)||(t=c(t)),t.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?y:d;var n,r,i;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return y;if(t.gt(this.shru(1)))return g;i=y}else{if(this.eq(E))return t.eq(v)||t.eq(b)?E:t.eq(E)?v:(n=this.shr(1).div(t).shl(1)).eq(d)?t.isNegative()?v:b:(r=this.sub(t.mul(n)),i=n.add(r.div(t)));if(t.eq(E))return this.unsigned?y:d;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=d}for(r=this;r.gte(t);){n=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),u=a<=48?1:s(2,a-48),f=o(n),l=f.mul(t);l.isNegative()||l.gt(r);)l=(f=o(n-=u,this.unsigned)).mul(t);f.isZero()&&(f=v),i=i.add(f),r=r.sub(l)}return i},x.div=x.divide,x.modulo=function(t){return e(t)||(t=c(t)),this.sub(this.div(t).mul(t))},x.mod=x.modulo,x.not=function(){return a(~this.low,~this.high,this.unsigned)},x.and=function(t){return e(t)||(t=c(t)),a(this.low&t.low,this.high&t.high,this.unsigned)},x.or=function(t){return e(t)||(t=c(t)),a(this.low|t.low,this.high|t.high,this.unsigned)},x.xor=function(t){return e(t)||(t=c(t)),a(this.low^t.low,this.high^t.high,this.unsigned)},x.shiftLeft=function(t){return e(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?a(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):a(0,this.low<<t-32,this.unsigned)},x.shl=x.shiftLeft,x.shiftRight=function(t){return e(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?a(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):a(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},x.shr=x.shiftRight,x.shiftRightUnsigned=function(t){if(e(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?a(this.low>>>t|n<<32-t,n>>>t,this.unsigned):a(32===t?n:n>>>t-32,0,this.unsigned)},x.shru=x.shiftRightUnsigned,x.toSigned=function(){return this.unsigned?a(this.low,this.high,!1):this},x.toUnsigned=function(){return this.unsigned?this:a(this.low,this.high,!0)},x.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},x.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24&255,255&t,t>>>8&255,t>>>16&255,t>>>24&255]},x.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e]},t})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){n(399)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){"use strict";var r=n(2),i=n(4),o=n(16),a=n(400),s=n(8),u=n(179),c=n(69),f=n(64),l=n(35),h=n(20),p=n(247),d=n(250),y=n(92),v=n(19),g=n(99),b=n(11),m=n(66),w=n(98),E=n(95).f,x=n(402),O=n(37).forEach,T=n(114),S=n(24),k=n(55),_=n(44),j=n(232),A=_.get,I=_.set,C=S.f,P=k.f,R=Math.round,L=i.RangeError,N=u.ArrayBuffer,D=u.DataView,U=s.NATIVE_ARRAY_BUFFER_VIEWS,M=s.TYPED_ARRAY_TAG,F=s.TypedArray,B=s.TypedArrayPrototype,H=s.aTypedArrayConstructor,q=s.isTypedArray,z=function(t,e){for(var n=0,r=e.length,i=new(H(t))(r);r>n;)i[n]=e[n++];return i},V=function(t,e){C(t,e,{get:function(){return A(this)[e]}})},G=function(t){var e;return t instanceof N||"ArrayBuffer"==(e=g(t))||"SharedArrayBuffer"==e},W=function(t,e){return q(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},J=function(t,e){return W(t,e=y(e,!0))?f(2,t[e]):P(t,e)},Y=function(t,e,n){return!(W(t,e=y(e,!0))&&b(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?C(t,e,n):(t[e]=n.value,t)};o?(U||(k.f=J,S.f=Y,V(B,"buffer"),V(B,"byteOffset"),V(B,"byteLength"),V(B,"length")),r({target:"Object",stat:!0,forced:!U},{getOwnPropertyDescriptor:J,defineProperty:Y}),t.exports=function(t,e,n){var o=t.match(/\d+$/)[0]/8,s=t+(n?"Clamped":"")+"Array",u="get"+t,f="set"+t,y=i[s],v=y,g=v&&v.prototype,S={},k=function(t,e){C(t,e,{get:function(){return function(t,e){var n=A(t);return n.view[u](e*o+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,r){var i=A(t);n&&(r=(r=R(r))<0?0:r>255?255:255&r),i.view[f](e*o+i.byteOffset,r,!0)}(this,e,t)},enumerable:!0})};U?a&&(v=e((function(t,e,n,r){return c(t,v,s),j(b(e)?G(e)?void 0!==r?new y(e,d(n,o),r):void 0!==n?new y(e,d(n,o)):new y(e):q(e)?z(v,e):x.call(v,e):new y(p(e)),t,v)})),w&&w(v,F),O(E(y),(function(t){t in v||l(v,t,y[t])})),v.prototype=g):(v=e((function(t,e,n,r){c(t,v,s);var i,a,u,f=0,l=0;if(b(e)){if(!G(e))return q(e)?z(v,e):x.call(v,e);i=e,l=d(n,o);var y=e.byteLength;if(void 0===r){if(y%o)throw L("Wrong length");if((a=y-l)<0)throw L("Wrong length")}else if((a=h(r)*o)+l>y)throw L("Wrong length");u=a/o}else u=p(e),i=new N(a=u*o);for(I(t,{buffer:i,byteOffset:l,byteLength:a,length:u,view:new D(i)});f<u;)k(t,f++)})),w&&w(v,F),g=v.prototype=m(B)),g.constructor!==v&&l(g,"constructor",v),M&&l(g,M,s),S[s]=v,r({global:!0,forced:v!=y,sham:!U},S),"BYTES_PER_ELEMENT"in v||l(v,"BYTES_PER_ELEMENT",o),"BYTES_PER_ELEMENT"in g||l(g,"BYTES_PER_ELEMENT",o),T(s)}):t.exports=function(){}},function(t,e,n){var r=n(4),i=n(3),o=n(115),a=n(8).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;t.exports=!a||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!o((function(t){new u,new u(null),new u(1.5),new u(t)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},function(t,e,n){var r=n(65);t.exports=function(t){var e=r(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},function(t,e,n){var r=n(36),i=n(20),o=n(100),a=n(157),s=n(67),u=n(8).aTypedArrayConstructor;t.exports=function(t){var e,n,c,f,l,h,p=r(t),d=arguments.length,y=d>1?arguments[1]:void 0,v=void 0!==y,g=o(p);if(void 0!=g&&!a(g))for(h=(l=g.call(p)).next,p=[];!(f=h.call(l)).done;)p.push(f.value);for(v&&d>2&&(y=s(y,arguments[2],2)),n=i(p.length),c=new(u(this))(n),e=0;n>e;e++)c[e]=v?y(p[e],e):p[e];return c}},function(t,e,n){"use strict";var r=n(8),i=n(404),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",(function(t,e){return i.call(o(this),t,e,arguments.length>2?arguments[2]:void 0)}))},function(t,e,n){"use strict";var r=n(36),i=n(77),o=n(20),a=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),s=o(n.length),u=i(t,s),c=i(e,s),f=arguments.length>2?arguments[2]:void 0,l=a((void 0===f?s:i(f,s))-c,s-u),h=1;for(c<u&&u<c+l&&(h=-1,c+=l-1,u+=l-1);l-- >0;)c in n?n[u]=n[c]:delete n[u],u+=h,c+=h;return n}},function(t,e,n){"use strict";var r=n(8),i=n(37).every,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(8),i=n(248),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",(function(t){return i.apply(o(this),arguments)}))},function(t,e,n){"use strict";var r=n(8),i=n(37).filter,o=n(70),a=r.aTypedArray,s=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("filter",(function(t){for(var e=i(a(this),t,arguments.length>1?arguments[1]:void 0),n=o(this,this.constructor),r=0,u=e.length,c=new(s(n))(u);u>r;)c[r]=e[r++];return c}))},function(t,e,n){"use strict";var r=n(8),i=n(37).find,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(8),i=n(37).findIndex,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(8),i=n(37).forEach,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(t){i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(8),i=n(96).includes,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(8),i=n(96).indexOf,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(14),a=n(7)("iterator"),s=r.Uint8Array,u=o.values,c=o.keys,f=o.entries,l=i.aTypedArray,h=i.exportTypedArrayMethod,p=s&&s.prototype[a],d=!!p&&("values"==p.name||void 0==p.name),y=function(){return u.call(l(this))};h("entries",(function(){return f.call(l(this))})),h("keys",(function(){return c.call(l(this))})),h("values",y,!d),h(a,y,!d)},function(t,e,n){"use strict";var r=n(8),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=[].join;o("join",(function(t){return a.apply(i(this),arguments)}))},function(t,e,n){"use strict";var r=n(8),i=n(416),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(t){return i.apply(o(this),arguments)}))},function(t,e,n){"use strict";var r=n(41),i=n(65),o=n(20),a=n(102),s=n(49),u=Math.min,c=[].lastIndexOf,f=!!c&&1/[1].lastIndexOf(1,-0)<0,l=a("lastIndexOf"),h=s("indexOf",{ACCESSORS:!0,1:0}),p=f||!l||!h;t.exports=p?function(t){if(f)return c.apply(this,arguments)||0;var e=r(this),n=o(e.length),a=n-1;for(arguments.length>1&&(a=u(a,i(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:c},function(t,e,n){"use strict";var r=n(8),i=n(37).map,o=n(70),a=r.aTypedArray,s=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(s(o(t,t.constructor)))(e)}))}))},function(t,e,n){"use strict";var r=n(8),i=n(161).left,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(8),i=n(161).right,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(8),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=Math.floor;o("reverse",(function(){for(var t,e=i(this).length,n=a(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this}))},function(t,e,n){"use strict";var r=n(8),i=n(20),o=n(250),a=n(36),s=n(3),u=r.aTypedArray;(0,r.exportTypedArrayMethod)("set",(function(t){u(this);var e=o(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=a(t),s=i(r.length),c=0;if(s+e>n)throw RangeError("Wrong length");for(;c<s;)this[e+c]=r[c++]}),s((function(){new Int8Array(1).set({})})))},function(t,e,n){"use strict";var r=n(8),i=n(70),o=n(3),a=r.aTypedArray,s=r.aTypedArrayConstructor,u=r.exportTypedArrayMethod,c=[].slice;u("slice",(function(t,e){for(var n=c.call(a(this),t,e),r=i(this,this.constructor),o=0,u=n.length,f=new(s(r))(u);u>o;)f[o]=n[o++];return f}),o((function(){new Int8Array(1).slice()})))},function(t,e,n){"use strict";var r=n(8),i=n(37).some,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(8),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=[].sort;o("sort",(function(t){return a.call(i(this),t)}))},function(t,e,n){"use strict";var r=n(8),i=n(20),o=n(77),a=n(70),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(t,e){var n=s(this),r=n.length,u=o(t,r);return new(a(n,n.constructor))(n.buffer,n.byteOffset+u*n.BYTES_PER_ELEMENT,i((void 0===e?r:o(e,r))-u))}))},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(3),a=r.Int8Array,s=i.aTypedArray,u=i.exportTypedArrayMethod,c=[].toLocaleString,f=[].slice,l=!!a&&o((function(){c.call(new a(1))}));u("toLocaleString",(function(){return c.apply(l?f.call(s(this)):s(this),arguments)}),o((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!o((function(){a.prototype.toLocaleString.call([1,2])})))},function(t,e,n){"use strict";var r=n(8).exportTypedArrayMethod,i=n(3),o=n(4).Uint8Array,a=o&&o.prototype||{},s=[].toString,u=[].join;i((function(){s.call({})}))&&(s=function(){return u.call(this)});var c=a.toString!=s;r("toString",s,c)},function(t,e,n){var r=n(2),i=n(231),o=n(3),a=n(11),s=n(173).onFreeze,u=Object.freeze;r({target:"Object",stat:!0,forced:o((function(){u(1)})),sham:!i},{freeze:function(t){return u&&a(t)?u(s(t)):t}})},function(t,e,n){"use strict";n(21);var r,i=n(2),o=n(16),a=n(251),s=n(4),u=n(190),c=n(38),f=n(69),l=n(19),h=n(206),p=n(228),d=n(160).codeAt,y=n(430),v=n(58),g=n(431),b=n(44),m=s.URL,w=g.URLSearchParams,E=g.getState,x=b.set,O=b.getterFor("URL"),T=Math.floor,S=Math.pow,k=/[A-Za-z]/,_=/[\d+\-.A-Za-z]/,j=/\d/,A=/^(0x|0X)/,I=/^[0-7]+$/,C=/^\d+$/,P=/^[\dA-Fa-f]+$/,R=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,L=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,N=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,D=/[\u0009\u000A\u000D]/g,U=function(t,e){var n,r,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(n=F(e.slice(1,-1))))return"Invalid host";t.host=n}else if(J(t)){if(e=y(e),R.test(e))return"Invalid host";if(null===(n=M(e)))return"Invalid host";t.host=n}else{if(L.test(e))return"Invalid host";for(n="",r=p(e),i=0;i<r.length;i++)n+=G(r[i],H);t.host=n}},M=function(t){var e,n,r,i,o,a,s,u=t.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(e=u.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(i=u[r]))return t;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=A.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?C:8==o?I:P).test(i))return t;a=parseInt(i,o)}n.push(a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=S(256,5-e))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*S(256,3-r);return s},F=function(t){var e,n,r,i,o,a,s,u=[0,0,0,0,0,0,0,0],c=0,f=null,l=0,h=function(){return t.charAt(l)};if(":"==h()){if(":"!=t.charAt(1))return;l+=2,f=++c}for(;h();){if(8==c)return;if(":"!=h()){for(e=n=0;n<4&&P.test(h());)e=16*e+parseInt(h(),16),l++,n++;if("."==h()){if(0==n)return;if(l-=n,c>6)return;for(r=0;h();){if(i=null,r>0){if(!("."==h()&&r<4))return;l++}if(!j.test(h()))return;for(;j.test(h());){if(o=parseInt(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;l++}u[c]=256*u[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==h()){if(l++,!h())return}else if(h())return;u[c++]=e}else{if(null!==f)return;l++,f=++c}}if(null!==f)for(a=c-f,c=7;0!=c&&a>0;)s=u[c],u[c--]=u[f+a-1],u[f+--a]=s;else if(8!=c)return;return u},B=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=T(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,o=0;o<8;o++)0!==t[o]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(e=r,n=i),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},H={},q=h({},H,{" ":1,'"':1,"<":1,">":1,"`":1}),z=h({},q,{"#":1,"?":1,"{":1,"}":1}),V=h({},z,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),G=function(t,e){var n=d(t,0);return n>32&&n<127&&!l(e,t)?t:encodeURIComponent(t)},W={ftp:21,file:null,http:80,https:443,ws:80,wss:443},J=function(t){return l(W,t.scheme)},Y=function(t){return""!=t.username||""!=t.password},Z=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},K=function(t,e){var n;return 2==t.length&&k.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},$=function(t){var e;return t.length>1&&K(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},X=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&K(e[0],!0)||e.pop()},Q=function(t){return"."===t||"%2e"===t.toLowerCase()},tt={},et={},nt={},rt={},it={},ot={},at={},st={},ut={},ct={},ft={},lt={},ht={},pt={},dt={},yt={},vt={},gt={},bt={},mt={},wt={},Et=function(t,e,n,i){var o,a,s,u,c,f=n||tt,h=0,d="",y=!1,v=!1,g=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(N,"")),e=e.replace(D,""),o=p(e);h<=o.length;){switch(a=o[h],f){case tt:if(!a||!k.test(a)){if(n)return"Invalid scheme";f=nt;continue}d+=a.toLowerCase(),f=et;break;case et:if(a&&(_.test(a)||"+"==a||"-"==a||"."==a))d+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";d="",f=nt,h=0;continue}if(n&&(J(t)!=l(W,d)||"file"==d&&(Y(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=d,n)return void(J(t)&&W[t.scheme]==t.port&&(t.port=null));d="","file"==t.scheme?f=pt:J(t)&&i&&i.scheme==t.scheme?f=rt:J(t)?f=st:"/"==o[h+1]?(f=it,h++):(t.cannotBeABaseURL=!0,t.path.push(""),f=bt)}break;case nt:if(!i||i.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(i.cannotBeABaseURL&&"#"==a){t.scheme=i.scheme,t.path=i.path.slice(),t.query=i.query,t.fragment="",t.cannotBeABaseURL=!0,f=wt;break}f="file"==i.scheme?pt:ot;continue;case rt:if("/"!=a||"/"!=o[h+1]){f=ot;continue}f=ut,h++;break;case it:if("/"==a){f=ct;break}f=gt;continue;case ot:if(t.scheme=i.scheme,a==r)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query;else if("/"==a||"\\"==a&&J(t))f=at;else if("?"==a)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query="",f=mt;else{if("#"!=a){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.path.pop(),f=gt;continue}t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query,t.fragment="",f=wt}break;case at:if(!J(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,f=gt;continue}f=ct}else f=ut;break;case st:if(f=ut,"/"!=a||"/"!=d.charAt(h+1))continue;h++;break;case ut:if("/"!=a&&"\\"!=a){f=ct;continue}break;case ct:if("@"==a){y&&(d="%40"+d),y=!0,s=p(d);for(var b=0;b<s.length;b++){var m=s[b];if(":"!=m||g){var w=G(m,V);g?t.password+=w:t.username+=w}else g=!0}d=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&J(t)){if(y&&""==d)return"Invalid authority";h-=p(d).length+1,d="",f=ft}else d+=a;break;case ft:case lt:if(n&&"file"==t.scheme){f=yt;continue}if(":"!=a||v){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&J(t)){if(J(t)&&""==d)return"Invalid host";if(n&&""==d&&(Y(t)||null!==t.port))return;if(u=U(t,d))return u;if(d="",f=vt,n)return;continue}"["==a?v=!0:"]"==a&&(v=!1),d+=a}else{if(""==d)return"Invalid host";if(u=U(t,d))return u;if(d="",f=ht,n==lt)return}break;case ht:if(!j.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&J(t)||n){if(""!=d){var E=parseInt(d,10);if(E>65535)return"Invalid port";t.port=J(t)&&E===W[t.scheme]?null:E,d=""}if(n)return;f=vt;continue}return"Invalid port"}d+=a;break;case pt:if(t.scheme="file","/"==a||"\\"==a)f=dt;else{if(!i||"file"!=i.scheme){f=gt;continue}if(a==r)t.host=i.host,t.path=i.path.slice(),t.query=i.query;else if("?"==a)t.host=i.host,t.path=i.path.slice(),t.query="",f=mt;else{if("#"!=a){$(o.slice(h).join(""))||(t.host=i.host,t.path=i.path.slice(),X(t)),f=gt;continue}t.host=i.host,t.path=i.path.slice(),t.query=i.query,t.fragment="",f=wt}}break;case dt:if("/"==a||"\\"==a){f=yt;break}i&&"file"==i.scheme&&!$(o.slice(h).join(""))&&(K(i.path[0],!0)?t.path.push(i.path[0]):t.host=i.host),f=gt;continue;case yt:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&K(d))f=gt;else if(""==d){if(t.host="",n)return;f=vt}else{if(u=U(t,d))return u;if("localhost"==t.host&&(t.host=""),n)return;d="",f=vt}continue}d+=a;break;case vt:if(J(t)){if(f=gt,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(f=gt,"/"!=a))continue}else t.fragment="",f=wt;else t.query="",f=mt;break;case gt:if(a==r||"/"==a||"\\"==a&&J(t)||!n&&("?"==a||"#"==a)){if(".."===(c=(c=d).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(X(t),"/"==a||"\\"==a&&J(t)||t.path.push("")):Q(d)?"/"==a||"\\"==a&&J(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&K(d)&&(t.host&&(t.host=""),d=d.charAt(0)+":"),t.path.push(d)),d="","file"==t.scheme&&(a==r||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",f=mt):"#"==a&&(t.fragment="",f=wt)}else d+=G(a,z);break;case bt:"?"==a?(t.query="",f=mt):"#"==a?(t.fragment="",f=wt):a!=r&&(t.path[0]+=G(a,H));break;case mt:n||"#"!=a?a!=r&&("'"==a&&J(t)?t.query+="%27":t.query+="#"==a?"%23":G(a,H)):(t.fragment="",f=wt);break;case wt:a!=r&&(t.fragment+=G(a,q))}h++}},xt=function(t){var e,n,r=f(this,xt,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(t),s=x(r,{type:"URL"});if(void 0!==i)if(i instanceof xt)e=O(i);else if(n=Et(e={},String(i)))throw TypeError(n);if(n=Et(s,a,null,e))throw TypeError(n);var u=s.searchParams=new w,c=E(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(u)||null},o||(r.href=Tt.call(r),r.origin=St.call(r),r.protocol=kt.call(r),r.username=_t.call(r),r.password=jt.call(r),r.host=At.call(r),r.hostname=It.call(r),r.port=Ct.call(r),r.pathname=Pt.call(r),r.search=Rt.call(r),r.searchParams=Lt.call(r),r.hash=Nt.call(r))},Ot=xt.prototype,Tt=function(){var t=O(this),e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,a=t.path,s=t.query,u=t.fragment,c=e+":";return null!==i?(c+="//",Y(t)&&(c+=n+(r?":"+r:"")+"@"),c+=B(i),null!==o&&(c+=":"+o)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},St=function(){var t=O(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&J(t)?e+"://"+B(t.host)+(null!==n?":"+n:""):"null"},kt=function(){return O(this).scheme+":"},_t=function(){return O(this).username},jt=function(){return O(this).password},At=function(){var t=O(this),e=t.host,n=t.port;return null===e?"":null===n?B(e):B(e)+":"+n},It=function(){var t=O(this).host;return null===t?"":B(t)},Ct=function(){var t=O(this).port;return null===t?"":String(t)},Pt=function(){var t=O(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Rt=function(){var t=O(this).query;return t?"?"+t:""},Lt=function(){return O(this).searchParams},Nt=function(){var t=O(this).fragment;return t?"#"+t:""},Dt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(o&&u(Ot,{href:Dt(Tt,(function(t){var e=O(this),n=String(t),r=Et(e,n);if(r)throw TypeError(r);E(e.searchParams).updateSearchParams(e.query)})),origin:Dt(St),protocol:Dt(kt,(function(t){var e=O(this);Et(e,String(t)+":",tt)})),username:Dt(_t,(function(t){var e=O(this),n=p(String(t));if(!Z(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=G(n[r],V)}})),password:Dt(jt,(function(t){var e=O(this),n=p(String(t));if(!Z(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=G(n[r],V)}})),host:Dt(At,(function(t){var e=O(this);e.cannotBeABaseURL||Et(e,String(t),ft)})),hostname:Dt(It,(function(t){var e=O(this);e.cannotBeABaseURL||Et(e,String(t),lt)})),port:Dt(Ct,(function(t){var e=O(this);Z(e)||(""==(t=String(t))?e.port=null:Et(e,t,ht))})),pathname:Dt(Pt,(function(t){var e=O(this);e.cannotBeABaseURL||(e.path=[],Et(e,t+"",vt))})),search:Dt(Rt,(function(t){var e=O(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",Et(e,t,mt)),E(e.searchParams).updateSearchParams(e.query)})),searchParams:Dt(Lt),hash:Dt(Nt,(function(t){var e=O(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",Et(e,t,wt)):e.fragment=null}))}),c(Ot,"toJSON",(function(){return Tt.call(this)}),{enumerable:!0}),c(Ot,"toString",(function(){return Tt.call(this)}),{enumerable:!0}),m){var Ut=m.createObjectURL,Mt=m.revokeObjectURL;Ut&&c(xt,"createObjectURL",(function(t){return Ut.apply(m,arguments)})),Mt&&c(xt,"revokeObjectURL",(function(t){return Mt.apply(m,arguments)}))}v(xt,"URL"),i({global:!0,forced:!a,sham:!o},{URL:xt})},function(t,e,n){"use strict";var r=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,u=function(t){return t+22+75*(t<26)},c=function(t,e,n){var r=0;for(t=n?a(t/700):t>>1,t+=a(t/e);t>455;r+=36)t=a(t/35);return a(r+36*t/(t+38))},f=function(t){var e,n,r=[],i=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e}(t)).length,f=128,l=0,h=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(s(n));var p=r.length,d=p;for(p&&r.push("-");d<i;){var y=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=f&&n<y&&(y=n);var v=d+1;if(y-f>a((2147483647-l)/v))throw RangeError(o);for(l+=(y-f)*v,f=y,e=0;e<t.length;e++){if((n=t[e])<f&&++l>2147483647)throw RangeError(o);if(n==f){for(var g=l,b=36;;b+=36){var m=b<=h?1:b>=h+26?26:b-h;if(g<m)break;var w=g-m,E=36-m;r.push(s(u(m+w%E))),g=a(w/E)}r.push(s(u(g))),h=c(l,v,d==p),l=0,++d}}++l,++f}return r.join("")};t.exports=function(t){var e,n,o=[],a=t.toLowerCase().replace(i,".").split(".");for(e=0;e<a.length;e++)n=a[e],o.push(r.test(n)?"xn--"+f(n):n);return o.join(".")}},function(t,e,n){"use strict";n(14);var r=n(2),i=n(57),o=n(251),a=n(38),s=n(113),u=n(58),c=n(196),f=n(44),l=n(69),h=n(19),p=n(67),d=n(99),y=n(17),v=n(11),g=n(66),b=n(64),m=n(432),w=n(100),E=n(7),x=i("fetch"),O=i("Headers"),T=E("iterator"),S=f.set,k=f.getterFor("URLSearchParams"),_=f.getterFor("URLSearchParamsIterator"),j=/\+/g,A=Array(4),I=function(t){return A[t-1]||(A[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},C=function(t){try{return decodeURIComponent(t)}catch(e){return t}},P=function(t){var e=t.replace(j," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(I(n--),C);return e}},R=/[!'()~]|%20/g,L={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},N=function(t){return L[t]},D=function(t){return encodeURIComponent(t).replace(R,N)},U=function(t,e){if(e)for(var n,r,i=e.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),t.push({key:P(r.shift()),value:P(r.join("="))}))},M=function(t){this.entries.length=0,U(this.entries,t)},F=function(t,e){if(t<e)throw TypeError("Not enough arguments")},B=c((function(t,e){S(this,{type:"URLSearchParamsIterator",iterator:m(k(t).entries),kind:e})}),"Iterator",(function(){var t=_(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),H=function(){l(this,H,"URLSearchParams");var t,e,n,r,i,o,a,s,u,c=arguments.length>0?arguments[0]:void 0,f=this,p=[];if(S(f,{type:"URLSearchParams",entries:p,updateURL:function(){},updateSearchParams:M}),void 0!==c)if(v(c))if("function"===typeof(t=w(c)))for(n=(e=t.call(c)).next;!(r=n.call(e)).done;){if((a=(o=(i=m(y(r.value))).next).call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");p.push({key:a.value+"",value:s.value+""})}else for(u in c)h(c,u)&&p.push({key:u,value:c[u]+""});else U(p,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},q=H.prototype;s(q,{append:function(t,e){F(arguments.length,2);var n=k(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){F(arguments.length,1);for(var e=k(this),n=e.entries,r=t+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){F(arguments.length,1);for(var e=k(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){F(arguments.length,1);for(var e=k(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){F(arguments.length,1);for(var e=k(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){F(arguments.length,1);for(var n,r=k(this),i=r.entries,o=!1,a=t+"",s=e+"",u=0;u<i.length;u++)(n=i[u]).key===a&&(o?i.splice(u--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var t,e,n,r=k(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(t=o[n],e=0;e<n;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===n&&i.push(t)}r.updateURL()},forEach:function(t){for(var e,n=k(this).entries,r=p(t,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new B(this,"keys")},values:function(){return new B(this,"values")},entries:function(){return new B(this,"entries")}},{enumerable:!0}),a(q,T,q.entries),a(q,"toString",(function(){for(var t,e=k(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(D(t.key)+"="+D(t.value));return n.join("&")}),{enumerable:!0}),u(H,"URLSearchParams"),r({global:!0,forced:!o},{URLSearchParams:H}),o||"function"!=typeof x||"function"!=typeof O||r({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,i=[t];return arguments.length>1&&(e=arguments[1],v(e)&&(n=e.body,"URLSearchParams"===d(n)&&((r=e.headers?new O(e.headers):new O).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=g(e,{body:b(0,String(n)),headers:b(0,r)}))),i.push(e)),x.apply(this,i)}}),t.exports={URLSearchParams:H,getState:k}},function(t,e,n){var r=n(17),i=n(100);t.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},function(t,e,n){"use strict";var r=n(2),i=n(96).includes,o=n(152);r({target:"Array",proto:!0,forced:!n(49)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(t,e,n){"use strict";var r=n(2),i=n(435),o=n(75);r({target:"String",proto:!0,forced:!n(436)("includes")},{includes:function(t){return!!~String(o(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(227);t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(7)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){var r=n(2),i=n(57),o=n(68),a=n(17),s=n(11),u=n(66),c=n(438),f=n(3),l=i("Reflect","construct"),h=f((function(){function t(){}return!(l((function(){}),[],t)instanceof t)})),p=!f((function(){l((function(){}))})),d=h||p;r({target:"Reflect",stat:!0,forced:d,sham:d},{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(p&&!h)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var i=n.prototype,f=u(s(i)?i:Object.prototype),d=Function.apply.call(t,f,e);return s(d)?d:f}})},function(t,e,n){"use strict";var r=n(68),i=n(11),o=[].slice,a={},s=function(t,e,n){if(!(e in a)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";a[e]=Function("C,a","return new C("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=o.call(arguments,1),a=function(){var r=n.concat(o.call(arguments));return this instanceof a?s(e,r.length,r):e.apply(t,r)};return i(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,n){"use strict";n.r(e);n(13),n(47),n(48),n(14),n(9),n(25),n(71),n(21),n(26);var r=n(0),i=n(23);n(59),n(72);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.version="2.1.0",e&&e.name?this.integration=e:this.integration={name:"ksdk"},this.reportInterval=n||3e5}var e,n,r;return e=t,(n=[{key:"setIntegration",value:function(t){return t&&t.name&&(this.integration=t),this}},{key:"setReportInterval",value:function(t){return t&&t>0&&(this.reportInterval=t),this}},{key:"integrationName",value:function(){return this.integration.name}}])&&o(e.prototype,n),r&&o(e,r),t}();var s=n(1),u=n(27),c=n(137),f=n(87);n(129),n(54),n(52);n(135);var l=n(140),h=n(136),p=(n(108),n(252),n(30));function d(t){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}h.a,n(43),n(133);var m=n(138),w=n(51),E=n(132),x=(n(86),n(85));function O(){}var T=function(t){return"function"===typeof t?t:O},S=n(84),k=function(t,e,n,r){var i=Object(w.a)(t),o={method:"GET",url:"".concat(i,"/api/content/").concat(e,"/").concat(n),async:!0,headers:{Authorization:"Bearer ".concat(r)}};return Object(x.a)(o)};n(60);function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t){return t.map((function(t){return{src:t.url,type:t.data.mime}}))}var A=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e}var e,n,r;return e=t,(n=[{key:"bindInterceptor",value:function(t,e){!function(t,e,n){t.ready((function(){var r,i=t.tech({IWillNotUseThisInPlugins:!0});r=setInterval((function(){i.hls&&(clearInterval(r),i.hls.xhr.beforeRequest=function(t){e()&&(t.xhr=new l.a(n()))})}),2)}))}(this.player,t,e)}},{key:"switchToCDN",value:function(t){var e=j(t);this.player.src(e)}},{key:"fallbackToCDN",value:function(t){var e=j(t);this.player.src(e)}},{key:"playKollective",value:function(t){var e=j(t);this.player.src(e)}},{key:"videoElement",value:function(){return Object(S.b)(this.player)}}])&&_(e.prototype,n),r&&_(e,r),t}();function I(t){return new Error("".concat(t," integration has yet to be implemented, but it's planned. Feel free to reach out to Kollective regarding this issue."))}var C=function(t,e){switch(e){case"AMP":case"HLSjs":throw I(e);case"VideoJS":return new A(t);case"SHAKA":throw I(e);default:throw function(t){return new Error("".concat(t," has yet to be implemented, and it is not planned. Feel free to reach out to Kollective for any questions."))}(e)}};n(433),n(434);function P(t,e){switch(t){case"application/vnd.ms-sstr+xml":return s.c.SMOOTH;case"application/dash+xml":return s.c.DASH;case"application/vnd.apple.mpegurl":case"application/x-mpegURL":return s.c.HLS;case"video/mp4":return s.c.MP4;default:return function(t){if(t){if(t.includes(".m3u8"))return s.c.HLS;if(t.includes(".mdp")||t.includes("playlist.ism/Manifest(format=mpd-time-csf)"))return s.c.DASH;if(t.includes("playlist.ism/Manifest"))return s.c.SMOOTH;if(t.includes(".mp4"))return s.c.MP4}return null}(e)}}n(127),n(128),n(104),n(437);function R(t){return(R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N(t,e){return!e||"object"!==R(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function D(t){var e="function"===typeof Map?new Map:void 0;return(D=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return M(t,arguments,B(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),F(r,t)})(t)}function U(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function M(t,e,n){return(M=U()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&F(i,n.prototype),i}).apply(null,arguments)}function F(t,e){return(F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var H=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=N(this,B(e).call(this,t))).name="CompositeError",n.errors=[],n}var n,r,i;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F(t,e)}(e,t),n=e,(r=[{key:"addError",value:function(t){this.errors.push(t)}}])&&L(n.prototype,r),i&&L(n,i),e}(D(Error));function q(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var z=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new H("wrapRetry");return function(){var i=arguments;return e.apply(void 0,q(i)).catch((function(o){if(r.addError(o),n>1)return t(e,n-1,r).apply(void 0,q(i));throw r}))}};function V(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var W=function(){function t(e,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(i.a)(this),this.player=n,this.playerType=e,this.playerInteraction=C(n,e),this.availablePlayerTypes=["VideoJS"],this.sdkConfig=new a({name:"ksdk"},2e4),console.log("Ksdk  v"+this.sdkConfig.version+" loaded"),this.log=r.a,this.playerInteraction.bindInterceptor((function(){return o.enableWebRTC}),(function(){return o.playbackModule.peerManager}))}var e,n,o;return e=t,(n=[{key:"getContext",value:function(){return this.sdkConfig.integrationName()}},{key:"load",value:function(t){var e=this;this.contentToken=t.contentToken,this.userToken=t.userToken,this.title=t.contentTitle,this.contentUrl=t.contentUrl,this.sourceType=t.sourceType,this.videoElement=t.videoElement,this.callbacks=t.callbacks||{},this.start=Date.now(),this.config=t.config;var n=Object(E.a)(this.contentToken);if(!n)throw new Error("Invalid contentToken. Could not decode token.");this.tenantId=n.tid,this.contentId=n.cid,this.contentHost=n.contentHost||n.iss,z(k,3)(this.contentHost,this.tenantId,this.contentId,this.contentToken).then((function(t){var n=t.data;n.config&&(e.config=n.config),r.a.i("config:",e.config),e.legacyConfig=n.legacy||{},e.jwt=n.token,e.contentSources=n.items;var i=V(e.contentSources,1)[0];if(e.contentId=i.id,e.tenantId=i.tenantId,e.contentUrl||(e.contentUrl=i.url),!e.sourceType){var o=i.mime||i.data.mime;e.sourceType=P(o,e.contentUrl)}if(e.config.ch!==e.contentHost&&r.a.e("SdkConfig return content host that differs from host requested for config.",e.config.ch,e.contentHost),!e.config)throw r.a.e("No config found: failing"),Error("No config provided. a config is necessary for playback with the Kollective sdk");if(e.sdkConfig.setIntegration({name:e.config.app}),e.sdkConfig.setReportInterval(e.config.iar),e.contentHost=e.config.ch,e.signalHost=e.config.sgh,e.statsHost=e.config.sth,!e.contentUrl||!e.sourceType)return Promise.reject(new Error("One of contentUrl or sourceType was not found."));e.reporter=function(t){var e=t.title,n=t.contentId,r=t.statsHost,i=t.jwt,o=t.sdkConfig,a=t.legacyConfig,s={sth:r},c=new u.a({config:s},o),f=u.a.Sections,l=f.ECDN10,h=f.ECDN11;return c.jwt=i,c.rpk=a.rpk,c.set({content:n},u.a.Sections.ECDN11),c.set({title:e}),a.urn&&(this.prepareDeliveryGuid(a.urn,c,l),c.set({content:a.urn},l)),n&&c.set({content:n},h),c}(e);var a={url:e.contentUrl,sourceType:e.sourceType};return Object(c.a)(e.reporter,a,e.config).then((function(t){return Promise.resolve(Object(m.a)(t.mode)).then((function(t){var n=t===f.a;e.enableWebRTC=n,e.playbackModule=new t(e.reporter,{content:{id:e.contentId,tenantId:e.tenantId,token:e.contentToken},detectionSource:a,sourceType:e.sourceType,config:e.config,switchToCDN:e.switchToCDN},e.sdkConfig)}))})).then((function(){return e.playbackModule.init()})).then((function(){return e.playbackModule.startDelivery()})).then(e.playKollective).then((function(){return e.reporter.attachVideoElement(e.getVideoElement())}))})).catch((function(t){r.a.e(t),e.fallbackToCDN()}))}},{key:"switchToCDN",value:function(t){r.a.e(this.getContext()+":switch2cdn:"+t),this.sdnPlaybackFailed=!0,this.playerInteraction.switchToCDN(this.contentSources),T(this.callbacks.switchToCDN)()}},{key:"fallbackToCDN",value:function(t){r.a.e(this.getContext()+":fallback2cdn:"+t),this.playbackModule&&this.playbackModule.stop(),this.sdnPlaybackFailed=!0,this.playerInteraction.fallbackToCDN(this.contentSources),r.a.e("failed to attach reporter on ksdk with error:",t),T(this.callbacks.fallbackToCDN)()}},{key:"playKollective",value:function(t){var e=(t&&t.length)>0?t:this.contentSources;this.playerInteraction.playKollective(e),T(this.callbacks.playKollective)()}},{key:"getVideoElement",value:function(){return this.videoElement?this.videoElement:this.playerInteraction.videoElement()}},{key:"stop",value:function(){this.playbackModule&&this.playbackModule.stop(),this.reporter&&this.reporter.cleanup()}}])&&G(e.prototype,n),o&&G(e,o),t}();function J(t,e){return new W(t,e)}J.prototype.forVideoJS=function(t){return new W("VideoJS",t)},J.prototype.forHLSjs=function(t){return new W("HLSjs",t)},J.prototype.forAMP=function(t){return new W("AMP",t)};e.default=J}]);
//# sourceMappingURL=ksdk-2.1.0.min.js.map

/* eslint-env jquery, browser */
$(document)
  .ready(function () {
    if (window.constants && window.constants.CURRENT_SCREEN == 'channel') {

      // var $heroCarousel = $('.hero-carousel')
      // $heroCarousel.slick({
      //     infinite: false,
      //     dots: true,
      // });
      var FETCH_PAGE_SIZE = 18;
      var SLIDE_PAGE_SIZE = 3;

      var $heroCarousel = new window.myGui.RestfulItemCarousel({
        selector: '#hero-carousel',
        apiUrl: window.constants.BASE_URL + '/api/channel/' + window.constants.CURRENT_CHANNEL_ID + '/videos/featured',
        deserializer: window.myUtil.VideoListDeserializer,
        guiBuilder: window.myGui.HeroCarouselGuiBuilder,
        itemLinkTemplate: window.constants.BASE_URL + '/playlist/' + window.constants.CURRENT_CHANNEL_ID + '/featured/{{itemId}}/' + window.constants.LANGUAGE,
        pageSize: FETCH_PAGE_SIZE,
        slidePageSize: 1
      });

      $heroCarousel.fetch(0, function () {

        reArrangeSomeElements();

        $(window)
          .on('resize', function () {
            reArrangeSomeElements();
          });


        // set background image 1st time
        let heroActiveSlides = $('.hero-carousel .item.slick-current.slick-active .carousel-item-info');
        if (heroActiveSlides && heroActiveSlides.length == 1) {
          let backgroundHiddenInput = $(heroActiveSlides[0])
            .find('[name=background-image-url]');
          if (backgroundHiddenInput && backgroundHiddenInput.length == 1) {
            $('.body-background img')
              .attr('src', backgroundHiddenInput[0].value);
          }
        }
      });


      var $featurePlaylist = new window.myGui.RestfulItemCarousel({
        selector: '#featured-playlist',
        icon: 'sharp-playlist-white',
        title: 'Featured playlists',
        subtitle: moment()
          .format('MMMM YYYY'),
        apiUrl: window.constants.BASE_URL + '/api/channel/' + window.constants.CURRENT_CHANNEL_ID + '/playlist/featured',
        deserializer: window.myUtil.PlayListDeserializer,
        guiBuilder: window.myGui.ListCarouselGuiBuilder,
        itemLinkTemplate: window.constants.BASE_URL + '/playlist/' + window.constants.CURRENT_CHANNEL_ID + '/{{itemId}}' + window.constants.LANGUAGE,
        pageSize: 6,
        slidePageSize: SLIDE_PAGE_SIZE
      });
      $featurePlaylist.fetch();

      if (window.constants.CURRENT_PLAYLIST_MOST_WATCHED) {
        var $mostWatchedVideos = new window.myGui.RestfulItemCarousel({
          selector: '#most-watched-videos',
          icon: 'sharp-playbutton-white',
          title: 'Most watched',
          apiUrl: window.constants.BASE_URL + '/api/channel/' + window.constants.CURRENT_CHANNEL_ID + '/videolist/most-watched',
          apiUrl: window.constants.BASE_URL + '/api/channel/' + window.constants.CURRENT_CHANNEL_ID + '/playlist/' + window.constants.CURRENT_PLAYLIST_MOST_WATCHED + '/videos',
          deserializer: window.myUtil.VideoListDeserializer,
          guiBuilder: window.myGui.ListCarouselGuiBuilder,
          itemLinkTemplate: window.constants.BASE_URL + '/playlist/' + window.constants.CURRENT_CHANNEL_ID + '/' + window.constants.CURRENT_PLAYLIST_MOST_WATCHED + '/{{itemId}}/'+window.constants.LANGUAGE,
          pageSize: FETCH_PAGE_SIZE,
          slidePageSize: SLIDE_PAGE_SIZE
        });
        $mostWatchedVideos.fetch();
      }

      if (window.constants.CURRENT_PLAYLIST_RECENT_EVENTS) {
        var $recentEventsVideos = new window.myGui.RestfulItemCarousel({
          selector: '#recent-events-videos',
          icon: 'sharp-playbutton-white',
          title: 'Recent Events',
          apiUrl: window.constants.BASE_URL + '/api/channel/' + window.constants.CURRENT_CHANNEL_ID + '/videolist/recent-events',
          apiUrl: window.constants.BASE_URL + '/api/channel/' + window.constants.CURRENT_CHANNEL_ID + '/playlist/' + window.constants.CURRENT_PLAYLIST_RECENT_EVENTS + '/videos',
          deserializer: window.myUtil.VideoListDeserializer,
          guiBuilder: window.myGui.ListCarouselGuiBuilder,
          itemLinkTemplate: window.constants.BASE_URL + '/playlist/' + window.constants.CURRENT_CHANNEL_ID + '/' + window.constants.CURRENT_PLAYLIST_RECENT_EVENTS + '/{{itemId}}/'+window.constants.LANGUAGE,
          pageSize: FETCH_PAGE_SIZE,
          slidePageSize: SLIDE_PAGE_SIZE
        });
        $recentEventsVideos.fetch();
      }
      if (window.constants.CURRENT_PLAYLIST_UPCOMING_EVENTS) {
        var $upcomingEventsVideos = new window.myGui.RestfulItemCarousel({
          selector: '#upcoming-events-videos',
          icon: 'sharp-playbutton-white',
          title: 'Upcoming Events',
          deserializer: window.myUtil.VideoListDeserializer,
          guiBuilder: window.myGui.ListCarouselGuiBuilder,
          itemLinkTemplate: window.constants.BASE_URL + '/playlist/' + window.constants.CURRENT_CHANNEL_ID + '/' + window.constants.CURRENT_PLAYLIST_RECENT_EVENTS + '/{{itemId}}/' + window.constants.LANGUAGE,
          pageSize: FETCH_PAGE_SIZE,
          slidePageSize: SLIDE_PAGE_SIZE
        });
        $upcomingEventsVideos.fetch();
      }
    }

    $('body')
      .on('click', '.slide-unactive-mask', function () {
        let clickedSlide = $(this)
          .parent();
        let currentSlick = false;
        if (clickedSlide.parent().length == 1
          && $(clickedSlide.parent()[0])
            .hasClass('channel-carousel')) {
          currentSlick = clickedSlide.parent();
        } else if (clickedSlide.parent()
            .parent().length == 1
          && $(clickedSlide.parent()
            .parent()[0])
            .hasClass('channel-carousel')) {
          currentSlick = clickedSlide.parent()
            .parent();
        } else if (clickedSlide.parent()
            .parent()
            .parent().length == 1
          && $(clickedSlide.parent()
            .parent()
            .parent()[0])
            .hasClass('channel-carousel')) {
          currentSlick = clickedSlide.parent()
            .parent()
            .parent();
        } else if (clickedSlide.parent()
            .parent()
            .parent()
            .parent().length == 1
          && $(clickedSlide.parent()
            .parent()
            .parent()
            .parent()[0])
            .hasClass('channel-carousel')) {
          currentSlick = clickedSlide.parent()
            .parent()
            .parent()
            .parent();
        }

        if (!currentSlick) {
          return;
        }

        let prevSlide = clickedSlide.prev();
        let nextSlide = clickedSlide.next();
        if (prevSlide.length == 1 && $(prevSlide[0])
          .hasClass('slick-active')) {
          // left is active => move to right
          $(currentSlick)
            .slick('slickNext');
        } else if (nextSlide.length == 1 && $(nextSlide[0])
          .hasClass('slick-active')) {
          // right is active => move to left
          $(currentSlick)
            .slick('slickPrev');
        }
      });
  });

function reArrangeSomeElements() {
  if (window.outerWidth >= 1201) {
    var heroCarouselElement = $('#hero-carousel .hero-carousel');
    var channelElement = $('.main-content section.channels');
    var bodyBackgroundHeight = $('.body-background')
      .outerHeight();
    if (bodyBackgroundHeight < 800) {
      bodyBackgroundHeight = 800;
    }
    var channelElementDynamicMarginTop = bodyBackgroundHeight - heroCarouselElement.height() - parseInt(heroCarouselElement.css('margin-top')) + 48;
    if (channelElementDynamicMarginTop > 48) {
      $(channelElement)
        .css('margin-top', channelElementDynamicMarginTop);
    }

    var countSet = 0;
    var setChannelsMarginInterval = setInterval(function () {
      countSet++;
      if (countSet >= 50) {
        clearInterval(setChannelsMarginInterval);
      }
      if ($('.body-background')
        .outerHeight() > bodyBackgroundHeight) {
        // set postion of hero carousel again
        $(heroCarouselElement)
          .css('margin-top', $('.body-background')
            .outerHeight() / 2);
        // set channel margin top after background's height is ready (image was loaded)
        $(channelElement)
          .css('margin-top', $('.body-background')
            .outerHeight() - heroCarouselElement.height() - parseInt(heroCarouselElement.css('margin-top')) + 48);
      }

      // only for IE
      var ua = window.navigator.userAgent;
      var msie = ua.indexOf('MSIE ');

      if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./)) {
        console.log($('.body-background')
          .outerHeight());
        console.log(bodyBackgroundHeight);
        if ($('.body-background')
          .outerHeight() < bodyBackgroundHeight) {
          // set postion of hero carousel again
          $(heroCarouselElement)
            .css('margin-top', $('.body-background')
              .outerHeight() / 2);
          // set channel margin top after background's height is ready (image was loaded)
          $(channelElement)
            .css('margin-top', $('.body-background')
              .outerHeight() - heroCarouselElement.height() - parseInt(heroCarouselElement.css('margin-top')) + 48);
        }
      }
    }, 100);
  }
}

$(document).ready(function () {
    var md = new MobileDetect(window.navigator.userAgent);
    if(md.mobile()){
        $('body').addClass('mobile-device-wrapper')
        if(md.phone()){
            $('body').addClass('phone-device-wrapper')
        }

        if(md.tablet()){
            $('body').addClass('tablet-device-wrapper')
        }
    }
});
(function () {
    window.myGui || (window.myGui = {})
    window.myGui.RestfulItemCarousel = RestfulItemCarousel;
    var ItemCarousel = window.myGui.ItemCarousel;

    RestfulItemCarousel.prototype = Object.create(ItemCarousel.prototype);
    RestfulItemCarousel.prototype.constructor = ItemCarousel;

    function RestfulItemCarousel(options){
        ItemCarousel.call(this, options);

        if(!options.apiUrl) throw Error("no api url provided");
        this.currentPage = 1;
        this.pageSize = this.options.pageSize || 9;
        this.slidePageSize = this.options.slidePageSize || 3;
        this.paging = {};
    }

    RestfulItemCarousel.prototype.fetchNext = function(){
        var self = this;
        console.log("fetchNext:" + self.currentPage)
        var oldCurrentPage = self.currentPage;
        self.fetch(self.currentPage + 1, function (result) {
            console.log("fetching result ", result)
            if(!result.items || !result.items.length){
                console.log("reset current page: ", oldCurrentPage)
                self.currentPage = oldCurrentPage;
            }
        });
    }

    RestfulItemCarousel.prototype.fetch = function(page, callback){
        var self = this;
        if(page){
            self.currentPage = page;
        }

        $.get( this.options.apiUrl+"?pagesize="+self.pageSize+"&page="+self.currentPage, function( data ) {
            // console.log("call api url", data);
            var result = data;
            if(self.options.deserializer){
                var de = new self.options.deserializer()
                result = de.deserialize(data.data);
            }

            // console.log("call api url ", result)
            self.addItems(result.items);
            self.paging = result.paging;
            if(callback && typeof callback == 'function'){
                callback(result)
            }
        });
    }

    RestfulItemCarousel.prototype.onRenderCompleted = function () {
        var self = this;
        // console.log("on render completed");
        // this.carousel.on('edge', function(event, slick, direction){
        //     console.log('edge was hit - event: ', event);
        //     console.log('edge was hit - slick: ', slick)
        //     console.log('edge was hit - direction: ', direction)
        // });
        var md = new MobileDetect(window.navigator.userAgent);
        let slideToshow = md.mobile() ? 1 : self.slidePageSize;

        this.carousel.on('afterChange', function(event, slick, currentSlide){
            // console.log(currentSlide, slideToshow, self.paging.item_count, self.paging.page_count);
            if(currentSlide + slideToshow >= self.items.length){
                // console.log("trigger fetch next ...");
                self.fetchNext()
            }
        });
    }
}())



$(document).ready(function () {
    if(window.constants && window.constants.CURRENT_SCREEN == 'playlist'){
        setTimeout(function(){
            $(".video-player-container .loader-container").css("display", "none");
            $(".video-player-container .video-player").css("display", "block");
        }, 5000);

        // console.log("init playlist screen")
        var $currentPlaylist = new window.myGui.RestfulItemCarousel({
            selector: '#current-playlist-carousel',
            // icon: 'fas fa-play',
            // title: 'Most watched',
            apiUrl: window.constants.BASE_URL+"/api/channel/"+window.constants.CURRENT_CHANNEL_ID+"/playlist/"+window.constants.CURRENT_PLAYLIST_ID+"/videos",
            deserializer: window.myUtil.VideoListDeserializer,
            guiBuilder: window.myGui.ListCarouselGuiBuilder,
            itemLinkTemplate: window.constants.BASE_URL+"/playlist/"+window.constants.CURRENT_CHANNEL_ID+"/"+window.constants.CURRENT_PLAYLIST_ID+"/{{itemId}}/" + window.constants.LANGUAGE,
            pageSize: 18,
            slidePageSize: 3
        });
        $currentPlaylist.fetch(0, function () {
            if(window.constants.CURRENT_PLAYLIST_ID == 'featured'){
                // console.log("call inside feature")
                $currentPlaylist.updateHeadTitle('Featured playlist');

                var totalVideos = $currentPlaylist.paging.item_count;
                let totalVideosText = (totalVideos == null ? '' : totalVideos) + ' video' + (totalVideos > 1 ? 's': '')
                $currentPlaylist.updateHeadMetas([{
                    id: 'total-videos',
                    icon: 'sharp-playlist',
                    text: totalVideosText
                }])
            }else{
                $.get( window.constants.BASE_URL+"/api/channel/"+window.constants.CURRENT_CHANNEL_ID+"/playlist/"+window.constants.CURRENT_PLAYLIST_ID, function( data ) {
                    // console.log("call api url", data);
                    if(data && data.data && data.data.playlist){
                        var pl = data.data.playlist;
                        var duration = Math.round(parseFloat(pl.total_duration)/60);
                        var totalVideos = $currentPlaylist.paging.item_count;
                        let totalVideosText = (totalVideos == null ? '' : totalVideos) + ' video' + (totalVideos > 1 ? 's': '')
                        let durationText = duration + ' min' + (duration > 1 ? 's' : '');
                        $currentPlaylist.updateHeadTitle(pl.title);
                        $currentPlaylist.updateHeadMetas([
                            {
                                id: 'total-videos',
                                icon: 'sharp-playlist',
                                text: totalVideosText
                            },
                            {
                                id: 'duration',
                                icon: 'clock-icon',
                                text: durationText
                            }
                        ]);
                    }
                });
            }
        });
    }
});






//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcm91c2VsLmpzIiwiZGVzZXJpYWxpemVyLXBsYXlsaXN0LmpzIiwiZGVzZXJpYWxpemVyLXZpZGVvbGlzdC5qcyIsImd1aWJ1aWxkZXItaGVyby1jYXJvdXNlbC5qcyIsImd1aWJ1aWxkZXItbGlzdC1jYXJvdXNlbC5qcyIsIml0ZW0tY2Fyb3VzZWwuanMiLCJrc2RrLTIuMS4wLm1pbi5qcyIsIm1haW4uanMiLCJtb2JpbGUtZGV0ZWN0LmpzIiwicmVzdGZ1bC1pdGVtLWNhcm91c2VsLmpzIiwic2NyZWVuLXBsYXlsaXN0LmpzIiwidXRpbHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNyRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3hJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMxRUE7QUFDQTtBQUNBO0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDaE9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMzRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM1REE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KVxyXG4gIC5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgaXRlbXNNYWluRGl2ID0gKCcuTXVsdGlDYXJvdXNlbCcpO1xyXG4gICAgdmFyIGl0ZW1zRGl2ID0gKCcuTXVsdGlDYXJvdXNlbC1pbm5lcicpO1xyXG4gICAgdmFyIGl0ZW1XaWR0aCA9ICcnO1xyXG5cclxuICAgICQoJy5sZWZ0THN0LCAucmlnaHRMc3QnKVxyXG4gICAgICAuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjb25kaXRpb24gPSAkKHRoaXMpXHJcbiAgICAgICAgICAuaGFzQ2xhc3MoJ2xlZnRMc3QnKTtcclxuICAgICAgICBpZiAoY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICBjbGljaygwLCB0aGlzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY2xpY2soMSwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICBSZXNDYXJvdXNlbFNpemUoKTtcclxuXHJcblxyXG4gICAgJCh3aW5kb3cpXHJcbiAgICAgIC5yZXNpemUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIFJlc0Nhcm91c2VsU2l6ZSgpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAvL3RoaXMgZnVuY3Rpb24gZGVmaW5lIHRoZSBzaXplIG9mIHRoZSBpdGVtc1xyXG4gICAgZnVuY3Rpb24gUmVzQ2Fyb3VzZWxTaXplKCkge1xyXG4gICAgICB2YXIgaW5jbm8gPSAwO1xyXG4gICAgICB2YXIgZGF0YUl0ZW1zID0gKCdkYXRhLWl0ZW1zJyk7XHJcbiAgICAgIHZhciBpdGVtQ2xhc3MgPSAoJy5pdGVtJyk7XHJcbiAgICAgIHZhciBpZCA9IDA7XHJcbiAgICAgIHZhciBidG5QYXJlbnRTYiA9ICcnO1xyXG4gICAgICB2YXIgaXRlbXNTcGxpdCA9ICcnO1xyXG4gICAgICB2YXIgc2FtcHdpZHRoID0gJChpdGVtc01haW5EaXYpXHJcbiAgICAgICAgLndpZHRoKCk7XHJcbiAgICAgIHZhciBib2R5V2lkdGggPSAkKCdib2R5JylcclxuICAgICAgICAud2lkdGgoKTtcclxuICAgICAgJChpdGVtc0RpdilcclxuICAgICAgICAuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBpZCA9IGlkICsgMTtcclxuICAgICAgICAgIHZhciBpdGVtTnVtYmVycyA9ICQodGhpcylcclxuICAgICAgICAgICAgLmZpbmQoaXRlbUNsYXNzKS5sZW5ndGg7XHJcbiAgICAgICAgICBidG5QYXJlbnRTYiA9ICQodGhpcylcclxuICAgICAgICAgICAgLnBhcmVudCgpXHJcbiAgICAgICAgICAgIC5hdHRyKGRhdGFJdGVtcyk7XHJcbiAgICAgICAgICBpdGVtc1NwbGl0ID0gYnRuUGFyZW50U2Iuc3BsaXQoJywnKTtcclxuICAgICAgICAgICQodGhpcylcclxuICAgICAgICAgICAgLnBhcmVudCgpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsICdNdWx0aUNhcm91c2VsJyArIGlkKTtcclxuXHJcblxyXG4gICAgICAgICAgaWYgKGJvZHlXaWR0aCA+PSAxMjAwKSB7XHJcbiAgICAgICAgICAgIGluY25vID0gaXRlbXNTcGxpdFszXTtcclxuICAgICAgICAgICAgaXRlbVdpZHRoID0gc2FtcHdpZHRoIC8gaW5jbm87XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGJvZHlXaWR0aCA+PSA5OTIpIHtcclxuICAgICAgICAgICAgaW5jbm8gPSBpdGVtc1NwbGl0WzJdO1xyXG4gICAgICAgICAgICBpdGVtV2lkdGggPSBzYW1wd2lkdGggLyBpbmNubztcclxuICAgICAgICAgIH0gZWxzZSBpZiAoYm9keVdpZHRoID49IDc2OCkge1xyXG4gICAgICAgICAgICBpbmNubyA9IGl0ZW1zU3BsaXRbMV07XHJcbiAgICAgICAgICAgIGl0ZW1XaWR0aCA9IHNhbXB3aWR0aCAvIGluY25vO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaW5jbm8gPSBpdGVtc1NwbGl0WzBdO1xyXG4gICAgICAgICAgICBpdGVtV2lkdGggPSBzYW1wd2lkdGggLyBpbmNubztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgICQodGhpcylcclxuICAgICAgICAgICAgLmNzcyh7XHJcbiAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKDBweCknLFxyXG4gICAgICAgICAgICAgICd3aWR0aCc6IGl0ZW1XaWR0aCAqIGl0ZW1OdW1iZXJzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgJCh0aGlzKVxyXG4gICAgICAgICAgICAuZmluZChpdGVtQ2xhc3MpXHJcbiAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAkKHRoaXMpXHJcbiAgICAgICAgICAgICAgICAub3V0ZXJXaWR0aChpdGVtV2lkdGgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAkKCcubGVmdExzdCcpXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcygnb3ZlcicpO1xyXG4gICAgICAgICAgJCgnLnJpZ2h0THN0JylcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdvdmVyJyk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL3RoaXMgZnVuY3Rpb24gdXNlZCB0byBtb3ZlIHRoZSBpdGVtc1xyXG4gICAgZnVuY3Rpb24gUmVzQ2Fyb3VzZWwoZSwgZWwsIHMpIHtcclxuICAgICAgdmFyIGxlZnRCdG4gPSAoJy5sZWZ0THN0Jyk7XHJcbiAgICAgIHZhciByaWdodEJ0biA9ICgnLnJpZ2h0THN0Jyk7XHJcbiAgICAgIHZhciB0cmFuc2xhdGVYdmFsID0gJyc7XHJcbiAgICAgIHZhciBkaXZTdHlsZSA9ICQoZWwgKyAnICcgKyBpdGVtc0RpdilcclxuICAgICAgICAuY3NzKCd0cmFuc2Zvcm0nKTtcclxuICAgICAgdmFyIHZhbHVlcyA9IGRpdlN0eWxlLm1hdGNoKC8tP1tcXGRcXC5dKy9nKTtcclxuICAgICAgdmFyIHhkcyA9IE1hdGguYWJzKHZhbHVlc1s0XSk7XHJcbiAgICAgIGlmIChlID09IDApIHtcclxuICAgICAgICB0cmFuc2xhdGVYdmFsID0gcGFyc2VJbnQoeGRzKSAtIHBhcnNlSW50KGl0ZW1XaWR0aCAqIHMpO1xyXG4gICAgICAgICQoZWwgKyAnICcgKyByaWdodEJ0bilcclxuICAgICAgICAgIC5yZW1vdmVDbGFzcygnb3ZlcicpO1xyXG5cclxuICAgICAgICBpZiAodHJhbnNsYXRlWHZhbCA8PSBpdGVtV2lkdGggLyAyKSB7XHJcbiAgICAgICAgICB0cmFuc2xhdGVYdmFsID0gMDtcclxuICAgICAgICAgICQoZWwgKyAnICcgKyBsZWZ0QnRuKVxyXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ292ZXInKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoZSA9PSAxKSB7XHJcbiAgICAgICAgdmFyIGl0ZW1zQ29uZGl0aW9uID0gJChlbClcclxuICAgICAgICAgIC5maW5kKGl0ZW1zRGl2KVxyXG4gICAgICAgICAgLndpZHRoKCkgLSAkKGVsKVxyXG4gICAgICAgICAgLndpZHRoKCk7XHJcbiAgICAgICAgdHJhbnNsYXRlWHZhbCA9IHBhcnNlSW50KHhkcykgKyBwYXJzZUludChpdGVtV2lkdGggKiBzKTtcclxuICAgICAgICAkKGVsICsgJyAnICsgbGVmdEJ0bilcclxuICAgICAgICAgIC5yZW1vdmVDbGFzcygnb3ZlcicpO1xyXG5cclxuICAgICAgICBpZiAodHJhbnNsYXRlWHZhbCA+PSBpdGVtc0NvbmRpdGlvbiAtIGl0ZW1XaWR0aCAvIDIpIHtcclxuICAgICAgICAgIHRyYW5zbGF0ZVh2YWwgPSBpdGVtc0NvbmRpdGlvbjtcclxuICAgICAgICAgICQoZWwgKyAnICcgKyByaWdodEJ0bilcclxuICAgICAgICAgICAgLmFkZENsYXNzKCdvdmVyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgICQoZWwgKyAnICcgKyBpdGVtc0RpdilcclxuICAgICAgICAuY3NzKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlWCgnICsgLXRyYW5zbGF0ZVh2YWwgKyAncHgpJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9JdCBpcyB1c2VkIHRvIGdldCBzb21lIGVsZW1lbnRzIGZyb20gYnRuXHJcbiAgICBmdW5jdGlvbiBjbGljayhlbGwsIGVlKSB7XHJcbiAgICAgIHZhciBQYXJlbnQgPSAnIycgKyAkKGVlKVxyXG4gICAgICAgIC5wYXJlbnQoKVxyXG4gICAgICAgIC5hdHRyKCdpZCcpO1xyXG4gICAgICB2YXIgc2xpZGUgPSAkKFBhcmVudClcclxuICAgICAgICAuYXR0cignZGF0YS1zbGlkZScpO1xyXG4gICAgICBSZXNDYXJvdXNlbChlbGwsIFBhcmVudCwgc2xpZGUpO1xyXG4gICAgfVxyXG5cclxuICB9KTtcclxuIiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIHdpbmRvdy5teVV0aWwgfHwgKHdpbmRvdy5teVV0aWwgPSB7fSlcclxuICAgIHdpbmRvdy5teVV0aWwuUGxheUxpc3REZXNlcmlhbGl6ZXIgPSBQbGF5TGlzdERlc2VyaWFsaXplcjtcclxuICAgIGZ1bmN0aW9uIFBsYXlMaXN0RGVzZXJpYWxpemVyKCl7XHJcbiAgICB9XHJcblxyXG4gICAgUGxheUxpc3REZXNlcmlhbGl6ZXIucHJvdG90eXBlLmRlc2VyaWFsaXplID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoIWRhdGEpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICB2YXIgcmVzdWx0ID0ge307XHJcblxyXG4gICAgICAgIHJlc3VsdC5wYWdpbmcgPSB7XHJcbiAgICAgICAgICAgIHBhZ2VfY291bnQ6IGRhdGEucGFnaW5nLnBhZ2VfY291bnQsXHJcbiAgICAgICAgICAgIGl0ZW1fY291bnQ6IGRhdGEucGFnaW5nLml0ZW1fY291bnRcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlc3VsdC5pdGVtcyA9IFtdXHJcblxyXG4gICAgICAgIGlmKGRhdGEucGxheWxpc3RzICYmIGRhdGEucGxheWxpc3RzLmxlbmd0aCl7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBkYXRhLnBsYXlsaXN0cy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGxheWxpc3QgPSBkYXRhLnBsYXlsaXN0c1tpXTtcclxuICAgICAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IE1hdGgucm91bmQocGFyc2VGbG9hdChwbGF5bGlzdC50b3RhbF9kdXJhdGlvbikvNjApO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRvdGFsVmlkZW9zID0gcGxheWxpc3QudmlkZW9fY291bnQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgdG90YWxWaWRlb3NUZXh0ID0gKHRvdGFsVmlkZW9zID09IG51bGwgPyAnJyA6IHRvdGFsVmlkZW9zKSArICcgdmlkZW8nICsgKHRvdGFsVmlkZW9zID4gMSA/ICdzJzogJycpXHJcbiAgICAgICAgICAgICAgICBsZXQgZHVyYXRpb25UZXh0ID0gZHVyYXRpb24gKyAnIG1pbicgKyAoZHVyYXRpb24gPiAxID8gJ3MnIDogJycpO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0Lml0ZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBwbGF5bGlzdC5pZCxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogcGxheWxpc3QudGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0YXM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3NoYXJwLXBsYXlsaXN0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHRvdGFsVmlkZW9zVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnY2xvY2staWNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBkdXJhdGlvblRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsVXJsOiBwbGF5bGlzdC50aHVtYm5haWwuaW1hZ2VfNjQweDM2MCB8fCBwbGF5bGlzdC50aHVtYm5haWwuZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxufSgpKTtcclxuIiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIHdpbmRvdy5teVV0aWwgfHwgKHdpbmRvdy5teVV0aWwgPSB7fSlcclxuICAgIHdpbmRvdy5teVV0aWwuVmlkZW9MaXN0RGVzZXJpYWxpemVyID0gVmlkZW9MaXN0RGVzZXJpYWxpemVyO1xyXG4gICAgZnVuY3Rpb24gVmlkZW9MaXN0RGVzZXJpYWxpemVyKCl7XHJcbiAgICB9XHJcblxyXG4gICAgVmlkZW9MaXN0RGVzZXJpYWxpemVyLnByb3RvdHlwZS5kZXNlcmlhbGl6ZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKCFkYXRhKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xyXG5cclxuICAgICAgICByZXN1bHQucGFnaW5nID0ge1xyXG4gICAgICAgICAgICBwYWdlX2NvdW50OiBkYXRhLnBhZ2luZy5wYWdlX2NvdW50LFxyXG4gICAgICAgICAgICBpdGVtX2NvdW50OiBkYXRhLnBhZ2luZy5pdGVtX2NvdW50XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXN1bHQuaXRlbXMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYoZGF0YS52aWRlb3MgJiYgZGF0YS52aWRlb3MubGVuZ3RoKXtcclxuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGRhdGEudmlkZW9zLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gZGF0YS52aWRlb3NbaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgZHVyYXRpb24gPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoaXRlbS5sZW5ndGgpLzYwKTtcclxuICAgICAgICAgICAgICAgIGxldCBkdXJhdGlvblRleHQgPSBkdXJhdGlvbiArICcgbWluJyArIChkdXJhdGlvbiA+IDEgPyAncycgOiAnJyk7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQuaXRlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGl0ZW0uZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0YXM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2NhbGVuZGFyLWljb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogbW9tZW50LnVuaXgoaXRlbS5hZGRlZF9hdCkuZm9ybWF0KFwiREQgTU1NIFlZWVlcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Nsb2NrLWljb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZHVyYXRpb25UZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbFVybDogaXRlbS50aHVtYm5haWwuaW1hZ2VfNjQweDM2MCB8fCBpdGVtLnRodW1ibmFpbC5kZWZhdWx0LFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYXlJY29uOiAnc2hhcnAtcGxheWJ1dHRvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsVXJsVzE5MjBIMTA4MDogaXRlbS50aHVtYm5haWwuaW1hZ2VfMTkyMHgxMDgwIHx8ICcnXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG59KCkpO1xyXG4iLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgd2luZG93Lm15R3VpIHx8ICh3aW5kb3cubXlHdWkgPSB7fSlcclxuICAgIHdpbmRvdy5teUd1aS5IZXJvQ2Fyb3VzZWxHdWlCdWlsZGVyID0gSGVyb0Nhcm91c2VsR3VpQnVpbGRlcjtcclxuXHJcbiAgICBmdW5jdGlvbiBIZXJvQ2Fyb3VzZWxHdWlCdWlsZGVyKGNhcm91c2VsKXtcclxuICAgICAgICBpZighY2Fyb3VzZWwpIHRocm93IEVycm9yKFwibm8gY2Fyb3VzZWwgcHJvdmlkZWRcIik7XHJcbiAgICAgICAgdGhpcy5jYXJvdXNlbCA9IGNhcm91c2VsO1xyXG4gICAgfVxyXG5cclxuICAgIEhlcm9DYXJvdXNlbEd1aUJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkQ29udGVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIGNhcm91c2VsID0gdGhpcy5jYXJvdXNlbDtcclxuXHJcbiAgICAgICAgdmFyICRjb250ZW50ID0gJCgnPGRpdiBjbGFzcz1cImhlcm8tY2Fyb3VzZWxcIj48L2Rpdj4nKTtcclxuICAgICAgICBjYXJvdXNlbC4kZG9tLmFwcGVuZCgkY29udGVudCk7XHJcblxyXG4gICAgICAgIGNhcm91c2VsLmNhcm91c2VsID0gJGNvbnRlbnQ7XHJcbiAgICAgICAgY2Fyb3VzZWwuY2Fyb3VzZWwuc2xpY2soe1xyXG4gICAgICAgICAgICBpbmZpbml0ZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGRvdHM6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jYXJvdXNlbC5jYXJvdXNlbC5vbignYmVmb3JlQ2hhbmdlJywgZnVuY3Rpb24oZXZlbnQsIHNsaWNrLCBjdXJyZW50U2xpZGUsIG5leHRTbGlkZSl7XHJcbiAgICAgICAgICAgIC8vIGZvciBlbXB0eSBkYXRhXHJcbiAgICAgICAgICAgIGlmICghc2xpY2sgfHwgIXNsaWNrLiRzbGlkZXMgfHwgc2xpY2suJHNsaWRlcy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgc2xpZGVzID0gc2xpY2suJHNsaWRlcztcclxuICAgICAgICAgICAgbGV0IG5leHRTbGlkZURPTSA9ICQoc2xpZGVzW25leHRTbGlkZV0uaW5uZXJIVE1MKTtcclxuICAgICAgICAgICAgbGV0IGJhY2tncm91bmRIaWRkZW5JbnB1dCA9IG5leHRTbGlkZURPTS5maW5kKFwiW25hbWU9YmFja2dyb3VuZC1pbWFnZS11cmxdXCIpO1xyXG4gICAgICAgICAgICBpZiAoYmFja2dyb3VuZEhpZGRlbklucHV0Lmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYmFja2dyb3VuZEltYWdlVXJsID0gYmFja2dyb3VuZEhpZGRlbklucHV0WzBdLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgLy8gc2V0IG5ldyBiYWNrZ3JvdW5kXHJcbiAgICAgICAgICAgICAgICAkKFwiLmJvZHktYmFja2dyb3VuZCBpbWdcIikuYXR0cihcInNyY1wiLCBiYWNrZ3JvdW5kSW1hZ2VVcmwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBIZXJvQ2Fyb3VzZWxHdWlCdWlsZGVyLnByb3RvdHlwZS5idWlsZEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICB2YXIgY2Fyb3VzZWwgPSBzZWxmLmNhcm91c2VsO1xyXG4gICAgICAgIGxldCB0aHVtYm5haWxVcmwgPSBpdGVtLnRodW1ibmFpbFVybFcxOTIwSDEwODAgPyBpdGVtLnRodW1ibmFpbFVybFcxOTIwSDEwODAgOiBpdGVtLnRodW1ibmFpbFVybDtcclxuICAgICAgICB2YXIgJGl0ZW0gPSAkKCc8ZGl2IGNsYXNzPVwiaXRlbVwiPiBcXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcm91c2VsLWl0ZW0taW5mb1wiPiBcXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJyt0aHVtYm5haWxVcmwrJ1wiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIiAvPiBcXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImJhY2tncm91bmQtaW1hZ2UtdXJsXCIgdmFsdWU9XCInK3RodW1ibmFpbFVybCsnXCIgLz4gXFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0YVwiPjwvZGl2PiBcXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aXRsZVwiPicraXRlbS50aXRsZSsnPC9kaXY+IFxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRlc2NcIj4nKyhpdGVtLmRlc2NyaXB0aW9uID8gaXRlbS5kZXNjcmlwdGlvbiA6ICcnKSsnPC9kaXY+IFxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRyb2xzXCI+IFxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiYnRuLXBsYXlcIiB0YWJpbmRleD1cIjBcIiBocmVmPVwiJysoY2Fyb3VzZWwub3B0aW9ucy5pdGVtTGlua1RlbXBsYXRlID8gY2Fyb3VzZWwub3B0aW9ucy5pdGVtTGlua1RlbXBsYXRlLnJlcGxhY2UoL3t7aXRlbUlkfX0vZywgaXRlbS5pZCkgOiAnamF2YXNjcmlwdDp2b2lkKDApJykrJ1wiPjxpIGNsYXNzPVwic2hhcnAtcGxheWJ1dHRvbi13aGl0ZVwiPjwvaT48L2E+IFxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dFwiPlBsYXkgdmlkZW88L3NwYW4+IFxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+IFxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gXFxcclxuICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nKTtcclxuXHJcbiAgICAgICAgaWYoaXRlbS5tZXRhcyAmJiBpdGVtLm1ldGFzLmxlbmd0aCl7XHJcbiAgICAgICAgICAgIF8uZm9yRWFjaChpdGVtLm1ldGFzLCBmdW5jdGlvbiAobWV0YSkge1xyXG4gICAgICAgICAgICAgICAgJGl0ZW0uZmluZCgnLm1ldGEnKS5hcHBlbmQoJCgnPHNwYW4gY2xhc3M9XCJtZXRhLWl0ZW1cIj48aSBjbGFzcz1cIicrbWV0YS5pY29uKydcIj48L2k+JyttZXRhLnRleHQrJzwvc3Bhbj4nKSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAkaXRlbTtcclxuICAgIH1cclxuXHJcbn0oKSk7XHJcblxyXG4iLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgd2luZG93Lm15R3VpIHx8ICh3aW5kb3cubXlHdWkgPSB7fSlcclxuICAgIHdpbmRvdy5teUd1aS5MaXN0Q2Fyb3VzZWxHdWlCdWlsZGVyID0gTGlzdENhcm91c2VsR3VpQnVpbGRlcjtcclxuXHJcbiAgICBmdW5jdGlvbiBMaXN0Q2Fyb3VzZWxHdWlCdWlsZGVyKGNhcm91c2VsKXtcclxuICAgICAgICBpZighY2Fyb3VzZWwpIHRocm93IEVycm9yKFwibm8gY2Fyb3VzZWwgcHJvdmlkZWRcIik7XHJcbiAgICAgICAgdGhpcy5jYXJvdXNlbCA9IGNhcm91c2VsO1xyXG4gICAgfVxyXG5cclxuICAgIExpc3RDYXJvdXNlbEd1aUJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkQ29udGVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJpdGVtIGNhcm91c2VsIGluaXQgLi4uIFwiLCB0aGlzLmNhcm91c2VsKTtcclxuICAgICAgICB2YXIgY2Fyb3VzZWwgPSB0aGlzLmNhcm91c2VsO1xyXG5cclxuICAgICAgICB2YXIgJGNvbnRlbnQgPSAkKCc8c2VjdGlvbiBjbGFzcz1cInBsYXktbGlzdFwiPiBcXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkXCI+J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsoY2Fyb3VzZWwub3B0aW9ucy5pY29uID8gJzxzcGFuIGNsYXNzPVwiaWNvblwiPjxpIGNsYXNzPVwiJytjYXJvdXNlbC5vcHRpb25zLmljb24rJ1wiPjwvaT48L3NwYW4+JyA6ICcnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsnPHNwYW4gY2xhc3M9XCJoZWFkLWdyb3VwXCI+J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgKGNhcm91c2VsLm9wdGlvbnMudGl0bGUgPyAnPHNwYW4gY2xhc3M9XCJ0aXRsZVwiPicrY2Fyb3VzZWwub3B0aW9ucy50aXRsZSsnPC9zcGFuPicgOiAnJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIChjYXJvdXNlbC5vcHRpb25zLnN1YnRpdGxlID8gJzxzcGFuIGNsYXNzPVwidGltZVwiPicrKGNhcm91c2VsLm9wdGlvbnMuc3VidGl0bGUgPyBjYXJvdXNlbC5vcHRpb25zLnN1YnRpdGxlIDogJycpKyc8L3NwYW4+JyA6ICcnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgJzwvc3Bhbj4gXFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gXFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hhbm5lbC1jYXJvdXNlbFwiPjwvZGl2PiBcXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+Jyk7XHJcbiAgICAgICAgY2Fyb3VzZWwuJGRvbS5hcHBlbmQoJGNvbnRlbnQpO1xyXG5cclxuICAgICAgICBjYXJvdXNlbC5jYXJvdXNlbCA9IGNhcm91c2VsLiRkb20uZmluZCgnLmNoYW5uZWwtY2Fyb3VzZWwnKVxyXG4gICAgICAgIHZhciBtZCA9IG5ldyBNb2JpbGVEZXRlY3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG4gICAgICAgIGNhcm91c2VsLmNhcm91c2VsLnNsaWNrKHtcclxuICAgICAgICAgICAgaW5maW5pdGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICAgICAgICBzbGlkZXNUb1Nob3c6IGNhcm91c2VsLnNsaWRlUGFnZVNpemUgfHwgMyxcclxuICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IGNhcm91c2VsLnNsaWRlUGFnZVNpemUgfHwgMyxcclxuICAgICAgICAgICAgLy8gbmV4dEFycm93OiBcIjxidXR0b24gY2xhc3M9XCJzbGljay1uZXh0IHNsaWNrLWFycm93XCI+PHN2ZyB2aWV3Qm94PVwiMCAwIDE2IDE2XCIgaWQ9XCJpY29uLWFycm93LXJpZ2h0XCI+PHBhdGggZmlsbD1cIndoaXRlXCIgZD1cIk01LjUgMEw0IDEuNSAxMC41IDggNCAxNC41IDUuNSAxNmw4LTgtOC04elwiPjwvcGF0aD48L3N2Zz48L2J1dHRvbj5cIixcclxuICAgICAgICAgICAgLy8gcHJldkFycm93OiBcIjxidXR0b24gY2xhc3M9XCJzbGljay1wcmV2IHNsaWNrLWFycm93XCI+PHN2ZyB2aWV3Qm94PVwiMCAwIDE2IDE2XCIgaWQ9XCJpY29uLWFycm93LWxlZnRcIj48cGF0aCBmaWxsPVwid2hpdGVcIiBkPVwiTTEwLjUgMTZsMS41LTEuNUw1LjUgOCAxMiAxLjUgMTAuNSAwbC04IDggOCA4elwiPjwvcGF0aD48L3N2Zz48L2J1dHRvbj5cIixcclxuICAgICAgICAgICAgbmV4dEFycm93OiAnIFxcXHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2xpY2stbmV4dCBzbGljay1hcnJvd1wiPiBcXFxyXG4gICAgICAgICAgICAgICAgICAgIDxpIGlkPVwiaWNvbi1hcnJvdy1yaWdodFwiIC8+IFxcXHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj4gXFxcclxuICAgICAgICAgICAgJyxcclxuICAgICAgICAgICAgcHJldkFycm93OiAnIFxcXHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2xpY2stcHJldiBzbGljay1hcnJvd1wiPiBcXFxyXG4gICAgICAgICAgICAgICAgICAgIDxpIGlkPVwiaWNvbi1hcnJvdy1sZWZ0XCIgLz4gXFxcclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPiBcXFxyXG4gICAgICAgICAgICAnLFxyXG4gICAgICAgICAgICBtb2JpbGVGaXJzdDogbWQucGhvbmUoKSA/IHRydWU6IGZhbHNlLFxyXG4gICAgICAgICAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludDogNDgwLFxyXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDFcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDMyMCxcclxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgTGlzdENhcm91c2VsR3VpQnVpbGRlci5wcm90b3R5cGUucmVuZGVySXRlbVRpdGxlID0gZnVuY3Rpb24odGl0bGUpe1xyXG4gICAgICAgIGlmKHRpdGxlICYmIHRpdGxlLmxlbmd0aCAmJiB0aXRsZS5sZW5ndGggPiAzOSl7XHJcbiAgICAgICAgICAgIHZhciBzdHIgPSB0aXRsZS5zdWJzdHIoMCwgMzYpO1xyXG4gICAgICAgICAgICBzdHIgKz0gJy4uLic7XHJcbiAgICAgICAgICAgIHJldHVybiBzdHI7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiB0aXRsZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgTGlzdENhcm91c2VsR3VpQnVpbGRlci5wcm90b3R5cGUuYnVpbGRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGNhcm91c2VsID0gc2VsZi5jYXJvdXNlbDtcclxuICAgICAgICB2YXIgJGl0ZW0gPSAkKCc8ZGl2IGNsYXNzPVwiaXRlbVwiPiBcXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIicrKGNhcm91c2VsLm9wdGlvbnMuaXRlbUxpbmtUZW1wbGF0ZSA/IGNhcm91c2VsLm9wdGlvbnMuaXRlbUxpbmtUZW1wbGF0ZS5yZXBsYWNlKC97e2l0ZW1JZH19L2csIGl0ZW0uaWQpIDogJ2phdmFzY3JpcHQ6dm9pZCgwKScpKydcIj4gXFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50LXdyYXBcIj4gXFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGh1bWJuYWlsXCI+IFxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbWFnZVwiPiBcXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCInK2l0ZW0udGh1bWJuYWlsVXJsKydcIj4gXFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+IFxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpY29uXCI+PGkgY2xhc3M9XCInKyhpdGVtLnBsYXlJY29uID8gaXRlbS5wbGF5SWNvbiA6ICdzaGFycC1wbGF5bGlzdCcpKydcIj48L2k+PC9kaXY+IFxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+IFxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluZm9cIj4gXFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldGFcIj4gXFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiBcXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGl0bGVcIj4nK3NlbGYucmVuZGVySXRlbVRpdGxlKGl0ZW0udGl0bGUpKyc8L2Rpdj4gXFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gXFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiBcXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPiBcXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlLXVuYWN0aXZlLW1hc2tcIj48L2Rpdj4gXFxcclxuICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nKTtcclxuXHJcbiAgICAgICAgaWYoaXRlbS5tZXRhcyAmJiBpdGVtLm1ldGFzLmxlbmd0aCl7XHJcbiAgICAgICAgICAgIF8uZm9yRWFjaChpdGVtLm1ldGFzLCBmdW5jdGlvbiAobWV0YSkge1xyXG4gICAgICAgICAgICAgICAgJGl0ZW0uZmluZCgnLmluZm8gLm1ldGEnKS5hcHBlbmQoJCgnPHNwYW4gY2xhc3M9XCJtZXRhLWl0ZW1cIj48aSBjbGFzcz1cIicrbWV0YS5pY29uKydcIj48L2k+JyttZXRhLnRleHQrJzwvc3Bhbj4nKSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc2VsZi5jYXJvdXNlbC5zbGljaygnc2xpY2tBZGQnLCAkaXRlbSk7XHJcbiAgICAgICAgcmV0dXJuICRpdGVtO1xyXG4gICAgfVxyXG5cclxuICAgIExpc3RDYXJvdXNlbEd1aUJ1aWxkZXIucHJvdG90eXBlLnVwZGF0ZUhlYWRUaXRsZSA9IGZ1bmN0aW9uIChoZWFkZXIpIHtcclxuICAgICAgICB2YXIgY2Fyb3VzZWwgPSB0aGlzLmNhcm91c2VsO1xyXG4gICAgICAgIHZhciAkaGVhZCA9IGNhcm91c2VsLiRkb20uZmluZCgnLnBsYXktbGlzdCAuaGVhZCcpO1xyXG4gICAgICAgIHZhciAkdGl0bGUgPSAkaGVhZC5maW5kKCcudGl0bGUnKTtcclxuICAgICAgICBpZigkdGl0bGUgJiYgJHRpdGxlLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICR0aXRsZS50ZXh0KGhlYWRlcilcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgJHRpdGxlID0gJCgnPHNwYW4gY2xhc3M9XCJ0aXRsZVwiPicraGVhZGVyKyc8L3NwYW4+JylcclxuICAgICAgICAgICAgJGhlYWQuYXBwZW5kKCR0aXRsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIExpc3RDYXJvdXNlbEd1aUJ1aWxkZXIucHJvdG90eXBlLnVwZGF0ZUhlYWRNZXRhcyA9IGZ1bmN0aW9uIChtZXRhcykge1xyXG4gICAgICAgIHZhciBjYXJvdXNlbCA9IHRoaXMuY2Fyb3VzZWw7XHJcbiAgICAgICAgdmFyIGNhcm91c2VsID0gdGhpcy5jYXJvdXNlbDtcclxuICAgICAgICB2YXIgJGhlYWQgPSBjYXJvdXNlbC4kZG9tLmZpbmQoJy5wbGF5LWxpc3QgLmhlYWQnKTtcclxuICAgICAgICB2YXIgJG1ldGFzID0gJGhlYWQuZmluZCgnLm1ldGEnKTtcclxuICAgICAgICBpZighJG1ldGFzIHx8ICEkbWV0YXMubGVuZ3RoKXtcclxuICAgICAgICAgICAgJG1ldGFzID0gJCgnPGRpdiBjbGFzcz1cIm1ldGFcIj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgJGhlYWQucHJlcGVuZCgkbWV0YXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkbWV0YXMuaHRtbCgnJyk7XHJcbiAgICAgICAgXy5mb3JFYWNoKG1ldGFzLCBmdW5jdGlvbiAobWV0YSkge1xyXG4gICAgICAgICAgICB2YXIgJG1ldGEgPSAkKCc8c3BhbiBjbGFzcz1cIm1ldGEtaXRlbVwiPjxpIGNsYXNzPVwiJyttZXRhLmljb24rJ1wiPjwvaT4nK21ldGEudGV4dCsnPC9zcGFuPicpO1xyXG4gICAgICAgICAgICAkbWV0YXMuYXBwZW5kKCRtZXRhKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn0oKSk7XHJcblxyXG4iLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgd2luZG93Lm15R3VpIHx8ICh3aW5kb3cubXlHdWkgPSB7fSlcclxuICAgIHdpbmRvdy5teUd1aS5JdGVtQ2Fyb3VzZWwgPSBJdGVtQ2Fyb3VzZWw7XHJcblxyXG4gICAgZnVuY3Rpb24gSXRlbUNhcm91c2VsKG9wdGlvbnMpe1xyXG4gICAgICAgIGlmKCFvcHRpb25zLnNlbGVjdG9yKSB0aHJvdyBFcnJvcihcIm5vIHNlbGVjdG9yIHByb3ZpZGVkXCIpO1xyXG4gICAgICAgIGlmKCFvcHRpb25zLmd1aUJ1aWxkZXIpIHRocm93IEVycm9yKFwibm8gZ3VpIGJ1aWxkZXIgcHJvdmlkZWRcIik7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICB0aGlzLiRkb20gPSAkKG9wdGlvbnMuc2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuZ3VpQnVpbGRlciA9IG5ldyB0aGlzLm9wdGlvbnMuZ3VpQnVpbGRlcih0aGlzKTtcclxuICAgICAgICB0aGlzLml0ZW1zID0gW107XHJcbiAgICAgICAgdGhpcy5oZWFkZXIgPSB7XHJcbiAgICAgICAgICAgIHRpdGxlOiAnJyxcclxuICAgICAgICAgICAgbWV0YXM6IFtdXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgSXRlbUNhcm91c2VsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIGlmKHRoaXMucmVuZGVyZWQpIHJldHVybjtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIml0ZW0gY2Fyb3VzZWwgaW5pdDEgLi4uIFwiLCB0aGlzLm9wdGlvbnMuZ3VpQnVpbGRlcik7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJpdGVtIGNhcm91c2VsIGluaXQyIC4uLiBcIiwgdGhpcy5ndWlCdWlsZGVyKTtcclxuICAgICAgICB0aGlzLmd1aUJ1aWxkZXIuYnVpbGRDb250ZW50KCk7XHJcbiAgICAgICAgKHR5cGVvZiB0aGlzLm9uUmVuZGVyQ29tcGxldGVkID09ICdmdW5jdGlvbicpICYmIHRoaXMub25SZW5kZXJDb21wbGV0ZWQoKTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBJdGVtQ2Fyb3VzZWwucHJvdG90eXBlLmFkZEl0ZW1zID0gZnVuY3Rpb24oaXRlbXMpe1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBpZighdGhpcy5yZW5kZXJlZCkgc2VsZi5yZW5kZXIoKTtcclxuICAgICAgICAvLyB0aGlzLmNhcm91c2VsLnNsaWNrKCdzbGlja0FkZCcsIGh0bWwpO1xyXG4gICAgICAgIGlmKGl0ZW1zICYmIGl0ZW1zLmxlbmd0aCl7XHJcbiAgICAgICAgICAgIF8uZm9yRWFjaChpdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIGV4aXN0aW5nID0gXy5maW5kKHNlbGYuaXRlbXMsIGZ1bmN0aW9uKGkpIHsgcmV0dXJuIFN0cmluZyhpLmlkKSA9PSBTdHJpbmcoaXRlbS5pZCk7IH0pO1xyXG4gICAgICAgICAgICAgICAgaWYoIWV4aXN0aW5nKXtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmFkZEl0ZW1Ub0Nhcm91c2VsKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaXRlbXMucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIEl0ZW1DYXJvdXNlbC5wcm90b3R5cGUuYWRkSXRlbVRvQ2Fyb3VzZWwgPSBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICB2YXIgJGl0ZW0gPSBzZWxmLmd1aUJ1aWxkZXIuYnVpbGRJdGVtKGl0ZW0pO1xyXG4gICAgICAgIHNlbGYuY2Fyb3VzZWwuc2xpY2soJ3NsaWNrQWRkJywgJGl0ZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIEl0ZW1DYXJvdXNlbC5wcm90b3R5cGUudXBkYXRlSGVhZFRpdGxlID0gZnVuY3Rpb24gKGhlYWRlcikge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICB0aGlzLmhlYWRlci50aXRsZSA9IGhlYWRlcjtcclxuICAgICAgICBzZWxmLmd1aUJ1aWxkZXIudXBkYXRlSGVhZFRpdGxlKGhlYWRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgSXRlbUNhcm91c2VsLnByb3RvdHlwZS51cGRhdGVIZWFkTWV0YXMgPSBmdW5jdGlvbiAobWV0YXMpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgXy5mb3JFYWNoKG1ldGFzLCBmdW5jdGlvbiAobWV0YSkge1xyXG4gICAgICAgICAgICB2YXIgZm91bmQgPSBfLmZpbmQoc2VsZi5oZWFkZXIubWV0YXMsIGZ1bmN0aW9uIChleGlzdGluZykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ldGEuaWQgJiYgZXhpc3RpbmcuaWQgPT0gbWV0YS5pZDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgaWYoZm91bmQpe1xyXG4gICAgICAgICAgICAgICAgZm91bmQuaWNvbiA9IG1ldGEuaWNvbjtcclxuICAgICAgICAgICAgICAgIGZvdW5kLnRleHQgPSBtZXRhLnRleHQ7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgc2VsZi5oZWFkZXIubWV0YXMucHVzaChtZXRhKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcInVwZGF0ZUhlYWRNZXRhc1wiLCBzZWxmLmhlYWRlci5tZXRhcylcclxuICAgICAgICBzZWxmLmd1aUJ1aWxkZXIudXBkYXRlSGVhZE1ldGFzKHNlbGYuaGVhZGVyLm1ldGFzKVxyXG4gICAgfVxyXG5cclxufSgpKTtcclxuXHJcbiIsInZhciBrc2RrPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4ocil7aWYoZVtyXSlyZXR1cm4gZVtyXS5leHBvcnRzO3ZhciBpPWVbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkubD0hMCxpLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUscil7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24odCxlKXtpZigxJmUmJih0PW4odCkpLDgmZSlyZXR1cm4gdDtpZig0JmUmJlwib2JqZWN0XCI9PT10eXBlb2YgdCYmdCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciByPU9iamVjdC5jcmVhdGUobnVsbCk7aWYobi5yKHIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnR9KSwyJmUmJlwic3RyaW5nXCIhPXR5cGVvZiB0KWZvcih2YXIgaSBpbiB0KW4uZChyLGksZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19LmJpbmQobnVsbCxpKSk7cmV0dXJuIHJ9LG4ubj1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gbi5kKGUsXCJhXCIsZSksZX0sbi5vPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxuLnA9XCIvXCIsbihuLnM9MjYwKX0oW2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuKDEzKSxuKDQ3KSxuKDQ4KSxuKDU5KSxuKDE0KSxuKDEwMSksbig5KSxuKDIxKSxuKDI2KTt2YXIgcj1uKDIzKSxpPW4oNjIpLG89bi5uKGkpLGE9big2Mykscz1uLm4oYSksdT17dHJhY2U6e2xhYmVsOlwidHJhY2VcIix2YWx1ZTo2fSxkZWJ1Zzp7bGFiZWw6XCJkZWJ1Z1wiLHZhbHVlOjV9LGluZm86e2xhYmVsOlwiaW5mb1wiLHZhbHVlOjR9LGVycm9yOntsYWJlbDpcImVycm9yXCIsdmFsdWU6M30sd2Fybjp7bGFiZWw6XCJ3YXJuXCIsdmFsdWU6Mn0sZmF0YWw6e2xhYmVsOlwiZmF0YWxcIix2YWx1ZToxfX07ZnVuY3Rpb24gYyh0KXtyZXR1cm4oYz1cImZ1bmN0aW9uXCI9PT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSkodCl9ZnVuY3Rpb24gZih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19dmFyIGw9bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksT2JqZWN0KHIuYSkodGhpcyksdGhpcy5zdD1EYXRlLm5vdygpO3ZhciBlPXMoKShcImtzZG4ubG9nXCIpfHx7fSxuPWUudSxpPWUuYyxhPWUuaWQsYz1lLmxldmVsO3RoaXMuaWQ9YXx8bygpKCksdGhpcy51cmw9bix0aGlzLmNvbj1pLHRoaXMuYWN0aXZlPSExLHRoaXMubGV2ZWw9Y3x8dS5pbmZvfXZhciBlLG4saTtyZXR1cm4gZT10LChuPVt7a2V5OlwiX2dldENvbmZpZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue3U6dGhpcy51cmwsYzp0aGlzLmNvbixpZDp0aGlzLmlkLGFjdGl2ZTp0aGlzLmFjdGl2ZSxsZXZlbDp0aGlzLmxldmVsfX19LHtrZXk6XCJpbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cmw/dGhpcy5hdHRhY2godGhpcy51cmwpOnRoaXMuX2dldENvbmZpZygpfX0se2tleTpcInRvZ2dsZUNvbnNvbGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY29uPSF0aGlzLmNvbix0aGlzLnNhdmUoKX19LHtrZXk6XCJhdHRhY2hcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0aGlzLnVybD10LHdpbmRvdy5XZWJTb2NrZXQ/KHRoaXMud3M9bmV3IFdlYlNvY2tldCh0aGlzLnVybCtcIi9cIit0aGlzLmlkKSx0aGlzLndzLm9ub3Blbj1mdW5jdGlvbigpe2UuYWN0aXZlPSEwLGUud3MmJmUud3Muc2VuZChcIlwiLmNvbmNhdChlLnN0LFwiOnN0YXJ0OlwiKS5jb25jYXQoZS5pZCkpfSx0aGlzLndzLm9uY2xvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gZS5hY3RpdmU9ITF9LHRoaXMuX2dldENvbmZpZygpKTp0aGlzLl9nZXRDb25maWcoKX19LHtrZXk6XCJyZXNldElkXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmlkPW8oKSgpLHRoaXMuYWN0aXZlJiZ0aGlzLmRldGFjaCgpLHRoaXMuaW5pdCgpfX0se2tleTpcImRldGFjaFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy53cyYmdGhpcy53cy5jbG9zZSgpfX0se2tleTpcInNhdmVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O3Q9e3U6dGhpcy51cmwsYzp0aGlzLmNvbixpZDp0aGlzLmlkLGxldmVsOnRoaXMubGV2ZWx9LHMoKShcImtzZG4ubG9nXCIsdCl9fSx7a2V5OlwibFwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkodCksbj0wO248dDtuKyspZVtuXT1hcmd1bWVudHNbbl07dGhpcy5tLmFwcGx5KHRoaXMsW3UuaW5mb10uY29uY2F0KGUpKX19LHtrZXk6XCJpXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTt0aGlzLm0uYXBwbHkodGhpcyxbdS5pbmZvXS5jb25jYXQoZSkpfX0se2tleTpcImVcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLG49MDtuPHQ7bisrKWVbbl09YXJndW1lbnRzW25dO3RoaXMubS5hcHBseSh0aGlzLFt1LmVycm9yXS5jb25jYXQoZSkpfX0se2tleTpcIndcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLG49MDtuPHQ7bisrKWVbbl09YXJndW1lbnRzW25dO3RoaXMubS5hcHBseSh0aGlzLFt1Lndhcm5dLmNvbmNhdChlKSl9fSx7a2V5OlwiZlwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkodCksbj0wO248dDtuKyspZVtuXT1hcmd1bWVudHNbbl07dGhpcy5tLmFwcGx5KHRoaXMsW3UuZmF0YWxdLmNvbmNhdChlKSl9fSx7a2V5OlwibVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZW5hYmxlZCgpfHwhKHQudmFsdWU8PXRoaXMubGV2ZWwudmFsdWUpKXtmb3IodmFyIGUsbj1EYXRlLm5vdygpLXRoaXMuc3Qscj1cIlwiLmNvbmNhdChuLFwiOlwiKS5jb25jYXQodC5sYWJlbCksaT1hcmd1bWVudHMubGVuZ3RoLG89bmV3IEFycmF5KGk+MT9pLTE6MCksYT0xO2E8aTthKyspb1thLTFdPWFyZ3VtZW50c1thXTtpZih0aGlzLmFjdGl2ZSl7dmFyIHM9by5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrXCI6XCIrKFwib2JqZWN0XCI9PT1jKGUpP0pTT04uc3RyaW5naWZ5KGUpOmUpfSkpLHU9XCJcIi5jb25jYXQocixcIjpcIikuY29uY2F0KHMpO3RoaXMud3MmJnRoaXMud3Muc2VuZCh1KX10aGlzLmNvbiYmKGU9Y29uc29sZSkubG9nLmFwcGx5KGUsW3JdLmNvbmNhdChvKSl9fX0se2tleTpcImVuYWJsZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGl2ZXx8dGhpcy5jb259fSx7a2V5Olwic2V0TGV2ZWxcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0KXN3aXRjaCh0LnRvTG93ZXJDYXNlKCkpe2Nhc2VcInRyYWNlXCI6dGhpcy5sZXZlbD11LnRyYWNlO2JyZWFrO2Nhc2VcImRlYnVnXCI6dGhpcy5sZXZlbD11LmRlYnVnO2JyZWFrO2Nhc2VcImluZm9cIjp0aGlzLmxldmVsPXUuaW5mbzticmVhaztjYXNlXCJlcnJvclwiOnRoaXMubGV2ZWw9dS5lcnJvcjticmVhaztjYXNlXCJ3YXJuXCI6dGhpcy5sZXZlbD11Lndhcm47YnJlYWs7Y2FzZVwiZmF0YWxcIjp0aGlzLmxldmVsPXUuZmF0YWx9fX1dKSYmZihlLnByb3RvdHlwZSxuKSxpJiZmKGUsaSksdH0oKSk7bC5pbml0KCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbC5zYXZlKCl9KSk7ZS5hPWx9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLmQoZSxcImRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQoZSxcImNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQoZSxcImJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKTt2YXIgcj1mdW5jdGlvbigpe30saT17TVA0OlwiTVA0XCIsSExTOlwiSExTXCIsREFTSDpcIkRBU0hcIixTTU9PVEg6XCJTTU9PVEhcIn0sbz17RUNETjEwOlwiMTBcIixFQ0ROMTE6XCIxMVwiLFdFQlJUQzpcIldcIn0sYT17TGl2ZTpcImxpdmVcIixWT0Q6XCJ2b2RcIn19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQpLGk9big1NSkuZixvPW4oMzUpLGE9bigzOCkscz1uKDE0NCksdT1uKDE4NiksYz1uKDE1MCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG4sZixsLGgscCxkPXQudGFyZ2V0LHk9dC5nbG9iYWwsdj10LnN0YXQ7aWYobj15P3I6dj9yW2RdfHxzKGQse30pOihyW2RdfHx7fSkucHJvdG90eXBlKWZvcihmIGluIGUpe2lmKGg9ZVtmXSxsPXQubm9UYXJnZXRHZXQ/KHA9aShuLGYpKSYmcC52YWx1ZTpuW2ZdLCFjKHk/ZjpkKyh2P1wiLlwiOlwiI1wiKStmLHQuZm9yY2VkKSYmdm9pZCAwIT09bCl7aWYodHlwZW9mIGg9PT10eXBlb2YgbCljb250aW51ZTt1KGgsbCl9KHQuc2hhbXx8bCYmbC5zaGFtKSYmbyhoLFwic2hhbVwiLCEwKSxhKG4sZixoLHQpfX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4hIXQoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKGUpe3ZhciBuPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lk1hdGg9PU1hdGgmJnR9O3QuZXhwb3J0cz1uKFwib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzKXx8bihcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cpfHxuKFwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmKXx8bihcIm9iamVjdFwiPT10eXBlb2YgZSYmZSl8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKX0pLmNhbGwodGhpcyxuKDYpKX0sZnVuY3Rpb24odCxlKXtcImZ1bmN0aW9uXCI9PT10eXBlb2YgT2JqZWN0LmNyZWF0ZT90LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtlJiYodC5zdXBlcl89ZSx0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSl9OnQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKGUpe3Quc3VwZXJfPWU7dmFyIG49ZnVuY3Rpb24oKXt9O24ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXR9fX0sZnVuY3Rpb24odCxlKXt2YXIgbjtuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCk7dHJ5e249bnx8bmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKX1jYXRjaCh0KXtcIm9iamVjdFwiPT09dHlwZW9mIHdpbmRvdyYmKG49d2luZG93KX10LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNCksaT1uKDE0Niksbz1uKDE5KSxhPW4oOTMpLHM9bigxNTEpLHU9bigxODkpLGM9aShcIndrc1wiKSxmPXIuU3ltYm9sLGw9dT9mOmYmJmYud2l0aG91dFNldHRlcnx8YTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG8oYyx0KXx8KHMmJm8oZix0KT9jW3RdPWZbdF06Y1t0XT1sKFwiU3ltYm9sLlwiK3QpKSxjW3RdfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9bigyNDYpLG89bigxNiksYT1uKDQpLHM9bigxMSksdT1uKDE5KSxjPW4oOTkpLGY9bigzNSksbD1uKDM4KSxoPW4oMjQpLmYscD1uKDc4KSxkPW4oOTgpLHk9big3KSx2PW4oOTMpLGc9YS5JbnQ4QXJyYXksYj1nJiZnLnByb3RvdHlwZSxtPWEuVWludDhDbGFtcGVkQXJyYXksdz1tJiZtLnByb3RvdHlwZSxFPWcmJnAoZykseD1iJiZwKGIpLE89T2JqZWN0LnByb3RvdHlwZSxUPU8uaXNQcm90b3R5cGVPZixTPXkoXCJ0b1N0cmluZ1RhZ1wiKSxrPXYoXCJUWVBFRF9BUlJBWV9UQUdcIiksXz1pJiYhIWQmJlwiT3BlcmFcIiE9PWMoYS5vcGVyYSksaj0hMSxBPXtJbnQ4QXJyYXk6MSxVaW50OEFycmF5OjEsVWludDhDbGFtcGVkQXJyYXk6MSxJbnQxNkFycmF5OjIsVWludDE2QXJyYXk6MixJbnQzMkFycmF5OjQsVWludDMyQXJyYXk6NCxGbG9hdDMyQXJyYXk6NCxGbG9hdDY0QXJyYXk6OH0sST1mdW5jdGlvbih0KXtyZXR1cm4gcyh0KSYmdShBLGModCkpfTtmb3IociBpbiBBKWFbcl18fChfPSExKTtpZigoIV98fFwiZnVuY3Rpb25cIiE9dHlwZW9mIEV8fEU9PT1GdW5jdGlvbi5wcm90b3R5cGUpJiYoRT1mdW5jdGlvbigpe3Rocm93IFR5cGVFcnJvcihcIkluY29ycmVjdCBpbnZvY2F0aW9uXCIpfSxfKSlmb3IociBpbiBBKWFbcl0mJmQoYVtyXSxFKTtpZigoIV98fCF4fHx4PT09TykmJih4PUUucHJvdG90eXBlLF8pKWZvcihyIGluIEEpYVtyXSYmZChhW3JdLnByb3RvdHlwZSx4KTtpZihfJiZwKHcpIT09eCYmZCh3LHgpLG8mJiF1KHgsUykpZm9yKHIgaW4gaj0hMCxoKHgsUyx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHModGhpcyk/dGhpc1trXTp2b2lkIDB9fSksQSlhW3JdJiZmKGFbcl0sayxyKTt0LmV4cG9ydHM9e05BVElWRV9BUlJBWV9CVUZGRVJfVklFV1M6XyxUWVBFRF9BUlJBWV9UQUc6aiYmayxhVHlwZWRBcnJheTpmdW5jdGlvbih0KXtpZihJKHQpKXJldHVybiB0O3Rocm93IFR5cGVFcnJvcihcIlRhcmdldCBpcyBub3QgYSB0eXBlZCBhcnJheVwiKX0sYVR5cGVkQXJyYXlDb25zdHJ1Y3RvcjpmdW5jdGlvbih0KXtpZihkKXtpZihULmNhbGwoRSx0KSlyZXR1cm4gdH1lbHNlIGZvcih2YXIgZSBpbiBBKWlmKHUoQSxyKSl7dmFyIG49YVtlXTtpZihuJiYodD09PW58fFQuY2FsbChuLHQpKSlyZXR1cm4gdH10aHJvdyBUeXBlRXJyb3IoXCJUYXJnZXQgaXMgbm90IGEgdHlwZWQgYXJyYXkgY29uc3RydWN0b3JcIil9LGV4cG9ydFR5cGVkQXJyYXlNZXRob2Q6ZnVuY3Rpb24odCxlLG4pe2lmKG8pe2lmKG4pZm9yKHZhciByIGluIEEpe3ZhciBpPWFbcl07aSYmdShpLnByb3RvdHlwZSx0KSYmZGVsZXRlIGkucHJvdG90eXBlW3RdfXhbdF0mJiFufHxsKHgsdCxuP2U6XyYmYlt0XXx8ZSl9fSxleHBvcnRUeXBlZEFycmF5U3RhdGljTWV0aG9kOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpO2lmKG8pe2lmKGQpe2lmKG4pZm9yKHIgaW4gQSkoaT1hW3JdKSYmdShpLHQpJiZkZWxldGUgaVt0XTtpZihFW3RdJiYhbilyZXR1cm47dHJ5e3JldHVybiBsKEUsdCxuP2U6XyYmZ1t0XXx8ZSl9Y2F0Y2godCl7fX1mb3IociBpbiBBKSEoaT1hW3JdKXx8aVt0XSYmIW58fGwoaSx0LGUpfX0saXNWaWV3OmZ1bmN0aW9uKHQpe3ZhciBlPWModCk7cmV0dXJuXCJEYXRhVmlld1wiPT09ZXx8dShBLGUpfSxpc1R5cGVkQXJyYXk6SSxUeXBlZEFycmF5OkUsVHlwZWRBcnJheVByb3RvdHlwZTp4fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTU1KSxpPW4oMzgpLG89bigyNjMpO3J8fGkoT2JqZWN0LnByb3RvdHlwZSxcInRvU3RyaW5nXCIsbyx7dW5zYWZlOiEwfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1mdW5jdGlvbih0LGUpe3JldHVybihyPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkodCxlKX07ZnVuY3Rpb24gaSh0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9cih0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwib2JqZWN0XCI9PT10eXBlb2YgdD9udWxsIT09dDpcImZ1bmN0aW9uXCI9PT10eXBlb2YgdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpLG87aT1bbigzOTcpXSx2b2lkIDA9PT0obz1cImZ1bmN0aW9uXCI9PT10eXBlb2Yocj1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgZT1mdW5jdGlvbih0LG4saSl7aWYoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiB0JiYodD1lLkRFRkFVTFRfQ0FQQUNJVFkpLFwidW5kZWZpbmVkXCI9PT10eXBlb2YgbiYmKG49ZS5ERUZBVUxUX0VORElBTiksXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBpJiYoaT1lLkRFRkFVTFRfTk9BU1NFUlQpLCFpKXtpZigodHw9MCk8MCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBjYXBhY2l0eVwiKTtuPSEhbixpPSEhaX10aGlzLmJ1ZmZlcj0wPT09dD9yOm5ldyBBcnJheUJ1ZmZlcih0KSx0aGlzLnZpZXc9MD09PXQ/bnVsbDpuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlciksdGhpcy5vZmZzZXQ9MCx0aGlzLm1hcmtlZE9mZnNldD0tMSx0aGlzLmxpbWl0PXQsdGhpcy5saXR0bGVFbmRpYW49bix0aGlzLm5vQXNzZXJ0PWl9O2UuVkVSU0lPTj1cIjUuMC4xXCIsZS5MSVRUTEVfRU5ESUFOPSEwLGUuQklHX0VORElBTj0hMSxlLkRFRkFVTFRfQ0FQQUNJVFk9MTYsZS5ERUZBVUxUX0VORElBTj1lLkJJR19FTkRJQU4sZS5ERUZBVUxUX05PQVNTRVJUPSExLGUuTG9uZz10fHxudWxsO3ZhciBuPWUucHJvdG90eXBlO24uX19pc0J5dGVCdWZmZXJfXyxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9faXNCeXRlQnVmZmVyX19cIix7dmFsdWU6ITAsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITF9KTt2YXIgcj1uZXcgQXJyYXlCdWZmZXIoMCksaT1TdHJpbmcuZnJvbUNoYXJDb2RlO2Z1bmN0aW9uIG8odCl7dmFyIGU9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZTx0Lmxlbmd0aD90LmNoYXJDb2RlQXQoZSsrKTpudWxsfX1mdW5jdGlvbiBhKCl7dmFyIHQ9W10sZT1bXTtyZXR1cm4gZnVuY3Rpb24oKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZS5qb2luKFwiXCIpK2kuYXBwbHkoU3RyaW5nLHQpO3QubGVuZ3RoK2FyZ3VtZW50cy5sZW5ndGg+MTAyNCYmKGUucHVzaChpLmFwcGx5KFN0cmluZyx0KSksdC5sZW5ndGg9MCksQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkodCxhcmd1bWVudHMpfX1mdW5jdGlvbiBzKHQsZSxuLHIsaSl7dmFyIG8sYSxzPTgqaS1yLTEsdT0oMTw8cyktMSxjPXU+PjEsZj0tNyxsPW4/aS0xOjAsaD1uPy0xOjEscD10W2UrbF07Zm9yKGwrPWgsbz1wJigxPDwtZiktMSxwPj49LWYsZis9cztmPjA7bz0yNTYqbyt0W2UrbF0sbCs9aCxmLT04KTtmb3IoYT1vJigxPDwtZiktMSxvPj49LWYsZis9cjtmPjA7YT0yNTYqYSt0W2UrbF0sbCs9aCxmLT04KTtpZigwPT09bylvPTEtYztlbHNle2lmKG89PT11KXJldHVybiBhP05hTjoxLzAqKHA/LTE6MSk7YSs9TWF0aC5wb3coMixyKSxvLT1jfXJldHVybihwPy0xOjEpKmEqTWF0aC5wb3coMixvLXIpfWZ1bmN0aW9uIHUodCxlLG4scixpLG8pe3ZhciBhLHMsdSxjPTgqby1pLTEsZj0oMTw8YyktMSxsPWY+PjEsaD0yMz09PWk/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLHA9cj8wOm8tMSxkPXI/MTotMSx5PWU8MHx8MD09PWUmJjEvZTwwPzE6MDtmb3IoZT1NYXRoLmFicyhlKSxpc05hTihlKXx8ZT09PTEvMD8ocz1pc05hTihlKT8xOjAsYT1mKTooYT1NYXRoLmZsb29yKE1hdGgubG9nKGUpL01hdGguTE4yKSxlKih1PU1hdGgucG93KDIsLWEpKTwxJiYoYS0tLHUqPTIpLChlKz1hK2w+PTE/aC91OmgqTWF0aC5wb3coMiwxLWwpKSp1Pj0yJiYoYSsrLHUvPTIpLGErbD49Zj8ocz0wLGE9Zik6YStsPj0xPyhzPShlKnUtMSkqTWF0aC5wb3coMixpKSxhKz1sKToocz1lKk1hdGgucG93KDIsbC0xKSpNYXRoLnBvdygyLGkpLGE9MCkpO2k+PTg7dFtuK3BdPTI1NSZzLHArPWQscy89MjU2LGktPTgpO2ZvcihhPWE8PGl8cyxjKz1pO2M+MDt0W24rcF09MjU1JmEscCs9ZCxhLz0yNTYsYy09OCk7dFtuK3AtZF18PTEyOCp5fWUuYWNjZXNzb3I9ZnVuY3Rpb24oKXtyZXR1cm4gVWludDhBcnJheX0sZS5hbGxvY2F0ZT1mdW5jdGlvbih0LG4scil7cmV0dXJuIG5ldyBlKHQsbixyKX0sZS5jb25jYXQ9ZnVuY3Rpb24odCxuLHIsaSl7XCJib29sZWFuXCIhPT10eXBlb2YgbiYmXCJzdHJpbmdcIj09PXR5cGVvZiBufHwoaT1yLHI9bixuPXZvaWQgMCk7Zm9yKHZhciBvLGE9MCxzPTAsdT10Lmxlbmd0aDtzPHU7KytzKWUuaXNCeXRlQnVmZmVyKHRbc10pfHwodFtzXT1lLndyYXAodFtzXSxuKSksKG89dFtzXS5saW1pdC10W3NdLm9mZnNldCk+MCYmKGErPW8pO2lmKDA9PT1hKXJldHVybiBuZXcgZSgwLHIsaSk7dmFyIGMsZj1uZXcgZShhLHIsaSk7Zm9yKHM9MDtzPHU7KShvPShjPXRbcysrXSkubGltaXQtYy5vZmZzZXQpPD0wfHwoZi52aWV3LnNldChjLnZpZXcuc3ViYXJyYXkoYy5vZmZzZXQsYy5saW1pdCksZi5vZmZzZXQpLGYub2Zmc2V0Kz1vKTtyZXR1cm4gZi5saW1pdD1mLm9mZnNldCxmLm9mZnNldD0wLGZ9LGUuaXNCeXRlQnVmZmVyPWZ1bmN0aW9uKHQpe3JldHVybiEwPT09KHQmJnQuX19pc0J5dGVCdWZmZXJfXyl9LGUudHlwZT1mdW5jdGlvbigpe3JldHVybiBBcnJheUJ1ZmZlcn0sZS53cmFwPWZ1bmN0aW9uKHQscixpLG8pe2lmKFwic3RyaW5nXCIhPT10eXBlb2YgciYmKG89aSxpPXIscj12b2lkIDApLFwic3RyaW5nXCI9PT10eXBlb2YgdClzd2l0Y2goXCJ1bmRlZmluZWRcIj09PXR5cGVvZiByJiYocj1cInV0ZjhcIikscil7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIGUuZnJvbUJhc2U2NCh0LGkpO2Nhc2VcImhleFwiOnJldHVybiBlLmZyb21IZXgodCxpKTtjYXNlXCJiaW5hcnlcIjpyZXR1cm4gZS5mcm9tQmluYXJ5KHQsaSk7Y2FzZVwidXRmOFwiOnJldHVybiBlLmZyb21VVEY4KHQsaSk7Y2FzZVwiZGVidWdcIjpyZXR1cm4gZS5mcm9tRGVidWcodCxpKTtkZWZhdWx0OnRocm93IEVycm9yKFwiVW5zdXBwb3J0ZWQgZW5jb2Rpbmc6IFwiK3IpfWlmKG51bGw9PT10fHxcIm9iamVjdFwiIT09dHlwZW9mIHQpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBidWZmZXJcIik7dmFyIGE7aWYoZS5pc0J5dGVCdWZmZXIodCkpcmV0dXJuKGE9bi5jbG9uZS5jYWxsKHQpKS5tYXJrZWRPZmZzZXQ9LTEsYTtpZih0IGluc3RhbmNlb2YgVWludDhBcnJheSlhPW5ldyBlKDAsaSxvKSx0Lmxlbmd0aD4wJiYoYS5idWZmZXI9dC5idWZmZXIsYS5vZmZzZXQ9dC5ieXRlT2Zmc2V0LGEubGltaXQ9dC5ieXRlT2Zmc2V0K3QuYnl0ZUxlbmd0aCxhLnZpZXc9bmV3IFVpbnQ4QXJyYXkodC5idWZmZXIpKTtlbHNlIGlmKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilhPW5ldyBlKDAsaSxvKSx0LmJ5dGVMZW5ndGg+MCYmKGEuYnVmZmVyPXQsYS5vZmZzZXQ9MCxhLmxpbWl0PXQuYnl0ZUxlbmd0aCxhLnZpZXc9dC5ieXRlTGVuZ3RoPjA/bmV3IFVpbnQ4QXJyYXkodCk6bnVsbCk7ZWxzZXtpZihcIltvYmplY3QgQXJyYXldXCIhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBidWZmZXJcIik7KGE9bmV3IGUodC5sZW5ndGgsaSxvKSkubGltaXQ9dC5sZW5ndGg7Zm9yKHZhciBzPTA7czx0Lmxlbmd0aDsrK3MpYS52aWV3W3NdPXRbc119cmV0dXJuIGF9LG4ud3JpdGVCaXRTZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1cInVuZGVmaW5lZFwiPT09dHlwZW9mIGU7aWYobiYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLm5vQXNzZXJ0KXtpZighKHQgaW5zdGFuY2VvZiBBcnJheSkpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBCaXRTZXQ6IE5vdCBhbiBhcnJheVwiKTtpZihcIm51bWJlclwiIT09dHlwZW9mIGV8fGUlMSE9PTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByLGk9ZSxvPXQubGVuZ3RoLGE9bz4+MyxzPTA7Zm9yKGUrPXRoaXMud3JpdGVWYXJpbnQzMihvLGUpO2EtLTspcj0xJiEhdFtzKytdfCgxJiEhdFtzKytdKTw8MXwoMSYhIXRbcysrXSk8PDJ8KDEmISF0W3MrK10pPDwzfCgxJiEhdFtzKytdKTw8NHwoMSYhIXRbcysrXSk8PDV8KDEmISF0W3MrK10pPDw2fCgxJiEhdFtzKytdKTw8Nyx0aGlzLndyaXRlQnl0ZShyLGUrKyk7aWYoczxvKXt2YXIgdT0wO2ZvcihyPTA7czxvOylyfD0oMSYhIXRbcysrXSk8PHUrKzt0aGlzLndyaXRlQnl0ZShyLGUrKyl9cmV0dXJuIG4/KHRoaXMub2Zmc2V0PWUsdGhpcyk6ZS1pfSxuLnJlYWRCaXRTZXQ9ZnVuY3Rpb24odCl7dmFyIGU9XCJ1bmRlZmluZWRcIj09PXR5cGVvZiB0O2UmJih0PXRoaXMub2Zmc2V0KTt2YXIgbixyPXRoaXMucmVhZFZhcmludDMyKHQpLGk9ci52YWx1ZSxvPWk+PjMsYT0wLHM9W107Zm9yKHQrPXIubGVuZ3RoO28tLTspbj10aGlzLnJlYWRCeXRlKHQrKyksc1thKytdPSEhKDEmbiksc1thKytdPSEhKDImbiksc1thKytdPSEhKDQmbiksc1thKytdPSEhKDgmbiksc1thKytdPSEhKDE2Jm4pLHNbYSsrXT0hISgzMiZuKSxzW2ErK109ISEoNjQmbiksc1thKytdPSEhKDEyOCZuKTtpZihhPGkpe3ZhciB1PTA7Zm9yKG49dGhpcy5yZWFkQnl0ZSh0KyspO2E8aTspc1thKytdPSEhKG4+PnUrKyYxKX1yZXR1cm4gZSYmKHRoaXMub2Zmc2V0PXQpLHN9LG4ucmVhZEJ5dGVzPWZ1bmN0aW9uKHQsZSl7dmFyIG49XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBlO2lmKG4mJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5ub0Fzc2VydCl7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiBlfHxlJTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSt0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCtcIit0K1wiKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcj10aGlzLnNsaWNlKGUsZSt0KTtyZXR1cm4gbiYmKHRoaXMub2Zmc2V0Kz10KSxyfSxuLndyaXRlQnl0ZXM9bi5hcHBlbmQsbi53cml0ZUludDg9ZnVuY3Rpb24odCxlKXt2YXIgbj1cInVuZGVmaW5lZFwiPT09dHlwZW9mIGU7aWYobiYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLm5vQXNzZXJ0KXtpZihcIm51bWJlclwiIT09dHlwZW9mIHR8fHQlMSE9PTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKHR8PTAsXCJudW1iZXJcIiE9PXR5cGVvZiBlfHxlJTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1lKz0xO3ZhciByPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIGU+ciYmdGhpcy5yZXNpemUoKHIqPTIpPmU/cjplKSxlLT0xLHRoaXMudmlld1tlXT10LG4mJih0aGlzLm9mZnNldCs9MSksdGhpc30sbi53cml0ZUJ5dGU9bi53cml0ZUludDgsbi5yZWFkSW50OD1mdW5jdGlvbih0KXt2YXIgZT1cInVuZGVmaW5lZFwiPT09dHlwZW9mIHQ7aWYoZSYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLm5vQXNzZXJ0KXtpZihcIm51bWJlclwiIT09dHlwZW9mIHR8fHQlMSE9PTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzE+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzEpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBuPXRoaXMudmlld1t0XTtyZXR1cm4gMTI4PT09KDEyOCZuKSYmKG49LSgyNTUtbisxKSksZSYmKHRoaXMub2Zmc2V0Kz0xKSxufSxuLnJlYWRCeXRlPW4ucmVhZEludDgsbi53cml0ZVVpbnQ4PWZ1bmN0aW9uKHQsZSl7dmFyIG49XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBlO2lmKG4mJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5ub0Fzc2VydCl7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiB0fHx0JTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZih0Pj4+PTAsXCJudW1iZXJcIiE9PXR5cGVvZiBlfHxlJTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1lKz0xO3ZhciByPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIGU+ciYmdGhpcy5yZXNpemUoKHIqPTIpPmU/cjplKSxlLT0xLHRoaXMudmlld1tlXT10LG4mJih0aGlzLm9mZnNldCs9MSksdGhpc30sbi53cml0ZVVJbnQ4PW4ud3JpdGVVaW50OCxuLnJlYWRVaW50OD1mdW5jdGlvbih0KXt2YXIgZT1cInVuZGVmaW5lZFwiPT09dHlwZW9mIHQ7aWYoZSYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLm5vQXNzZXJ0KXtpZihcIm51bWJlclwiIT09dHlwZW9mIHR8fHQlMSE9PTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzE+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzEpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBuPXRoaXMudmlld1t0XTtyZXR1cm4gZSYmKHRoaXMub2Zmc2V0Kz0xKSxufSxuLnJlYWRVSW50OD1uLnJlYWRVaW50OCxuLndyaXRlSW50MTY9ZnVuY3Rpb24odCxlKXt2YXIgbj1cInVuZGVmaW5lZFwiPT09dHlwZW9mIGU7aWYobiYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLm5vQXNzZXJ0KXtpZihcIm51bWJlclwiIT09dHlwZW9mIHR8fHQlMSE9PTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKHR8PTAsXCJudW1iZXJcIiE9PXR5cGVvZiBlfHxlJTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1lKz0yO3ZhciByPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIGU+ciYmdGhpcy5yZXNpemUoKHIqPTIpPmU/cjplKSxlLT0yLHRoaXMubGl0dGxlRW5kaWFuPyh0aGlzLnZpZXdbZSsxXT0oNjUyODAmdCk+Pj44LHRoaXMudmlld1tlXT0yNTUmdCk6KHRoaXMudmlld1tlXT0oNjUyODAmdCk+Pj44LHRoaXMudmlld1tlKzFdPTI1NSZ0KSxuJiYodGhpcy5vZmZzZXQrPTIpLHRoaXN9LG4ud3JpdGVTaG9ydD1uLndyaXRlSW50MTYsbi5yZWFkSW50MTY9ZnVuY3Rpb24odCl7dmFyIGU9XCJ1bmRlZmluZWRcIj09PXR5cGVvZiB0O2lmKGUmJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5ub0Fzc2VydCl7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiB0fHx0JTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCsyPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCsyKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgbj0wO3JldHVybiB0aGlzLmxpdHRsZUVuZGlhbj8obj10aGlzLnZpZXdbdF0sbnw9dGhpcy52aWV3W3QrMV08PDgpOihuPXRoaXMudmlld1t0XTw8OCxufD10aGlzLnZpZXdbdCsxXSksMzI3Njg9PT0oMzI3NjgmbikmJihuPS0oNjU1MzUtbisxKSksZSYmKHRoaXMub2Zmc2V0Kz0yKSxufSxuLnJlYWRTaG9ydD1uLnJlYWRJbnQxNixuLndyaXRlVWludDE2PWZ1bmN0aW9uKHQsZSl7dmFyIG49XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBlO2lmKG4mJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5ub0Fzc2VydCl7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiB0fHx0JTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZih0Pj4+PTAsXCJudW1iZXJcIiE9PXR5cGVvZiBlfHxlJTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1lKz0yO3ZhciByPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIGU+ciYmdGhpcy5yZXNpemUoKHIqPTIpPmU/cjplKSxlLT0yLHRoaXMubGl0dGxlRW5kaWFuPyh0aGlzLnZpZXdbZSsxXT0oNjUyODAmdCk+Pj44LHRoaXMudmlld1tlXT0yNTUmdCk6KHRoaXMudmlld1tlXT0oNjUyODAmdCk+Pj44LHRoaXMudmlld1tlKzFdPTI1NSZ0KSxuJiYodGhpcy5vZmZzZXQrPTIpLHRoaXN9LG4ud3JpdGVVSW50MTY9bi53cml0ZVVpbnQxNixuLnJlYWRVaW50MTY9ZnVuY3Rpb24odCl7dmFyIGU9XCJ1bmRlZmluZWRcIj09PXR5cGVvZiB0O2lmKGUmJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5ub0Fzc2VydCl7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiB0fHx0JTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCsyPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCsyKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgbj0wO3JldHVybiB0aGlzLmxpdHRsZUVuZGlhbj8obj10aGlzLnZpZXdbdF0sbnw9dGhpcy52aWV3W3QrMV08PDgpOihuPXRoaXMudmlld1t0XTw8OCxufD10aGlzLnZpZXdbdCsxXSksZSYmKHRoaXMub2Zmc2V0Kz0yKSxufSxuLnJlYWRVSW50MTY9bi5yZWFkVWludDE2LG4ud3JpdGVJbnQzMj1mdW5jdGlvbih0LGUpe3ZhciBuPVwidW5kZWZpbmVkXCI9PT10eXBlb2YgZTtpZihuJiYoZT10aGlzLm9mZnNldCksIXRoaXMubm9Bc3NlcnQpe2lmKFwibnVtYmVyXCIhPT10eXBlb2YgdHx8dCUxIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYodHw9MCxcIm51bWJlclwiIT09dHlwZW9mIGV8fGUlMSE9PTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfWUrPTQ7dmFyIHI9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gZT5yJiZ0aGlzLnJlc2l6ZSgocio9Mik+ZT9yOmUpLGUtPTQsdGhpcy5saXR0bGVFbmRpYW4/KHRoaXMudmlld1tlKzNdPXQ+Pj4yNCYyNTUsdGhpcy52aWV3W2UrMl09dD4+PjE2JjI1NSx0aGlzLnZpZXdbZSsxXT10Pj4+OCYyNTUsdGhpcy52aWV3W2VdPTI1NSZ0KToodGhpcy52aWV3W2VdPXQ+Pj4yNCYyNTUsdGhpcy52aWV3W2UrMV09dD4+PjE2JjI1NSx0aGlzLnZpZXdbZSsyXT10Pj4+OCYyNTUsdGhpcy52aWV3W2UrM109MjU1JnQpLG4mJih0aGlzLm9mZnNldCs9NCksdGhpc30sbi53cml0ZUludD1uLndyaXRlSW50MzIsbi5yZWFkSW50MzI9ZnVuY3Rpb24odCl7dmFyIGU9XCJ1bmRlZmluZWRcIj09PXR5cGVvZiB0O2lmKGUmJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5ub0Fzc2VydCl7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiB0fHx0JTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCs0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCs0KSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgbj0wO3JldHVybiB0aGlzLmxpdHRsZUVuZGlhbj8obj10aGlzLnZpZXdbdCsyXTw8MTYsbnw9dGhpcy52aWV3W3QrMV08PDgsbnw9dGhpcy52aWV3W3RdLG4rPXRoaXMudmlld1t0KzNdPDwyND4+PjApOihuPXRoaXMudmlld1t0KzFdPDwxNixufD10aGlzLnZpZXdbdCsyXTw8OCxufD10aGlzLnZpZXdbdCszXSxuKz10aGlzLnZpZXdbdF08PDI0Pj4+MCksbnw9MCxlJiYodGhpcy5vZmZzZXQrPTQpLG59LG4ucmVhZEludD1uLnJlYWRJbnQzMixuLndyaXRlVWludDMyPWZ1bmN0aW9uKHQsZSl7dmFyIG49XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBlO2lmKG4mJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5ub0Fzc2VydCl7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiB0fHx0JTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZih0Pj4+PTAsXCJudW1iZXJcIiE9PXR5cGVvZiBlfHxlJTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1lKz00O3ZhciByPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIGU+ciYmdGhpcy5yZXNpemUoKHIqPTIpPmU/cjplKSxlLT00LHRoaXMubGl0dGxlRW5kaWFuPyh0aGlzLnZpZXdbZSszXT10Pj4+MjQmMjU1LHRoaXMudmlld1tlKzJdPXQ+Pj4xNiYyNTUsdGhpcy52aWV3W2UrMV09dD4+PjgmMjU1LHRoaXMudmlld1tlXT0yNTUmdCk6KHRoaXMudmlld1tlXT10Pj4+MjQmMjU1LHRoaXMudmlld1tlKzFdPXQ+Pj4xNiYyNTUsdGhpcy52aWV3W2UrMl09dD4+PjgmMjU1LHRoaXMudmlld1tlKzNdPTI1NSZ0KSxuJiYodGhpcy5vZmZzZXQrPTQpLHRoaXN9LG4ud3JpdGVVSW50MzI9bi53cml0ZVVpbnQzMixuLnJlYWRVaW50MzI9ZnVuY3Rpb24odCl7dmFyIGU9XCJ1bmRlZmluZWRcIj09PXR5cGVvZiB0O2lmKGUmJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5ub0Fzc2VydCl7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiB0fHx0JTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCs0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCs0KSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgbj0wO3JldHVybiB0aGlzLmxpdHRsZUVuZGlhbj8obj10aGlzLnZpZXdbdCsyXTw8MTYsbnw9dGhpcy52aWV3W3QrMV08PDgsbnw9dGhpcy52aWV3W3RdLG4rPXRoaXMudmlld1t0KzNdPDwyND4+PjApOihuPXRoaXMudmlld1t0KzFdPDwxNixufD10aGlzLnZpZXdbdCsyXTw8OCxufD10aGlzLnZpZXdbdCszXSxuKz10aGlzLnZpZXdbdF08PDI0Pj4+MCksZSYmKHRoaXMub2Zmc2V0Kz00KSxufSxuLnJlYWRVSW50MzI9bi5yZWFkVWludDMyLHQmJihuLndyaXRlSW50NjQ9ZnVuY3Rpb24oZSxuKXt2YXIgcj1cInVuZGVmaW5lZFwiPT09dHlwZW9mIG47aWYociYmKG49dGhpcy5vZmZzZXQpLCF0aGlzLm5vQXNzZXJ0KXtpZihcIm51bWJlclwiPT09dHlwZW9mIGUpZT10LmZyb21OdW1iZXIoZSk7ZWxzZSBpZihcInN0cmluZ1wiPT09dHlwZW9mIGUpZT10LmZyb21TdHJpbmcoZSk7ZWxzZSBpZighKGUmJmUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIitlK1wiIChub3QgYW4gaW50ZWdlciBvciBMb25nKVwiKTtpZihcIm51bWJlclwiIT09dHlwZW9mIG58fG4lMSE9PTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK24rXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigobj4+Pj0wKTwwfHxuKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrbitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfVwibnVtYmVyXCI9PT10eXBlb2YgZT9lPXQuZnJvbU51bWJlcihlKTpcInN0cmluZ1wiPT09dHlwZW9mIGUmJihlPXQuZnJvbVN0cmluZyhlKSksbis9ODt2YXIgaT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO24+aSYmdGhpcy5yZXNpemUoKGkqPTIpPm4/aTpuKSxuLT04O3ZhciBvPWUubG93LGE9ZS5oaWdoO3JldHVybiB0aGlzLmxpdHRsZUVuZGlhbj8odGhpcy52aWV3W24rM109bz4+PjI0JjI1NSx0aGlzLnZpZXdbbisyXT1vPj4+MTYmMjU1LHRoaXMudmlld1tuKzFdPW8+Pj44JjI1NSx0aGlzLnZpZXdbbl09MjU1Jm8sbis9NCx0aGlzLnZpZXdbbiszXT1hPj4+MjQmMjU1LHRoaXMudmlld1tuKzJdPWE+Pj4xNiYyNTUsdGhpcy52aWV3W24rMV09YT4+PjgmMjU1LHRoaXMudmlld1tuXT0yNTUmYSk6KHRoaXMudmlld1tuXT1hPj4+MjQmMjU1LHRoaXMudmlld1tuKzFdPWE+Pj4xNiYyNTUsdGhpcy52aWV3W24rMl09YT4+PjgmMjU1LHRoaXMudmlld1tuKzNdPTI1NSZhLG4rPTQsdGhpcy52aWV3W25dPW8+Pj4yNCYyNTUsdGhpcy52aWV3W24rMV09bz4+PjE2JjI1NSx0aGlzLnZpZXdbbisyXT1vPj4+OCYyNTUsdGhpcy52aWV3W24rM109MjU1Jm8pLHImJih0aGlzLm9mZnNldCs9OCksdGhpc30sbi53cml0ZUxvbmc9bi53cml0ZUludDY0LG4ucmVhZEludDY0PWZ1bmN0aW9uKGUpe3ZhciBuPVwidW5kZWZpbmVkXCI9PT10eXBlb2YgZTtpZihuJiYoZT10aGlzLm9mZnNldCksIXRoaXMubm9Bc3NlcnQpe2lmKFwibnVtYmVyXCIhPT10eXBlb2YgZXx8ZSUxIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrOD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrOCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHI9MCxpPTA7dGhpcy5saXR0bGVFbmRpYW4/KHI9dGhpcy52aWV3W2UrMl08PDE2LHJ8PXRoaXMudmlld1tlKzFdPDw4LHJ8PXRoaXMudmlld1tlXSxyKz10aGlzLnZpZXdbZSszXTw8MjQ+Pj4wLGUrPTQsaT10aGlzLnZpZXdbZSsyXTw8MTYsaXw9dGhpcy52aWV3W2UrMV08PDgsaXw9dGhpcy52aWV3W2VdLGkrPXRoaXMudmlld1tlKzNdPDwyND4+PjApOihpPXRoaXMudmlld1tlKzFdPDwxNixpfD10aGlzLnZpZXdbZSsyXTw8OCxpfD10aGlzLnZpZXdbZSszXSxpKz10aGlzLnZpZXdbZV08PDI0Pj4+MCxlKz00LHI9dGhpcy52aWV3W2UrMV08PDE2LHJ8PXRoaXMudmlld1tlKzJdPDw4LHJ8PXRoaXMudmlld1tlKzNdLHIrPXRoaXMudmlld1tlXTw8MjQ+Pj4wKTt2YXIgbz1uZXcgdChyLGksITEpO3JldHVybiBuJiYodGhpcy5vZmZzZXQrPTgpLG99LG4ucmVhZExvbmc9bi5yZWFkSW50NjQsbi53cml0ZVVpbnQ2ND1mdW5jdGlvbihlLG4pe3ZhciByPVwidW5kZWZpbmVkXCI9PT10eXBlb2YgbjtpZihyJiYobj10aGlzLm9mZnNldCksIXRoaXMubm9Bc3NlcnQpe2lmKFwibnVtYmVyXCI9PT10eXBlb2YgZSllPXQuZnJvbU51bWJlcihlKTtlbHNlIGlmKFwic3RyaW5nXCI9PT10eXBlb2YgZSllPXQuZnJvbVN0cmluZyhlKTtlbHNlIGlmKCEoZSYmZSBpbnN0YW5jZW9mIHQpKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyIG9yIExvbmcpXCIpO2lmKFwibnVtYmVyXCIhPT10eXBlb2Ygbnx8biUxIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrbitcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChuPj4+PTApPDB8fG4rMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIituK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9XCJudW1iZXJcIj09PXR5cGVvZiBlP2U9dC5mcm9tTnVtYmVyKGUpOlwic3RyaW5nXCI9PT10eXBlb2YgZSYmKGU9dC5mcm9tU3RyaW5nKGUpKSxuKz04O3ZhciBpPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7bj5pJiZ0aGlzLnJlc2l6ZSgoaSo9Mik+bj9pOm4pLG4tPTg7dmFyIG89ZS5sb3csYT1lLmhpZ2g7cmV0dXJuIHRoaXMubGl0dGxlRW5kaWFuPyh0aGlzLnZpZXdbbiszXT1vPj4+MjQmMjU1LHRoaXMudmlld1tuKzJdPW8+Pj4xNiYyNTUsdGhpcy52aWV3W24rMV09bz4+PjgmMjU1LHRoaXMudmlld1tuXT0yNTUmbyxuKz00LHRoaXMudmlld1tuKzNdPWE+Pj4yNCYyNTUsdGhpcy52aWV3W24rMl09YT4+PjE2JjI1NSx0aGlzLnZpZXdbbisxXT1hPj4+OCYyNTUsdGhpcy52aWV3W25dPTI1NSZhKToodGhpcy52aWV3W25dPWE+Pj4yNCYyNTUsdGhpcy52aWV3W24rMV09YT4+PjE2JjI1NSx0aGlzLnZpZXdbbisyXT1hPj4+OCYyNTUsdGhpcy52aWV3W24rM109MjU1JmEsbis9NCx0aGlzLnZpZXdbbl09bz4+PjI0JjI1NSx0aGlzLnZpZXdbbisxXT1vPj4+MTYmMjU1LHRoaXMudmlld1tuKzJdPW8+Pj44JjI1NSx0aGlzLnZpZXdbbiszXT0yNTUmbyksciYmKHRoaXMub2Zmc2V0Kz04KSx0aGlzfSxuLndyaXRlVUludDY0PW4ud3JpdGVVaW50NjQsbi5yZWFkVWludDY0PWZ1bmN0aW9uKGUpe3ZhciBuPVwidW5kZWZpbmVkXCI9PT10eXBlb2YgZTtpZihuJiYoZT10aGlzLm9mZnNldCksIXRoaXMubm9Bc3NlcnQpe2lmKFwibnVtYmVyXCIhPT10eXBlb2YgZXx8ZSUxIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrOD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrOCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHI9MCxpPTA7dGhpcy5saXR0bGVFbmRpYW4/KHI9dGhpcy52aWV3W2UrMl08PDE2LHJ8PXRoaXMudmlld1tlKzFdPDw4LHJ8PXRoaXMudmlld1tlXSxyKz10aGlzLnZpZXdbZSszXTw8MjQ+Pj4wLGUrPTQsaT10aGlzLnZpZXdbZSsyXTw8MTYsaXw9dGhpcy52aWV3W2UrMV08PDgsaXw9dGhpcy52aWV3W2VdLGkrPXRoaXMudmlld1tlKzNdPDwyND4+PjApOihpPXRoaXMudmlld1tlKzFdPDwxNixpfD10aGlzLnZpZXdbZSsyXTw8OCxpfD10aGlzLnZpZXdbZSszXSxpKz10aGlzLnZpZXdbZV08PDI0Pj4+MCxlKz00LHI9dGhpcy52aWV3W2UrMV08PDE2LHJ8PXRoaXMudmlld1tlKzJdPDw4LHJ8PXRoaXMudmlld1tlKzNdLHIrPXRoaXMudmlld1tlXTw8MjQ+Pj4wKTt2YXIgbz1uZXcgdChyLGksITApO3JldHVybiBuJiYodGhpcy5vZmZzZXQrPTgpLG99LG4ucmVhZFVJbnQ2ND1uLnJlYWRVaW50NjQpLG4ud3JpdGVGbG9hdDMyPWZ1bmN0aW9uKHQsZSl7dmFyIG49XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBlO2lmKG4mJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5ub0Fzc2VydCl7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK3QrXCIgKG5vdCBhIG51bWJlcilcIik7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiBlfHxlJTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1lKz00O3ZhciByPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIGU+ciYmdGhpcy5yZXNpemUoKHIqPTIpPmU/cjplKSxlLT00LHUodGhpcy52aWV3LHQsZSx0aGlzLmxpdHRsZUVuZGlhbiwyMyw0KSxuJiYodGhpcy5vZmZzZXQrPTQpLHRoaXN9LG4ud3JpdGVGbG9hdD1uLndyaXRlRmxvYXQzMixuLnJlYWRGbG9hdDMyPWZ1bmN0aW9uKHQpe3ZhciBlPVwidW5kZWZpbmVkXCI9PT10eXBlb2YgdDtpZihlJiYodD10aGlzLm9mZnNldCksIXRoaXMubm9Bc3NlcnQpe2lmKFwibnVtYmVyXCIhPT10eXBlb2YgdHx8dCUxIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrND50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrNCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIG49cyh0aGlzLnZpZXcsdCx0aGlzLmxpdHRsZUVuZGlhbiwyMyw0KTtyZXR1cm4gZSYmKHRoaXMub2Zmc2V0Kz00KSxufSxuLnJlYWRGbG9hdD1uLnJlYWRGbG9hdDMyLG4ud3JpdGVGbG9hdDY0PWZ1bmN0aW9uKHQsZSl7dmFyIG49XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBlO2lmKG4mJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5ub0Fzc2VydCl7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK3QrXCIgKG5vdCBhIG51bWJlcilcIik7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiBlfHxlJTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1lKz04O3ZhciByPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIGU+ciYmdGhpcy5yZXNpemUoKHIqPTIpPmU/cjplKSxlLT04LHUodGhpcy52aWV3LHQsZSx0aGlzLmxpdHRsZUVuZGlhbiw1Miw4KSxuJiYodGhpcy5vZmZzZXQrPTgpLHRoaXN9LG4ud3JpdGVEb3VibGU9bi53cml0ZUZsb2F0NjQsbi5yZWFkRmxvYXQ2ND1mdW5jdGlvbih0KXt2YXIgZT1cInVuZGVmaW5lZFwiPT09dHlwZW9mIHQ7aWYoZSYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLm5vQXNzZXJ0KXtpZihcIm51bWJlclwiIT09dHlwZW9mIHR8fHQlMSE9PTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0Kzg+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzgpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBuPXModGhpcy52aWV3LHQsdGhpcy5saXR0bGVFbmRpYW4sNTIsOCk7cmV0dXJuIGUmJih0aGlzLm9mZnNldCs9OCksbn0sbi5yZWFkRG91YmxlPW4ucmVhZEZsb2F0NjQsZS5NQVhfVkFSSU5UMzJfQllURVM9NSxlLmNhbGN1bGF0ZVZhcmludDMyPWZ1bmN0aW9uKHQpe3JldHVybih0Pj4+PTApPDEyOD8xOnQ8MTYzODQ/Mjp0PDE8PDIxPzM6dDwxPDwyOD80OjV9LGUuemlnWmFnRW5jb2RlMzI9ZnVuY3Rpb24odCl7cmV0dXJuKCh0fD0wKTw8MV50Pj4zMSk+Pj4wfSxlLnppZ1phZ0RlY29kZTMyPWZ1bmN0aW9uKHQpe3JldHVybiB0Pj4+MV4tKDEmdCl8MH0sbi53cml0ZVZhcmludDMyPWZ1bmN0aW9uKHQsbil7dmFyIHI9XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBuO2lmKHImJihuPXRoaXMub2Zmc2V0KSwhdGhpcy5ub0Fzc2VydCl7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiB0fHx0JTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZih0fD0wLFwibnVtYmVyXCIhPT10eXBlb2Ygbnx8biUxIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrbitcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChuPj4+PTApPDB8fG4rMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIituK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIGksbz1lLmNhbGN1bGF0ZVZhcmludDMyKHQpO24rPW87dmFyIGE9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtmb3Iobj5hJiZ0aGlzLnJlc2l6ZSgoYSo9Mik+bj9hOm4pLG4tPW8sdD4+Pj0wO3Q+PTEyODspaT0xMjcmdHwxMjgsdGhpcy52aWV3W24rK109aSx0Pj4+PTc7cmV0dXJuIHRoaXMudmlld1tuKytdPXQscj8odGhpcy5vZmZzZXQ9bix0aGlzKTpvfSxuLndyaXRlVmFyaW50MzJaaWdaYWc9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdGhpcy53cml0ZVZhcmludDMyKGUuemlnWmFnRW5jb2RlMzIodCksbil9LG4ucmVhZFZhcmludDMyPWZ1bmN0aW9uKHQpe3ZhciBlPVwidW5kZWZpbmVkXCI9PT10eXBlb2YgdDtpZihlJiYodD10aGlzLm9mZnNldCksIXRoaXMubm9Bc3NlcnQpe2lmKFwibnVtYmVyXCIhPT10eXBlb2YgdHx8dCUxIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrMT50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrMSkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIG4scj0wLGk9MDtkb3tpZighdGhpcy5ub0Fzc2VydCYmdD50aGlzLmxpbWl0KXt2YXIgbz1FcnJvcihcIlRydW5jYXRlZFwiKTt0aHJvdyBvLnRydW5jYXRlZD0hMCxvfW49dGhpcy52aWV3W3QrK10scjw1JiYoaXw9KDEyNyZuKTw8NypyKSwrK3J9d2hpbGUoMCE9PSgxMjgmbikpO3JldHVybiBpfD0wLGU/KHRoaXMub2Zmc2V0PXQsaSk6e3ZhbHVlOmksbGVuZ3RoOnJ9fSxuLnJlYWRWYXJpbnQzMlppZ1phZz1mdW5jdGlvbih0KXt2YXIgbj10aGlzLnJlYWRWYXJpbnQzMih0KTtyZXR1cm5cIm9iamVjdFwiPT09dHlwZW9mIG4/bi52YWx1ZT1lLnppZ1phZ0RlY29kZTMyKG4udmFsdWUpOm49ZS56aWdaYWdEZWNvZGUzMihuKSxufSx0JiYoZS5NQVhfVkFSSU5UNjRfQllURVM9MTAsZS5jYWxjdWxhdGVWYXJpbnQ2ND1mdW5jdGlvbihlKXtcIm51bWJlclwiPT09dHlwZW9mIGU/ZT10LmZyb21OdW1iZXIoZSk6XCJzdHJpbmdcIj09PXR5cGVvZiBlJiYoZT10LmZyb21TdHJpbmcoZSkpO3ZhciBuPWUudG9JbnQoKT4+PjAscj1lLnNoaWZ0UmlnaHRVbnNpZ25lZCgyOCkudG9JbnQoKT4+PjAsaT1lLnNoaWZ0UmlnaHRVbnNpZ25lZCg1NikudG9JbnQoKT4+PjA7cmV0dXJuIDA9PWk/MD09cj9uPDE2Mzg0P248MTI4PzE6MjpuPDE8PDIxPzM6NDpyPDE2Mzg0P3I8MTI4PzU6NjpyPDE8PDIxPzc6ODppPDEyOD85OjEwfSxlLnppZ1phZ0VuY29kZTY0PWZ1bmN0aW9uKGUpe3JldHVyblwibnVtYmVyXCI9PT10eXBlb2YgZT9lPXQuZnJvbU51bWJlcihlLCExKTpcInN0cmluZ1wiPT09dHlwZW9mIGU/ZT10LmZyb21TdHJpbmcoZSwhMSk6ITEhPT1lLnVuc2lnbmVkJiYoZT1lLnRvU2lnbmVkKCkpLGUuc2hpZnRMZWZ0KDEpLnhvcihlLnNoaWZ0UmlnaHQoNjMpKS50b1Vuc2lnbmVkKCl9LGUuemlnWmFnRGVjb2RlNjQ9ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09PXR5cGVvZiBlP2U9dC5mcm9tTnVtYmVyKGUsITEpOlwic3RyaW5nXCI9PT10eXBlb2YgZT9lPXQuZnJvbVN0cmluZyhlLCExKTohMSE9PWUudW5zaWduZWQmJihlPWUudG9TaWduZWQoKSksZS5zaGlmdFJpZ2h0VW5zaWduZWQoMSkueG9yKGUuYW5kKHQuT05FKS50b1NpZ25lZCgpLm5lZ2F0ZSgpKS50b1NpZ25lZCgpfSxuLndyaXRlVmFyaW50NjQ9ZnVuY3Rpb24obixyKXt2YXIgaT1cInVuZGVmaW5lZFwiPT09dHlwZW9mIHI7aWYoaSYmKHI9dGhpcy5vZmZzZXQpLCF0aGlzLm5vQXNzZXJ0KXtpZihcIm51bWJlclwiPT09dHlwZW9mIG4pbj10LmZyb21OdW1iZXIobik7ZWxzZSBpZihcInN0cmluZ1wiPT09dHlwZW9mIG4pbj10LmZyb21TdHJpbmcobik7ZWxzZSBpZighKG4mJm4gaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIituK1wiIChub3QgYW4gaW50ZWdlciBvciBMb25nKVwiKTtpZihcIm51bWJlclwiIT09dHlwZW9mIHJ8fHIlMSE9PTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfVwibnVtYmVyXCI9PT10eXBlb2Ygbj9uPXQuZnJvbU51bWJlcihuLCExKTpcInN0cmluZ1wiPT09dHlwZW9mIG4/bj10LmZyb21TdHJpbmcobiwhMSk6ITEhPT1uLnVuc2lnbmVkJiYobj1uLnRvU2lnbmVkKCkpO3ZhciBvPWUuY2FsY3VsYXRlVmFyaW50NjQobiksYT1uLnRvSW50KCk+Pj4wLHM9bi5zaGlmdFJpZ2h0VW5zaWduZWQoMjgpLnRvSW50KCk+Pj4wLHU9bi5zaGlmdFJpZ2h0VW5zaWduZWQoNTYpLnRvSW50KCk+Pj4wO3IrPW87dmFyIGM9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtzd2l0Y2gocj5jJiZ0aGlzLnJlc2l6ZSgoYyo9Mik+cj9jOnIpLHItPW8sbyl7Y2FzZSAxMDp0aGlzLnZpZXdbcis5XT11Pj4+NyYxO2Nhc2UgOTp0aGlzLnZpZXdbcis4XT05IT09bz8xMjh8dToxMjcmdTtjYXNlIDg6dGhpcy52aWV3W3IrN109OCE9PW8/cz4+PjIxfDEyODpzPj4+MjEmMTI3O2Nhc2UgNzp0aGlzLnZpZXdbcis2XT03IT09bz9zPj4+MTR8MTI4OnM+Pj4xNCYxMjc7Y2FzZSA2OnRoaXMudmlld1tyKzVdPTYhPT1vP3M+Pj43fDEyODpzPj4+NyYxMjc7Y2FzZSA1OnRoaXMudmlld1tyKzRdPTUhPT1vPzEyOHxzOjEyNyZzO2Nhc2UgNDp0aGlzLnZpZXdbciszXT00IT09bz9hPj4+MjF8MTI4OmE+Pj4yMSYxMjc7Y2FzZSAzOnRoaXMudmlld1tyKzJdPTMhPT1vP2E+Pj4xNHwxMjg6YT4+PjE0JjEyNztjYXNlIDI6dGhpcy52aWV3W3IrMV09MiE9PW8/YT4+Pjd8MTI4OmE+Pj43JjEyNztjYXNlIDE6dGhpcy52aWV3W3JdPTEhPT1vPzEyOHxhOjEyNyZhfXJldHVybiBpPyh0aGlzLm9mZnNldCs9byx0aGlzKTpvfSxuLndyaXRlVmFyaW50NjRaaWdaYWc9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdGhpcy53cml0ZVZhcmludDY0KGUuemlnWmFnRW5jb2RlNjQodCksbil9LG4ucmVhZFZhcmludDY0PWZ1bmN0aW9uKGUpe3ZhciBuPVwidW5kZWZpbmVkXCI9PT10eXBlb2YgZTtpZihuJiYoZT10aGlzLm9mZnNldCksIXRoaXMubm9Bc3NlcnQpe2lmKFwibnVtYmVyXCIhPT10eXBlb2YgZXx8ZSUxIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrMT50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrMSkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHI9ZSxpPTAsbz0wLGE9MCxzPTA7aWYoaT0xMjcmKHM9dGhpcy52aWV3W2UrK10pLDEyOCZzJiYoaXw9KDEyNyYocz10aGlzLnZpZXdbZSsrXSkpPDw3LCgxMjgmc3x8dGhpcy5ub0Fzc2VydCYmXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBzKSYmKGl8PSgxMjcmKHM9dGhpcy52aWV3W2UrK10pKTw8MTQsKDEyOCZzfHx0aGlzLm5vQXNzZXJ0JiZcInVuZGVmaW5lZFwiPT09dHlwZW9mIHMpJiYoaXw9KDEyNyYocz10aGlzLnZpZXdbZSsrXSkpPDwyMSwoMTI4JnN8fHRoaXMubm9Bc3NlcnQmJlwidW5kZWZpbmVkXCI9PT10eXBlb2YgcykmJihvPTEyNyYocz10aGlzLnZpZXdbZSsrXSksKDEyOCZzfHx0aGlzLm5vQXNzZXJ0JiZcInVuZGVmaW5lZFwiPT09dHlwZW9mIHMpJiYob3w9KDEyNyYocz10aGlzLnZpZXdbZSsrXSkpPDw3LCgxMjgmc3x8dGhpcy5ub0Fzc2VydCYmXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBzKSYmKG98PSgxMjcmKHM9dGhpcy52aWV3W2UrK10pKTw8MTQsKDEyOCZzfHx0aGlzLm5vQXNzZXJ0JiZcInVuZGVmaW5lZFwiPT09dHlwZW9mIHMpJiYob3w9KDEyNyYocz10aGlzLnZpZXdbZSsrXSkpPDwyMSwoMTI4JnN8fHRoaXMubm9Bc3NlcnQmJlwidW5kZWZpbmVkXCI9PT10eXBlb2YgcykmJihhPTEyNyYocz10aGlzLnZpZXdbZSsrXSksKDEyOCZzfHx0aGlzLm5vQXNzZXJ0JiZcInVuZGVmaW5lZFwiPT09dHlwZW9mIHMpJiYoYXw9KDEyNyYocz10aGlzLnZpZXdbZSsrXSkpPDw3LDEyOCZzfHx0aGlzLm5vQXNzZXJ0JiZcInVuZGVmaW5lZFwiPT09dHlwZW9mIHMpKSkpKSkpKSkpdGhyb3cgRXJyb3IoXCJCdWZmZXIgb3ZlcnJ1blwiKTt2YXIgdT10LmZyb21CaXRzKGl8bzw8Mjgsbz4+PjR8YTw8MjQsITEpO3JldHVybiBuPyh0aGlzLm9mZnNldD1lLHUpOnt2YWx1ZTp1LGxlbmd0aDplLXJ9fSxuLnJlYWRWYXJpbnQ2NFppZ1phZz1mdW5jdGlvbihuKXt2YXIgcj10aGlzLnJlYWRWYXJpbnQ2NChuKTtyZXR1cm4gciYmci52YWx1ZSBpbnN0YW5jZW9mIHQ/ci52YWx1ZT1lLnppZ1phZ0RlY29kZTY0KHIudmFsdWUpOnI9ZS56aWdaYWdEZWNvZGU2NChyKSxyfSksbi53cml0ZUNTdHJpbmc9ZnVuY3Rpb24odCxlKXt2YXIgbj1cInVuZGVmaW5lZFwiPT09dHlwZW9mIGU7biYmKGU9dGhpcy5vZmZzZXQpO3ZhciByLGk9dC5sZW5ndGg7aWYoIXRoaXMubm9Bc3NlcnQpe2lmKFwic3RyaW5nXCIhPT10eXBlb2YgdCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgc3RyaW5nXCIpO2ZvcihyPTA7cjxpOysrcilpZigwPT09dC5jaGFyQ29kZUF0KHIpKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHN0cjogQ29udGFpbnMgTlVMTC1jaGFyYWN0ZXJzXCIpO2lmKFwibnVtYmVyXCIhPT10eXBlb2YgZXx8ZSUxIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9aT1mLmNhbGN1bGF0ZVVURjE2YXNVVEY4KG8odCkpWzFdLGUrPWkrMTt2YXIgYT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiBlPmEmJnRoaXMucmVzaXplKChhKj0yKT5lP2E6ZSksZS09aSsxLGYuZW5jb2RlVVRGMTZ0b1VURjgobyh0KSxmdW5jdGlvbih0KXt0aGlzLnZpZXdbZSsrXT10fS5iaW5kKHRoaXMpKSx0aGlzLnZpZXdbZSsrXT0wLG4/KHRoaXMub2Zmc2V0PWUsdGhpcyk6aX0sbi5yZWFkQ1N0cmluZz1mdW5jdGlvbih0KXt2YXIgZT1cInVuZGVmaW5lZFwiPT09dHlwZW9mIHQ7aWYoZSYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLm5vQXNzZXJ0KXtpZihcIm51bWJlclwiIT09dHlwZW9mIHR8fHQlMSE9PTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzE+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzEpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBuLHI9dCxpPS0xO3JldHVybiBmLmRlY29kZVVURjh0b1VURjE2KGZ1bmN0aW9uKCl7aWYoMD09PWkpcmV0dXJuIG51bGw7aWYodD49dGhpcy5saW1pdCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogVHJ1bmNhdGVkIGRhdGEsIFwiK3QrXCIgPCBcIit0aGlzLmxpbWl0KTtyZXR1cm4gMD09PShpPXRoaXMudmlld1t0KytdKT9udWxsOml9LmJpbmQodGhpcyksbj1hKCksITApLGU/KHRoaXMub2Zmc2V0PXQsbigpKTp7c3RyaW5nOm4oKSxsZW5ndGg6dC1yfX0sbi53cml0ZUlTdHJpbmc9ZnVuY3Rpb24odCxlKXt2YXIgbj1cInVuZGVmaW5lZFwiPT09dHlwZW9mIGU7aWYobiYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLm5vQXNzZXJ0KXtpZihcInN0cmluZ1wiIT09dHlwZW9mIHQpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE5vdCBhIHN0cmluZ1wiKTtpZihcIm51bWJlclwiIT09dHlwZW9mIGV8fGUlMSE9PTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByLGk9ZTtyPWYuY2FsY3VsYXRlVVRGMTZhc1VURjgobyh0KSx0aGlzLm5vQXNzZXJ0KVsxXSxlKz00K3I7dmFyIGE9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtpZihlPmEmJnRoaXMucmVzaXplKChhKj0yKT5lP2E6ZSksZS09NCtyLHRoaXMubGl0dGxlRW5kaWFuPyh0aGlzLnZpZXdbZSszXT1yPj4+MjQmMjU1LHRoaXMudmlld1tlKzJdPXI+Pj4xNiYyNTUsdGhpcy52aWV3W2UrMV09cj4+PjgmMjU1LHRoaXMudmlld1tlXT0yNTUmcik6KHRoaXMudmlld1tlXT1yPj4+MjQmMjU1LHRoaXMudmlld1tlKzFdPXI+Pj4xNiYyNTUsdGhpcy52aWV3W2UrMl09cj4+PjgmMjU1LHRoaXMudmlld1tlKzNdPTI1NSZyKSxlKz00LGYuZW5jb2RlVVRGMTZ0b1VURjgobyh0KSxmdW5jdGlvbih0KXt0aGlzLnZpZXdbZSsrXT10fS5iaW5kKHRoaXMpKSxlIT09aSs0K3IpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IFRydW5jYXRlZCBkYXRhLCBcIitlK1wiID09IFwiKyhlKzQrcikpO3JldHVybiBuPyh0aGlzLm9mZnNldD1lLHRoaXMpOmUtaX0sbi5yZWFkSVN0cmluZz1mdW5jdGlvbih0KXt2YXIgbj1cInVuZGVmaW5lZFwiPT09dHlwZW9mIHQ7aWYobiYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLm5vQXNzZXJ0KXtpZihcIm51bWJlclwiIT09dHlwZW9mIHR8fHQlMSE9PTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzQpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByPXQsaT10aGlzLnJlYWRVaW50MzIodCksbz10aGlzLnJlYWRVVEY4U3RyaW5nKGksZS5NRVRSSUNTX0JZVEVTLHQrPTQpO3JldHVybiB0Kz1vLmxlbmd0aCxuPyh0aGlzLm9mZnNldD10LG8uc3RyaW5nKTp7c3RyaW5nOm8uc3RyaW5nLGxlbmd0aDp0LXJ9fSxlLk1FVFJJQ1NfQ0hBUlM9XCJjXCIsZS5NRVRSSUNTX0JZVEVTPVwiYlwiLG4ud3JpdGVVVEY4U3RyaW5nPWZ1bmN0aW9uKHQsZSl7dmFyIG4scj1cInVuZGVmaW5lZFwiPT09dHlwZW9mIGU7aWYociYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLm5vQXNzZXJ0KXtpZihcIm51bWJlclwiIT09dHlwZW9mIGV8fGUlMSE9PTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBpPWU7bj1mLmNhbGN1bGF0ZVVURjE2YXNVVEY4KG8odCkpWzFdLGUrPW47dmFyIGE9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gZT5hJiZ0aGlzLnJlc2l6ZSgoYSo9Mik+ZT9hOmUpLGUtPW4sZi5lbmNvZGVVVEYxNnRvVVRGOChvKHQpLGZ1bmN0aW9uKHQpe3RoaXMudmlld1tlKytdPXR9LmJpbmQodGhpcykpLHI/KHRoaXMub2Zmc2V0PWUsdGhpcyk6ZS1pfSxuLndyaXRlU3RyaW5nPW4ud3JpdGVVVEY4U3RyaW5nLGUuY2FsY3VsYXRlVVRGOENoYXJzPWZ1bmN0aW9uKHQpe3JldHVybiBmLmNhbGN1bGF0ZVVURjE2YXNVVEY4KG8odCkpWzBdfSxlLmNhbGN1bGF0ZVVURjhCeXRlcz1mdW5jdGlvbih0KXtyZXR1cm4gZi5jYWxjdWxhdGVVVEYxNmFzVVRGOChvKHQpKVsxXX0sZS5jYWxjdWxhdGVTdHJpbmc9ZS5jYWxjdWxhdGVVVEY4Qnl0ZXMsbi5yZWFkVVRGOFN0cmluZz1mdW5jdGlvbih0LG4scil7XCJudW1iZXJcIj09PXR5cGVvZiBuJiYocj1uLG49dm9pZCAwKTt2YXIgaT1cInVuZGVmaW5lZFwiPT09dHlwZW9mIHI7aWYoaSYmKHI9dGhpcy5vZmZzZXQpLFwidW5kZWZpbmVkXCI9PT10eXBlb2YgbiYmKG49ZS5NRVRSSUNTX0NIQVJTKSwhdGhpcy5ub0Fzc2VydCl7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiB0fHx0JTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgbGVuZ3RoOiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYodHw9MCxcIm51bWJlclwiIT09dHlwZW9mIHJ8fHIlMSE9PTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBvLHM9MCx1PXI7aWYobj09PWUuTUVUUklDU19DSEFSUyl7aWYobz1hKCksZi5kZWNvZGVVVEY4KGZ1bmN0aW9uKCl7cmV0dXJuIHM8dCYmcjx0aGlzLmxpbWl0P3RoaXMudmlld1tyKytdOm51bGx9LmJpbmQodGhpcyksKGZ1bmN0aW9uKHQpeysrcyxmLlVURjh0b1VURjE2KHQsbyl9KSkscyE9PXQpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IFRydW5jYXRlZCBkYXRhLCBcIitzK1wiID09IFwiK3QpO3JldHVybiBpPyh0aGlzLm9mZnNldD1yLG8oKSk6e3N0cmluZzpvKCksbGVuZ3RoOnItdX19aWYobj09PWUuTUVUUklDU19CWVRFUyl7aWYoIXRoaXMubm9Bc3NlcnQpe2lmKFwibnVtYmVyXCIhPT10eXBlb2Ygcnx8ciUxIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrcitcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChyPj4+PTApPDB8fHIrdD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIityK1wiICgrXCIrdCtcIikgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIGM9cit0O2lmKGYuZGVjb2RlVVRGOHRvVVRGMTYoZnVuY3Rpb24oKXtyZXR1cm4gcjxjP3RoaXMudmlld1tyKytdOm51bGx9LmJpbmQodGhpcyksbz1hKCksdGhpcy5ub0Fzc2VydCksciE9PWMpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IFRydW5jYXRlZCBkYXRhLCBcIityK1wiID09IFwiK2MpO3JldHVybiBpPyh0aGlzLm9mZnNldD1yLG8oKSk6e3N0cmluZzpvKCksbGVuZ3RoOnItdX19dGhyb3cgVHlwZUVycm9yKFwiVW5zdXBwb3J0ZWQgbWV0cmljczogXCIrbil9LG4ucmVhZFN0cmluZz1uLnJlYWRVVEY4U3RyaW5nLG4ud3JpdGVWU3RyaW5nPWZ1bmN0aW9uKHQsbil7dmFyIHI9XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBuO2lmKHImJihuPXRoaXMub2Zmc2V0KSwhdGhpcy5ub0Fzc2VydCl7aWYoXCJzdHJpbmdcIiE9PXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBOb3QgYSBzdHJpbmdcIik7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiBufHxuJTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIituK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKG4+Pj49MCk8MHx8biswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK24rXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgaSxhLHM9bjtpPWYuY2FsY3VsYXRlVVRGMTZhc1VURjgobyh0KSx0aGlzLm5vQXNzZXJ0KVsxXSxhPWUuY2FsY3VsYXRlVmFyaW50MzIoaSksbis9YStpO3ZhciB1PXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7aWYobj51JiZ0aGlzLnJlc2l6ZSgodSo9Mik+bj91Om4pLG4tPWEraSxuKz10aGlzLndyaXRlVmFyaW50MzIoaSxuKSxmLmVuY29kZVVURjE2dG9VVEY4KG8odCksZnVuY3Rpb24odCl7dGhpcy52aWV3W24rK109dH0uYmluZCh0aGlzKSksbiE9PXMraSthKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiBUcnVuY2F0ZWQgZGF0YSwgXCIrbitcIiA9PSBcIisobitpK2EpKTtyZXR1cm4gcj8odGhpcy5vZmZzZXQ9bix0aGlzKTpuLXN9LG4ucmVhZFZTdHJpbmc9ZnVuY3Rpb24odCl7dmFyIG49XCJ1bmRlZmluZWRcIj09PXR5cGVvZiB0O2lmKG4mJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5ub0Fzc2VydCl7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiB0fHx0JTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCsxPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCsxKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcj10LGk9dGhpcy5yZWFkVmFyaW50MzIodCksbz10aGlzLnJlYWRVVEY4U3RyaW5nKGkudmFsdWUsZS5NRVRSSUNTX0JZVEVTLHQrPWkubGVuZ3RoKTtyZXR1cm4gdCs9by5sZW5ndGgsbj8odGhpcy5vZmZzZXQ9dCxvLnN0cmluZyk6e3N0cmluZzpvLnN0cmluZyxsZW5ndGg6dC1yfX0sbi5hcHBlbmQ9ZnVuY3Rpb24odCxuLHIpe1wibnVtYmVyXCIhPT10eXBlb2YgbiYmXCJzdHJpbmdcIj09PXR5cGVvZiBufHwocj1uLG49dm9pZCAwKTt2YXIgaT1cInVuZGVmaW5lZFwiPT09dHlwZW9mIHI7aWYoaSYmKHI9dGhpcy5vZmZzZXQpLCF0aGlzLm5vQXNzZXJ0KXtpZihcIm51bWJlclwiIT09dHlwZW9mIHJ8fHIlMSE9PTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXQgaW5zdGFuY2VvZiBlfHwodD1lLndyYXAodCxuKSk7dmFyIG89dC5saW1pdC10Lm9mZnNldDtpZihvPD0wKXJldHVybiB0aGlzO3IrPW87dmFyIGE9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gcj5hJiZ0aGlzLnJlc2l6ZSgoYSo9Mik+cj9hOnIpLHItPW8sdGhpcy52aWV3LnNldCh0LnZpZXcuc3ViYXJyYXkodC5vZmZzZXQsdC5saW1pdCksciksdC5vZmZzZXQrPW8saSYmKHRoaXMub2Zmc2V0Kz1vKSx0aGlzfSxuLmFwcGVuZFRvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuYXBwZW5kKHRoaXMsZSksdGhpc30sbi5hc3NlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubm9Bc3NlcnQ9IXQsdGhpc30sbi5jYXBhY2l0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RofSxuLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2Zmc2V0PTAsdGhpcy5saW1pdD10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoLHRoaXMubWFya2VkT2Zmc2V0PS0xLHRoaXN9LG4uY2xvbmU9ZnVuY3Rpb24odCl7dmFyIG49bmV3IGUoMCx0aGlzLmxpdHRsZUVuZGlhbix0aGlzLm5vQXNzZXJ0KTtyZXR1cm4gdD8obi5idWZmZXI9bmV3IEFycmF5QnVmZmVyKHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpLG4udmlldz1uZXcgVWludDhBcnJheShuLmJ1ZmZlcikpOihuLmJ1ZmZlcj10aGlzLmJ1ZmZlcixuLnZpZXc9dGhpcy52aWV3KSxuLm9mZnNldD10aGlzLm9mZnNldCxuLm1hcmtlZE9mZnNldD10aGlzLm1hcmtlZE9mZnNldCxuLmxpbWl0PXRoaXMubGltaXQsbn0sbi5jb21wYWN0PWZ1bmN0aW9uKHQsZSl7aWYoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiB0JiYodD10aGlzLm9mZnNldCksXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBlJiYoZT10aGlzLmxpbWl0KSwhdGhpcy5ub0Fzc2VydCl7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiB0fHx0JTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYmVnaW46IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxcIm51bWJlclwiIT09dHlwZW9mIGV8fGUlMSE9PTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKGU+Pj49MCx0PDB8fHQ+ZXx8ZT50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK3QrXCIgPD0gXCIrZStcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1pZigwPT09dCYmZT09PXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpcmV0dXJuIHRoaXM7dmFyIG49ZS10O2lmKDA9PT1uKXJldHVybiB0aGlzLmJ1ZmZlcj1yLHRoaXMudmlldz1udWxsLHRoaXMubWFya2VkT2Zmc2V0Pj0wJiYodGhpcy5tYXJrZWRPZmZzZXQtPXQpLHRoaXMub2Zmc2V0PTAsdGhpcy5saW1pdD0wLHRoaXM7dmFyIGk9bmV3IEFycmF5QnVmZmVyKG4pLG89bmV3IFVpbnQ4QXJyYXkoaSk7cmV0dXJuIG8uc2V0KHRoaXMudmlldy5zdWJhcnJheSh0LGUpKSx0aGlzLmJ1ZmZlcj1pLHRoaXMudmlldz1vLHRoaXMubWFya2VkT2Zmc2V0Pj0wJiYodGhpcy5tYXJrZWRPZmZzZXQtPXQpLHRoaXMub2Zmc2V0PTAsdGhpcy5saW1pdD1uLHRoaXN9LG4uY29weT1mdW5jdGlvbih0LG4pe2lmKFwidW5kZWZpbmVkXCI9PT10eXBlb2YgdCYmKHQ9dGhpcy5vZmZzZXQpLFwidW5kZWZpbmVkXCI9PT10eXBlb2YgbiYmKG49dGhpcy5saW1pdCksIXRoaXMubm9Bc3NlcnQpe2lmKFwibnVtYmVyXCIhPT10eXBlb2YgdHx8dCUxIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJlZ2luOiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsXCJudW1iZXJcIiE9PXR5cGVvZiBufHxuJTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgZW5kOiBOb3QgYW4gaW50ZWdlclwiKTtpZihuPj4+PTAsdDwwfHx0Pm58fG4+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIit0K1wiIDw9IFwiK24rXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9aWYodD09PW4pcmV0dXJuIG5ldyBlKDAsdGhpcy5saXR0bGVFbmRpYW4sdGhpcy5ub0Fzc2VydCk7dmFyIHI9bi10LGk9bmV3IGUocix0aGlzLmxpdHRsZUVuZGlhbix0aGlzLm5vQXNzZXJ0KTtyZXR1cm4gaS5vZmZzZXQ9MCxpLmxpbWl0PXIsaS5tYXJrZWRPZmZzZXQ+PTAmJihpLm1hcmtlZE9mZnNldC09dCksdGhpcy5jb3B5VG8oaSwwLHQsbiksaX0sbi5jb3B5VG89ZnVuY3Rpb24odCxuLHIsaSl7dmFyIG8sYTtpZighdGhpcy5ub0Fzc2VydCYmIWUuaXNCeXRlQnVmZmVyKHQpKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdGFyZ2V0OiBOb3QgYSBCeXRlQnVmZmVyXCIpO2lmKG49KGE9XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBuKT90Lm9mZnNldDowfG4scj0obz1cInVuZGVmaW5lZFwiPT09dHlwZW9mIHIpP3RoaXMub2Zmc2V0OjB8cixpPVwidW5kZWZpbmVkXCI9PT10eXBlb2YgaT90aGlzLmxpbWl0OjB8aSxuPDB8fG4+dC5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCB0YXJnZXQgcmFuZ2U6IDAgPD0gXCIrbitcIiA8PSBcIit0LmJ1ZmZlci5ieXRlTGVuZ3RoKTtpZihyPDB8fGk+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBzb3VyY2UgcmFuZ2U6IDAgPD0gXCIrcitcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKTt2YXIgcz1pLXI7cmV0dXJuIDA9PT1zP3Q6KHQuZW5zdXJlQ2FwYWNpdHkobitzKSx0LnZpZXcuc2V0KHRoaXMudmlldy5zdWJhcnJheShyLGkpLG4pLG8mJih0aGlzLm9mZnNldCs9cyksYSYmKHQub2Zmc2V0Kz1zKSx0aGlzKX0sbi5lbnN1cmVDYXBhY2l0eT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiBlPHQ/dGhpcy5yZXNpemUoKGUqPTIpPnQ/ZTp0KTp0aGlzfSxuLmZpbGw9ZnVuY3Rpb24odCxlLG4pe3ZhciByPVwidW5kZWZpbmVkXCI9PT10eXBlb2YgZTtpZihyJiYoZT10aGlzLm9mZnNldCksXCJzdHJpbmdcIj09PXR5cGVvZiB0JiZ0Lmxlbmd0aD4wJiYodD10LmNoYXJDb2RlQXQoMCkpLFwidW5kZWZpbmVkXCI9PT10eXBlb2YgZSYmKGU9dGhpcy5vZmZzZXQpLFwidW5kZWZpbmVkXCI9PT10eXBlb2YgbiYmKG49dGhpcy5saW1pdCksIXRoaXMubm9Bc3NlcnQpe2lmKFwibnVtYmVyXCIhPT10eXBlb2YgdHx8dCUxIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYodHw9MCxcIm51bWJlclwiIT09dHlwZW9mIGV8fGUlMSE9PTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPT10eXBlb2Ygbnx8biUxIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGVuZDogTm90IGFuIGludGVnZXJcIik7aWYobj4+Pj0wLGU8MHx8ZT5ufHxuPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IDAgPD0gXCIrZStcIiA8PSBcIituK1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfWlmKGU+PW4pcmV0dXJuIHRoaXM7Zm9yKDtlPG47KXRoaXMudmlld1tlKytdPXQ7cmV0dXJuIHImJih0aGlzLm9mZnNldD1lKSx0aGlzfSxuLmZsaXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saW1pdD10aGlzLm9mZnNldCx0aGlzLm9mZnNldD0wLHRoaXN9LG4ubWFyaz1mdW5jdGlvbih0KXtpZih0PVwidW5kZWZpbmVkXCI9PT10eXBlb2YgdD90aGlzLm9mZnNldDp0LCF0aGlzLm5vQXNzZXJ0KXtpZihcIm51bWJlclwiIT09dHlwZW9mIHR8fHQlMSE9PTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXJldHVybiB0aGlzLm1hcmtlZE9mZnNldD10LHRoaXN9LG4ub3JkZXI9ZnVuY3Rpb24odCl7aWYoIXRoaXMubm9Bc3NlcnQmJlwiYm9vbGVhblwiIT09dHlwZW9mIHQpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBsaXR0bGVFbmRpYW46IE5vdCBhIGJvb2xlYW5cIik7cmV0dXJuIHRoaXMubGl0dGxlRW5kaWFuPSEhdCx0aGlzfSxuLkxFPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxpdHRsZUVuZGlhbj1cInVuZGVmaW5lZFwiPT09dHlwZW9mIHR8fCEhdCx0aGlzfSxuLkJFPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxpdHRsZUVuZGlhbj1cInVuZGVmaW5lZFwiIT09dHlwZW9mIHQmJiF0LHRoaXN9LG4ucHJlcGVuZD1mdW5jdGlvbih0LG4scil7XCJudW1iZXJcIiE9PXR5cGVvZiBuJiZcInN0cmluZ1wiPT09dHlwZW9mIG58fChyPW4sbj12b2lkIDApO3ZhciBpPVwidW5kZWZpbmVkXCI9PT10eXBlb2YgcjtpZihpJiYocj10aGlzLm9mZnNldCksIXRoaXMubm9Bc3NlcnQpe2lmKFwibnVtYmVyXCIhPT10eXBlb2Ygcnx8ciUxIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrcitcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChyPj4+PTApPDB8fHIrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIityK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dCBpbnN0YW5jZW9mIGV8fCh0PWUud3JhcCh0LG4pKTt2YXIgbz10LmxpbWl0LXQub2Zmc2V0O2lmKG88PTApcmV0dXJuIHRoaXM7dmFyIGE9by1yO2lmKGE+MCl7dmFyIHM9bmV3IEFycmF5QnVmZmVyKHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgrYSksdT1uZXcgVWludDhBcnJheShzKTt1LnNldCh0aGlzLnZpZXcuc3ViYXJyYXkocix0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSxvKSx0aGlzLmJ1ZmZlcj1zLHRoaXMudmlldz11LHRoaXMub2Zmc2V0Kz1hLHRoaXMubWFya2VkT2Zmc2V0Pj0wJiYodGhpcy5tYXJrZWRPZmZzZXQrPWEpLHRoaXMubGltaXQrPWEscis9YX1lbHNlIG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyKTtyZXR1cm4gdGhpcy52aWV3LnNldCh0LnZpZXcuc3ViYXJyYXkodC5vZmZzZXQsdC5saW1pdCksci1vKSx0Lm9mZnNldD10LmxpbWl0LGkmJih0aGlzLm9mZnNldC09byksdGhpc30sbi5wcmVwZW5kVG89ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5wcmVwZW5kKHRoaXMsZSksdGhpc30sbi5wcmludERlYnVnPWZ1bmN0aW9uKHQpe1wiZnVuY3Rpb25cIiE9PXR5cGVvZiB0JiYodD1jb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpKSx0KHRoaXMudG9TdHJpbmcoKStcIlxcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG5cIit0aGlzLnRvRGVidWcoITApKX0sbi5yZW1haW5pbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saW1pdC10aGlzLm9mZnNldH0sbi5yZXNldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcmtlZE9mZnNldD49MD8odGhpcy5vZmZzZXQ9dGhpcy5tYXJrZWRPZmZzZXQsdGhpcy5tYXJrZWRPZmZzZXQ9LTEpOnRoaXMub2Zmc2V0PTAsdGhpc30sbi5yZXNpemU9ZnVuY3Rpb24odCl7aWYoIXRoaXMubm9Bc3NlcnQpe2lmKFwibnVtYmVyXCIhPT10eXBlb2YgdHx8dCUxIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGNhcGFjaXR5OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHR8PTApPDApdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgY2FwYWNpdHk6IDAgPD0gXCIrdCl9aWYodGhpcy5idWZmZXIuYnl0ZUxlbmd0aDx0KXt2YXIgZT1uZXcgQXJyYXlCdWZmZXIodCksbj1uZXcgVWludDhBcnJheShlKTtuLnNldCh0aGlzLnZpZXcpLHRoaXMuYnVmZmVyPWUsdGhpcy52aWV3PW59cmV0dXJuIHRoaXN9LG4ucmV2ZXJzZT1mdW5jdGlvbih0LGUpe2lmKFwidW5kZWZpbmVkXCI9PT10eXBlb2YgdCYmKHQ9dGhpcy5vZmZzZXQpLFwidW5kZWZpbmVkXCI9PT10eXBlb2YgZSYmKGU9dGhpcy5saW1pdCksIXRoaXMubm9Bc3NlcnQpe2lmKFwibnVtYmVyXCIhPT10eXBlb2YgdHx8dCUxIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJlZ2luOiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsXCJudW1iZXJcIiE9PXR5cGVvZiBlfHxlJTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgZW5kOiBOb3QgYW4gaW50ZWdlclwiKTtpZihlPj4+PTAsdDwwfHx0PmV8fGU+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIit0K1wiIDw9IFwiK2UrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9cmV0dXJuIHQ9PT1lP3RoaXM6KEFycmF5LnByb3RvdHlwZS5yZXZlcnNlLmNhbGwodGhpcy52aWV3LnN1YmFycmF5KHQsZSkpLHRoaXMpfSxuLnNraXA9ZnVuY3Rpb24odCl7aWYoIXRoaXMubm9Bc3NlcnQpe2lmKFwibnVtYmVyXCIhPT10eXBlb2YgdHx8dCUxIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGxlbmd0aDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO3R8PTB9dmFyIGU9dGhpcy5vZmZzZXQrdDtpZighdGhpcy5ub0Fzc2VydCYmKGU8MHx8ZT50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBsZW5ndGg6IDAgPD0gXCIrdGhpcy5vZmZzZXQrXCIgKyBcIit0K1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpO3JldHVybiB0aGlzLm9mZnNldD1lLHRoaXN9LG4uc2xpY2U9ZnVuY3Rpb24odCxlKXtpZihcInVuZGVmaW5lZFwiPT09dHlwZW9mIHQmJih0PXRoaXMub2Zmc2V0KSxcInVuZGVmaW5lZFwiPT09dHlwZW9mIGUmJihlPXRoaXMubGltaXQpLCF0aGlzLm5vQXNzZXJ0KXtpZihcIm51bWJlclwiIT09dHlwZW9mIHR8fHQlMSE9PTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYodD4+Pj0wLFwibnVtYmVyXCIhPT10eXBlb2YgZXx8ZSUxIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGVuZDogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLHQ8MHx8dD5lfHxlPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IDAgPD0gXCIrdCtcIiA8PSBcIitlK1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBuPXRoaXMuY2xvbmUoKTtyZXR1cm4gbi5vZmZzZXQ9dCxuLmxpbWl0PWUsbn0sbi50b0J1ZmZlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9mZnNldCxuPXRoaXMubGltaXQ7aWYoIXRoaXMubm9Bc3NlcnQpe2lmKFwibnVtYmVyXCIhPT10eXBlb2YgZXx8ZSUxIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPT10eXBlb2Ygbnx8biUxIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGxpbWl0OiBOb3QgYW4gaW50ZWdlclwiKTtpZihuPj4+PTAsZTwwfHxlPm58fG4+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIitlK1wiIDw9IFwiK24rXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9aWYoIXQmJjA9PT1lJiZuPT09dGhpcy5idWZmZXIuYnl0ZUxlbmd0aClyZXR1cm4gdGhpcy5idWZmZXI7aWYoZT09PW4pcmV0dXJuIHI7dmFyIGk9bmV3IEFycmF5QnVmZmVyKG4tZSk7cmV0dXJuIG5ldyBVaW50OEFycmF5KGkpLnNldChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcikuc3ViYXJyYXkoZSxuKSwwKSxpfSxuLnRvQXJyYXlCdWZmZXI9bi50b0J1ZmZlcixuLnRvU3RyaW5nPWZ1bmN0aW9uKHQsZSxuKXtpZihcInVuZGVmaW5lZFwiPT09dHlwZW9mIHQpcmV0dXJuXCJCeXRlQnVmZmVyQUIob2Zmc2V0PVwiK3RoaXMub2Zmc2V0K1wiLG1hcmtlZE9mZnNldD1cIit0aGlzLm1hcmtlZE9mZnNldCtcIixsaW1pdD1cIit0aGlzLmxpbWl0K1wiLGNhcGFjaXR5PVwiK3RoaXMuY2FwYWNpdHkoKStcIilcIjtzd2l0Y2goXCJudW1iZXJcIj09PXR5cGVvZiB0JiYobj1lPXQ9XCJ1dGY4XCIpLHQpe2Nhc2VcInV0ZjhcIjpyZXR1cm4gdGhpcy50b1VURjgoZSxuKTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gdGhpcy50b0Jhc2U2NChlLG4pO2Nhc2VcImhleFwiOnJldHVybiB0aGlzLnRvSGV4KGUsbik7Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIHRoaXMudG9CaW5hcnkoZSxuKTtjYXNlXCJkZWJ1Z1wiOnJldHVybiB0aGlzLnRvRGVidWcoKTtjYXNlXCJjb2x1bW5zXCI6cmV0dXJuIHRoaXMudG9Db2x1bW5zKCk7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVuc3VwcG9ydGVkIGVuY29kaW5nOiBcIit0KX19O3ZhciBjPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXt9LGU9WzY1LDY2LDY3LDY4LDY5LDcwLDcxLDcyLDczLDc0LDc1LDc2LDc3LDc4LDc5LDgwLDgxLDgyLDgzLDg0LDg1LDg2LDg3LDg4LDg5LDkwLDk3LDk4LDk5LDEwMCwxMDEsMTAyLDEwMywxMDQsMTA1LDEwNiwxMDcsMTA4LDEwOSwxMTAsMTExLDExMiwxMTMsMTE0LDExNSwxMTYsMTE3LDExOCwxMTksMTIwLDEyMSwxMjIsNDgsNDksNTAsNTEsNTIsNTMsNTQsNTUsNTYsNTcsNDMsNDddLG49W10scj0wLGk9ZS5sZW5ndGg7cjxpOysrciluW2Vbcl1dPXI7cmV0dXJuIHQuZW5jb2RlPWZ1bmN0aW9uKHQsbil7Zm9yKHZhciByLGk7bnVsbCE9PShyPXQoKSk7KW4oZVtyPj4yJjYzXSksaT0oMyZyKTw8NCxudWxsIT09KHI9dCgpKT8obihlWzYzJigoaXw9cj4+NCYxNSl8cj4+NCYxNSldKSxpPSgxNSZyKTw8MixudWxsIT09KHI9dCgpKT8obihlWzYzJihpfHI+PjYmMyldKSxuKGVbNjMmcl0pKToobihlWzYzJmldKSxuKDYxKSkpOihuKGVbNjMmaV0pLG4oNjEpLG4oNjEpKX0sdC5kZWNvZGU9ZnVuY3Rpb24odCxlKXt2YXIgcixpLG87ZnVuY3Rpb24gYSh0KXt0aHJvdyBFcnJvcihcIklsbGVnYWwgY2hhcmFjdGVyIGNvZGU6IFwiK3QpfWZvcig7bnVsbCE9PShyPXQoKSk7KWlmKFwidW5kZWZpbmVkXCI9PT10eXBlb2YoaT1uW3JdKSYmYShyKSxudWxsIT09KHI9dCgpKSYmKFwidW5kZWZpbmVkXCI9PT10eXBlb2Yobz1uW3JdKSYmYShyKSxlKGk8PDI+Pj4wfCg0OCZvKT4+NCksbnVsbCE9PShyPXQoKSkpKXtpZihcInVuZGVmaW5lZFwiPT09dHlwZW9mKGk9bltyXSkpe2lmKDYxPT09cilicmVhazthKHIpfWlmKGUoKDE1Jm8pPDw0Pj4+MHwoNjAmaSk+PjIpLG51bGwhPT0ocj10KCkpKXtpZihcInVuZGVmaW5lZFwiPT09dHlwZW9mKG89bltyXSkpe2lmKDYxPT09cilicmVhazthKHIpfWUoKDMmaSk8PDY+Pj4wfG8pfX19LHQudGVzdD1mdW5jdGlvbih0KXtyZXR1cm4vXig/OltBLVphLXowLTkrL117NH0pKig/OltBLVphLXowLTkrL117Mn09PXxbQS1aYS16MC05Ky9dezN9PSk/JC8udGVzdCh0KX0sdH0oKTtuLnRvQmFzZTY0PWZ1bmN0aW9uKHQsZSl7aWYoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiB0JiYodD10aGlzLm9mZnNldCksXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBlJiYoZT10aGlzLmxpbWl0KSxlfD0wLCh0fD0wKTwwfHxlPnRoaXMuY2FwYWNpdHl8fHQ+ZSl0aHJvdyBSYW5nZUVycm9yKFwiYmVnaW4sIGVuZFwiKTt2YXIgbjtyZXR1cm4gYy5lbmNvZGUoZnVuY3Rpb24oKXtyZXR1cm4gdDxlP3RoaXMudmlld1t0KytdOm51bGx9LmJpbmQodGhpcyksbj1hKCkpLG4oKX0sZS5mcm9tQmFzZTY0PWZ1bmN0aW9uKHQsbil7aWYoXCJzdHJpbmdcIiE9PXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcihcInN0clwiKTt2YXIgcj1uZXcgZSh0Lmxlbmd0aC80KjMsbiksaT0wO3JldHVybiBjLmRlY29kZShvKHQpLChmdW5jdGlvbih0KXtyLnZpZXdbaSsrXT10fSkpLHIubGltaXQ9aSxyfSxlLmJ0b2E9ZnVuY3Rpb24odCl7cmV0dXJuIGUuZnJvbUJpbmFyeSh0KS50b0Jhc2U2NCgpfSxlLmF0b2I9ZnVuY3Rpb24odCl7cmV0dXJuIGUuZnJvbUJhc2U2NCh0KS50b0JpbmFyeSgpfSxuLnRvQmluYXJ5PWZ1bmN0aW9uKHQsZSl7aWYoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiB0JiYodD10aGlzLm9mZnNldCksXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBlJiYoZT10aGlzLmxpbWl0KSxlfD0wLCh0fD0wKTwwfHxlPnRoaXMuY2FwYWNpdHkoKXx8dD5lKXRocm93IFJhbmdlRXJyb3IoXCJiZWdpbiwgZW5kXCIpO2lmKHQ9PT1lKXJldHVyblwiXCI7Zm9yKHZhciBuPVtdLHI9W107dDxlOyluLnB1c2godGhpcy52aWV3W3QrK10pLG4ubGVuZ3RoPj0xMDI0JiYoci5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLG4pKSxuPVtdKTtyZXR1cm4gci5qb2luKFwiXCIpK1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLG4pfSxlLmZyb21CaW5hcnk9ZnVuY3Rpb24odCxuKXtpZihcInN0cmluZ1wiIT09dHlwZW9mIHQpdGhyb3cgVHlwZUVycm9yKFwic3RyXCIpO2Zvcih2YXIgcixpPTAsbz10Lmxlbmd0aCxhPW5ldyBlKG8sbik7aTxvOyl7aWYoKHI9dC5jaGFyQ29kZUF0KGkpKT4yNTUpdGhyb3cgUmFuZ2VFcnJvcihcImlsbGVnYWwgY2hhciBjb2RlOiBcIityKTthLnZpZXdbaSsrXT1yfXJldHVybiBhLmxpbWl0PW8sYX0sbi50b0RlYnVnPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPS0xLHI9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCxpPVwiXCIsbz1cIlwiLGE9XCJcIjtuPHI7KXtpZigtMSE9PW4mJihpKz0oZT10aGlzLnZpZXdbbl0pPDE2P1wiMFwiK2UudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk6ZS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKSx0JiYobys9ZT4zMiYmZTwxMjc/U3RyaW5nLmZyb21DaGFyQ29kZShlKTpcIi5cIikpLCsrbix0JiZuPjAmJm4lMTY9PT0wJiZuIT09cil7Zm9yKDtpLmxlbmd0aDw1MTspaSs9XCIgXCI7YSs9aStvK1wiXFxuXCIsaT1vPVwiXCJ9bj09PXRoaXMub2Zmc2V0JiZuPT09dGhpcy5saW1pdD9pKz1uPT09dGhpcy5tYXJrZWRPZmZzZXQ/XCIhXCI6XCJ8XCI6bj09PXRoaXMub2Zmc2V0P2krPW49PT10aGlzLm1hcmtlZE9mZnNldD9cIltcIjpcIjxcIjpuPT09dGhpcy5saW1pdD9pKz1uPT09dGhpcy5tYXJrZWRPZmZzZXQ/XCJdXCI6XCI+XCI6aSs9bj09PXRoaXMubWFya2VkT2Zmc2V0P1wiJ1wiOnR8fDAhPT1uJiZuIT09cj9cIiBcIjpcIlwifWlmKHQmJlwiIFwiIT09aSl7Zm9yKDtpLmxlbmd0aDw1MTspaSs9XCIgXCI7YSs9aStvK1wiXFxuXCJ9cmV0dXJuIHQ/YTppfSxlLmZyb21EZWJ1Zz1mdW5jdGlvbih0LG4scil7Zm9yKHZhciBpLG8sYT10Lmxlbmd0aCxzPW5ldyBlKChhKzEpLzN8MCxuLHIpLHU9MCxjPTAsZj0hMSxsPSExLGg9ITEscD0hMSxkPSExO3U8YTspe3N3aXRjaChpPXQuY2hhckF0KHUrKykpe2Nhc2VcIiFcIjppZighcil7aWYobHx8aHx8cCl7ZD0hMDticmVha31sPWg9cD0hMH1zLm9mZnNldD1zLm1hcmtlZE9mZnNldD1zLmxpbWl0PWMsZj0hMTticmVhaztjYXNlXCJ8XCI6aWYoIXIpe2lmKGx8fHApe2Q9ITA7YnJlYWt9bD1wPSEwfXMub2Zmc2V0PXMubGltaXQ9YyxmPSExO2JyZWFrO2Nhc2VcIltcIjppZighcil7aWYobHx8aCl7ZD0hMDticmVha31sPWg9ITB9cy5vZmZzZXQ9cy5tYXJrZWRPZmZzZXQ9YyxmPSExO2JyZWFrO2Nhc2VcIjxcIjppZighcil7aWYobCl7ZD0hMDticmVha31sPSEwfXMub2Zmc2V0PWMsZj0hMTticmVhaztjYXNlXCJdXCI6aWYoIXIpe2lmKHB8fGgpe2Q9ITA7YnJlYWt9cD1oPSEwfXMubGltaXQ9cy5tYXJrZWRPZmZzZXQ9YyxmPSExO2JyZWFrO2Nhc2VcIj5cIjppZighcil7aWYocCl7ZD0hMDticmVha31wPSEwfXMubGltaXQ9YyxmPSExO2JyZWFrO2Nhc2VcIidcIjppZighcil7aWYoaCl7ZD0hMDticmVha31oPSEwfXMubWFya2VkT2Zmc2V0PWMsZj0hMTticmVhaztjYXNlXCIgXCI6Zj0hMTticmVhaztkZWZhdWx0OmlmKCFyJiZmKXtkPSEwO2JyZWFrfWlmKG89cGFyc2VJbnQoaSt0LmNoYXJBdCh1KyspLDE2KSwhciYmKGlzTmFOKG8pfHxvPDB8fG8+MjU1KSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgZGVidWcgZW5jb2RlZCBzdHJpbmdcIik7cy52aWV3W2MrK109byxmPSEwfWlmKGQpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IEludmFsaWQgc3ltYm9sIGF0IFwiK3UpfWlmKCFyKXtpZighbHx8IXApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE1pc3Npbmcgb2Zmc2V0IG9yIGxpbWl0XCIpO2lmKGM8cy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgZGVidWcgZW5jb2RlZCBzdHJpbmcgKGlzIGl0IGhleD8pIFwiK2MrXCIgPCBcIithKX1yZXR1cm4gc30sbi50b0hleD1mdW5jdGlvbih0LGUpe2lmKHQ9XCJ1bmRlZmluZWRcIj09PXR5cGVvZiB0P3RoaXMub2Zmc2V0OnQsZT1cInVuZGVmaW5lZFwiPT09dHlwZW9mIGU/dGhpcy5saW1pdDplLCF0aGlzLm5vQXNzZXJ0KXtpZihcIm51bWJlclwiIT09dHlwZW9mIHR8fHQlMSE9PTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYodD4+Pj0wLFwibnVtYmVyXCIhPT10eXBlb2YgZXx8ZSUxIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGVuZDogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLHQ8MHx8dD5lfHxlPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IDAgPD0gXCIrdCtcIiA8PSBcIitlK1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfWZvcih2YXIgbixyPW5ldyBBcnJheShlLXQpO3Q8ZTspKG49dGhpcy52aWV3W3QrK10pPDE2P3IucHVzaChcIjBcIixuLnRvU3RyaW5nKDE2KSk6ci5wdXNoKG4udG9TdHJpbmcoMTYpKTtyZXR1cm4gci5qb2luKFwiXCIpfSxlLmZyb21IZXg9ZnVuY3Rpb24odCxuLHIpe2lmKCFyKXtpZihcInN0cmluZ1wiIT09dHlwZW9mIHQpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE5vdCBhIHN0cmluZ1wiKTtpZih0Lmxlbmd0aCUyIT09MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTGVuZ3RoIG5vdCBhIG11bHRpcGxlIG9mIDJcIil9Zm9yKHZhciBpLG89dC5sZW5ndGgsYT1uZXcgZShvLzJ8MCxuKSxzPTAsdT0wO3M8bztzKz0yKXtpZihpPXBhcnNlSW50KHQuc3Vic3RyaW5nKHMscysyKSwxNiksIXImJighaXNGaW5pdGUoaSl8fGk8MHx8aT4yNTUpKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBDb250YWlucyBub24taGV4IGNoYXJhY3RlcnNcIik7YS52aWV3W3UrK109aX1yZXR1cm4gYS5saW1pdD11LGF9O3ZhciBmPWZ1bmN0aW9uKCl7dmFyIHQ9e01BWF9DT0RFUE9JTlQ6MTExNDExMSxlbmNvZGVVVEY4OmZ1bmN0aW9uKHQsZSl7dmFyIG49bnVsbDtmb3IoXCJudW1iZXJcIj09PXR5cGVvZiB0JiYobj10LHQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0pO251bGwhPT1ufHxudWxsIT09KG49dCgpKTspbjwxMjg/ZSgxMjcmbik6bjwyMDQ4PyhlKG4+PjYmMzF8MTkyKSxlKDYzJm58MTI4KSk6bjw2NTUzNj8oZShuPj4xMiYxNXwyMjQpLGUobj4+NiY2M3wxMjgpLGUoNjMmbnwxMjgpKTooZShuPj4xOCY3fDI0MCksZShuPj4xMiY2M3wxMjgpLGUobj4+NiY2M3wxMjgpLGUoNjMmbnwxMjgpKSxuPW51bGx9LGRlY29kZVVURjg6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4scixpLG8sYT1mdW5jdGlvbih0KXt0PXQuc2xpY2UoMCx0LmluZGV4T2YobnVsbCkpO3ZhciBlPUVycm9yKHQudG9TdHJpbmcoKSk7dGhyb3cgZS5uYW1lPVwiVHJ1bmNhdGVkRXJyb3JcIixlLmJ5dGVzPXQsZX07bnVsbCE9PShuPXQoKSk7KWlmKDA9PT0oMTI4Jm4pKWUobik7ZWxzZSBpZigxOTI9PT0oMjI0Jm4pKW51bGw9PT0ocj10KCkpJiZhKFtuLHJdKSxlKCgzMSZuKTw8Nnw2MyZyKTtlbHNlIGlmKDIyND09PSgyNDAmbikpKG51bGw9PT0ocj10KCkpfHxudWxsPT09KGk9dCgpKSkmJmEoW24scixpXSksZSgoMTUmbik8PDEyfCg2MyZyKTw8Nnw2MyZpKTtlbHNle2lmKDI0MCE9PSgyNDgmbikpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgc3RhcnRpbmcgYnl0ZTogXCIrbik7KG51bGw9PT0ocj10KCkpfHxudWxsPT09KGk9dCgpKXx8bnVsbD09PShvPXQoKSkpJiZhKFtuLHIsaSxvXSksZSgoNyZuKTw8MTh8KDYzJnIpPDwxMnwoNjMmaSk8PDZ8NjMmbyl9fSxVVEYxNnRvVVRGODpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbixyPW51bGw7bnVsbCE9PShuPW51bGwhPT1yP3I6dCgpKTspbj49NTUyOTYmJm48PTU3MzQzJiZudWxsIT09KHI9dCgpKSYmcj49NTYzMjAmJnI8PTU3MzQzPyhlKDEwMjQqKG4tNTUyOTYpK3ItNTYzMjArNjU1MzYpLHI9bnVsbCk6ZShuKTtudWxsIT09ciYmZShyKX0sVVRGOHRvVVRGMTY6ZnVuY3Rpb24odCxlKXt2YXIgbj1udWxsO2ZvcihcIm51bWJlclwiPT09dHlwZW9mIHQmJihuPXQsdD1mdW5jdGlvbigpe3JldHVybiBudWxsfSk7bnVsbCE9PW58fG51bGwhPT0obj10KCkpOyluPD02NTUzNT9lKG4pOihlKDU1Mjk2Kygobi09NjU1MzYpPj4xMCkpLGUobiUxMDI0KzU2MzIwKSksbj1udWxsfSxlbmNvZGVVVEYxNnRvVVRGODpmdW5jdGlvbihlLG4pe3QuVVRGMTZ0b1VURjgoZSwoZnVuY3Rpb24oZSl7dC5lbmNvZGVVVEY4KGUsbil9KSl9LGRlY29kZVVURjh0b1VURjE2OmZ1bmN0aW9uKGUsbil7dC5kZWNvZGVVVEY4KGUsKGZ1bmN0aW9uKGUpe3QuVVRGOHRvVVRGMTYoZSxuKX0pKX0sY2FsY3VsYXRlQ29kZVBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0PDEyOD8xOnQ8MjA0OD8yOnQ8NjU1MzY/Mzo0fSxjYWxjdWxhdGVVVEY4OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPTA7bnVsbCE9PShlPXQoKSk7KW4rPWU8MTI4PzE6ZTwyMDQ4PzI6ZTw2NTUzNj8zOjQ7cmV0dXJuIG59LGNhbGN1bGF0ZVVURjE2YXNVVEY4OmZ1bmN0aW9uKGUpe3ZhciBuPTAscj0wO3JldHVybiB0LlVURjE2dG9VVEY4KGUsKGZ1bmN0aW9uKHQpeysrbixyKz10PDEyOD8xOnQ8MjA0OD8yOnQ8NjU1MzY/Mzo0fSkpLFtuLHJdfX07cmV0dXJuIHR9KCk7cmV0dXJuIG4udG9VVEY4PWZ1bmN0aW9uKHQsZSl7aWYoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiB0JiYodD10aGlzLm9mZnNldCksXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBlJiYoZT10aGlzLmxpbWl0KSwhdGhpcy5ub0Fzc2VydCl7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiB0fHx0JTEhPT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYmVnaW46IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxcIm51bWJlclwiIT09dHlwZW9mIGV8fGUlMSE9PTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKGU+Pj49MCx0PDB8fHQ+ZXx8ZT50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK3QrXCIgPD0gXCIrZStcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgbjt0cnl7Zi5kZWNvZGVVVEY4dG9VVEYxNihmdW5jdGlvbigpe3JldHVybiB0PGU/dGhpcy52aWV3W3QrK106bnVsbH0uYmluZCh0aGlzKSxuPWEoKSl9Y2F0Y2gobil7aWYodCE9PWUpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IFRydW5jYXRlZCBkYXRhLCBcIit0K1wiICE9IFwiK2UpfXJldHVybiBuKCl9LGUuZnJvbVVURjg9ZnVuY3Rpb24odCxuLHIpe2lmKCFyJiZcInN0cmluZ1wiIT09dHlwZW9mIHQpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE5vdCBhIHN0cmluZ1wiKTt2YXIgaT1uZXcgZShmLmNhbGN1bGF0ZVVURjE2YXNVVEY4KG8odCksITApWzFdLG4sciksYT0wO3JldHVybiBmLmVuY29kZVVURjE2dG9VVEY4KG8odCksKGZ1bmN0aW9uKHQpe2kudmlld1thKytdPXR9KSksaS5saW1pdD1hLGl9LGV9KT9yLmFwcGx5KGUsaSk6cil8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDIpLGk9big0KSxvPW4oNTcpLGE9big3Nikscz1uKDE2KSx1PW4oMTUxKSxjPW4oMTg5KSxmPW4oMyksbD1uKDE5KSxoPW4oMTExKSxwPW4oMTEpLGQ9bigxNykseT1uKDM2KSx2PW4oNDEpLGc9big5MiksYj1uKDY0KSxtPW4oNjYpLHc9bigxMTIpLEU9big5NSkseD1uKDE5MiksTz1uKDE0OSksVD1uKDU1KSxTPW4oMjQpLGs9bigxNDIpLF89bigzNSksaj1uKDM4KSxBPW4oMTQ2KSxJPW4oMTEwKSxDPW4oOTQpLFA9big5MyksUj1uKDcpLEw9bigxOTMpLE49bigxOTQpLEQ9big1OCksVT1uKDQ0KSxNPW4oMzcpLmZvckVhY2gsRj1JKFwiaGlkZGVuXCIpLEI9UihcInRvUHJpbWl0aXZlXCIpLEg9VS5zZXQscT1VLmdldHRlckZvcihcIlN5bWJvbFwiKSx6PU9iamVjdC5wcm90b3R5cGUsVj1pLlN5bWJvbCxHPW8oXCJKU09OXCIsXCJzdHJpbmdpZnlcIiksVz1ULmYsSj1TLmYsWT14LmYsWj1rLmYsSz1BKFwic3ltYm9sc1wiKSwkPUEoXCJvcC1zeW1ib2xzXCIpLFg9QShcInN0cmluZy10by1zeW1ib2wtcmVnaXN0cnlcIiksUT1BKFwic3ltYm9sLXRvLXN0cmluZy1yZWdpc3RyeVwiKSx0dD1BKFwid2tzXCIpLGV0PWkuUU9iamVjdCxudD0hZXR8fCFldC5wcm90b3R5cGV8fCFldC5wcm90b3R5cGUuZmluZENoaWxkLHJ0PXMmJmYoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPW0oSih7fSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEoodGhpcyxcImFcIix7dmFsdWU6N30pLmF9fSkpLmF9KSk/ZnVuY3Rpb24odCxlLG4pe3ZhciByPVcoeixlKTtyJiZkZWxldGUgeltlXSxKKHQsZSxuKSxyJiZ0IT09eiYmSih6LGUscil9OkosaXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1LW3RdPW0oVi5wcm90b3R5cGUpO3JldHVybiBIKG4se3R5cGU6XCJTeW1ib2xcIix0YWc6dCxkZXNjcmlwdGlvbjplfSksc3x8KG4uZGVzY3JpcHRpb249ZSksbn0sb3Q9Yz9mdW5jdGlvbih0KXtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdCh0KWluc3RhbmNlb2YgVn0sYXQ9ZnVuY3Rpb24odCxlLG4pe3Q9PT16JiZhdCgkLGUsbiksZCh0KTt2YXIgcj1nKGUsITApO3JldHVybiBkKG4pLGwoSyxyKT8obi5lbnVtZXJhYmxlPyhsKHQsRikmJnRbRl1bcl0mJih0W0ZdW3JdPSExKSxuPW0obix7ZW51bWVyYWJsZTpiKDAsITEpfSkpOihsKHQsRil8fEoodCxGLGIoMSx7fSkpLHRbRl1bcl09ITApLHJ0KHQscixuKSk6Sih0LHIsbil9LHN0PWZ1bmN0aW9uKHQsZSl7ZCh0KTt2YXIgbj12KGUpLHI9dyhuKS5jb25jYXQobHQobikpO3JldHVybiBNKHIsKGZ1bmN0aW9uKGUpe3MmJiF1dC5jYWxsKG4sZSl8fGF0KHQsZSxuW2VdKX0pKSx0fSx1dD1mdW5jdGlvbih0KXt2YXIgZT1nKHQsITApLG49Wi5jYWxsKHRoaXMsZSk7cmV0dXJuISh0aGlzPT09eiYmbChLLGUpJiYhbCgkLGUpKSYmKCEobnx8IWwodGhpcyxlKXx8IWwoSyxlKXx8bCh0aGlzLEYpJiZ0aGlzW0ZdW2VdKXx8bil9LGN0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dih0KSxyPWcoZSwhMCk7aWYobiE9PXp8fCFsKEsscil8fGwoJCxyKSl7dmFyIGk9VyhuLHIpO3JldHVybiFpfHwhbChLLHIpfHxsKG4sRikmJm5bRl1bcl18fChpLmVudW1lcmFibGU9ITApLGl9fSxmdD1mdW5jdGlvbih0KXt2YXIgZT1ZKHYodCkpLG49W107cmV0dXJuIE0oZSwoZnVuY3Rpb24odCl7bChLLHQpfHxsKEMsdCl8fG4ucHVzaCh0KX0pKSxufSxsdD1mdW5jdGlvbih0KXt2YXIgZT10PT09eixuPVkoZT8kOnYodCkpLHI9W107cmV0dXJuIE0obiwoZnVuY3Rpb24odCl7IWwoSyx0KXx8ZSYmIWwoeix0KXx8ci5wdXNoKEtbdF0pfSkpLHJ9Oyh1fHwoaigoVj1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBWKXRocm93IFR5cGVFcnJvcihcIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKTt2YXIgdD1hcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/U3RyaW5nKGFyZ3VtZW50c1swXSk6dm9pZCAwLGU9UCh0KSxuPWZ1bmN0aW9uKHQpe3RoaXM9PT16JiZuLmNhbGwoJCx0KSxsKHRoaXMsRikmJmwodGhpc1tGXSxlKSYmKHRoaXNbRl1bZV09ITEpLHJ0KHRoaXMsZSxiKDEsdCkpfTtyZXR1cm4gcyYmbnQmJnJ0KHosZSx7Y29uZmlndXJhYmxlOiEwLHNldDpufSksaXQoZSx0KX0pLnByb3RvdHlwZSxcInRvU3RyaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHEodGhpcykudGFnfSkpLGooVixcIndpdGhvdXRTZXR0ZXJcIiwoZnVuY3Rpb24odCl7cmV0dXJuIGl0KFAodCksdCl9KSksay5mPXV0LFMuZj1hdCxULmY9Y3QsRS5mPXguZj1mdCxPLmY9bHQsTC5mPWZ1bmN0aW9uKHQpe3JldHVybiBpdChSKHQpLHQpfSxzJiYoSihWLnByb3RvdHlwZSxcImRlc2NyaXB0aW9uXCIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcSh0aGlzKS5kZXNjcmlwdGlvbn19KSxhfHxqKHosXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVwiLHV0LHt1bnNhZmU6ITB9KSkpLHIoe2dsb2JhbDohMCx3cmFwOiEwLGZvcmNlZDohdSxzaGFtOiF1fSx7U3ltYm9sOlZ9KSxNKHcodHQpLChmdW5jdGlvbih0KXtOKHQpfSkpLHIoe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITAsZm9yY2VkOiF1fSx7Zm9yOmZ1bmN0aW9uKHQpe3ZhciBlPVN0cmluZyh0KTtpZihsKFgsZSkpcmV0dXJuIFhbZV07dmFyIG49VihlKTtyZXR1cm4gWFtlXT1uLFFbbl09ZSxufSxrZXlGb3I6ZnVuY3Rpb24odCl7aWYoIW90KHQpKXRocm93IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBhIHN5bWJvbFwiKTtpZihsKFEsdCkpcmV0dXJuIFFbdF19LHVzZVNldHRlcjpmdW5jdGlvbigpe250PSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtudD0hMX19KSxyKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDohdSxzaGFtOiFzfSx7Y3JlYXRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWU/bSh0KTpzdChtKHQpLGUpfSxkZWZpbmVQcm9wZXJ0eTphdCxkZWZpbmVQcm9wZXJ0aWVzOnN0LGdldE93blByb3BlcnR5RGVzY3JpcHRvcjpjdH0pLHIoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsZm9yY2VkOiF1fSx7Z2V0T3duUHJvcGVydHlOYW1lczpmdCxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6bHR9KSxyKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDpmKChmdW5jdGlvbigpe08uZigxKX0pKX0se2dldE93blByb3BlcnR5U3ltYm9sczpmdW5jdGlvbih0KXtyZXR1cm4gTy5mKHkodCkpfX0pLEcpJiZyKHt0YXJnZXQ6XCJKU09OXCIsc3RhdDohMCxmb3JjZWQ6IXV8fGYoKGZ1bmN0aW9uKCl7dmFyIHQ9VigpO3JldHVyblwiW251bGxdXCIhPUcoW3RdKXx8XCJ7fVwiIT1HKHthOnR9KXx8XCJ7fVwiIT1HKE9iamVjdCh0KSl9KSl9LHtzdHJpbmdpZnk6ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcixpPVt0XSxvPTE7YXJndW1lbnRzLmxlbmd0aD5vOylpLnB1c2goYXJndW1lbnRzW28rK10pO2lmKHI9ZSwocChlKXx8dm9pZCAwIT09dCkmJiFvdCh0KSlyZXR1cm4gaChlKXx8KGU9ZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiByJiYoZT1yLmNhbGwodGhpcyx0LGUpKSwhb3QoZSkpcmV0dXJuIGV9KSxpWzFdPWUsRy5hcHBseShudWxsLGkpfX0pO1YucHJvdG90eXBlW0JdfHxfKFYucHJvdG90eXBlLEIsVi5wcm90b3R5cGUudmFsdWVPZiksRChWLFwiU3ltYm9sXCIpLENbRl09ITB9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDQxKSxpPW4oMTUyKSxvPW4oOTcpLGE9big0NCkscz1uKDE1MyksdT1hLnNldCxjPWEuZ2V0dGVyRm9yKFwiQXJyYXkgSXRlcmF0b3JcIik7dC5leHBvcnRzPXMoQXJyYXksXCJBcnJheVwiLChmdW5jdGlvbih0LGUpe3UodGhpcyx7dHlwZTpcIkFycmF5IEl0ZXJhdG9yXCIsdGFyZ2V0OnIodCksaW5kZXg6MCxraW5kOmV9KX0pLChmdW5jdGlvbigpe3ZhciB0PWModGhpcyksZT10LnRhcmdldCxuPXQua2luZCxyPXQuaW5kZXgrKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHQudGFyZ2V0PXZvaWQgMCx7dmFsdWU6dm9pZCAwLGRvbmU6ITB9KTpcImtleXNcIj09bj97dmFsdWU6cixkb25lOiExfTpcInZhbHVlc1wiPT1uP3t2YWx1ZTplW3JdLGRvbmU6ITF9Ont2YWx1ZTpbcixlW3JdXSxkb25lOiExfX0pLFwidmFsdWVzXCIpLG8uQXJndW1lbnRzPW8uQXJyYXksaShcImtleXNcIiksaShcInZhbHVlc1wiKSxpKFwiZW50cmllc1wiKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMiksaT1uKDIwNSk7cih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6W10uZm9yRWFjaCE9aX0se2ZvckVhY2g6aX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzKTt0LmV4cG9ydHM9IXIoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KVsxXX0pKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTEpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighcih0KSl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKHQpK1wiIGlzIG5vdCBhbiBvYmplY3RcIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0KSxpPW4oMjAzKSxvPW4oMjA1KSxhPW4oMzUpO2Zvcih2YXIgcyBpbiBpKXt2YXIgdT1yW3NdLGM9dSYmdS5wcm90b3R5cGU7aWYoYyYmYy5mb3JFYWNoIT09byl0cnl7YShjLFwiZm9yRWFjaFwiLG8pfWNhdGNoKHQpe2MuZm9yRWFjaD1vfX19LGZ1bmN0aW9uKHQsZSl7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uY2FsbCh0LGUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNjUpLGk9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0PjA/aShyKHQpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxNjApLmNoYXJBdCxpPW4oNDQpLG89bigxNTMpLGE9aS5zZXQscz1pLmdldHRlckZvcihcIlN0cmluZyBJdGVyYXRvclwiKTtvKFN0cmluZyxcIlN0cmluZ1wiLChmdW5jdGlvbih0KXthKHRoaXMse3R5cGU6XCJTdHJpbmcgSXRlcmF0b3JcIixzdHJpbmc6U3RyaW5nKHQpLGluZGV4OjB9KX0pLChmdW5jdGlvbigpe3ZhciB0LGU9cyh0aGlzKSxuPWUuc3RyaW5nLGk9ZS5pbmRleDtyZXR1cm4gaT49bi5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfToodD1yKG4saSksZS5pbmRleCs9dC5sZW5ndGgse3ZhbHVlOnQsZG9uZTohMX0pfSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyKSxpPW4oMzcpLmZpbHRlcixvPW4oMTE3KSxhPW4oNDkpLHM9byhcImZpbHRlclwiKSx1PWEoXCJmaWx0ZXJcIik7cih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IXN8fCF1fSx7ZmlsdGVyOmZ1bmN0aW9uKHQpe3JldHVybiBpKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuKDEzKSxuKDQ3KSxuKDQ4KSxuKDE0KSxuKDkpLG4oMjY5KSxuKDI3MCksbigyNzEpLG4oNzEpLG4oMjEpLG4oMjYpO2Z1bmN0aW9uIHIodCl7cmV0dXJuKHI9XCJmdW5jdGlvblwiPT09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0pKHQpfWZ1bmN0aW9uIGkodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH0odCl8fGZ1bmN0aW9uKHQsZSl7aWYoIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpfHxcIltvYmplY3QgQXJndW1lbnRzXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKSlyZXR1cm47dmFyIG49W10scj0hMCxpPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIGEscz10W1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KGE9cy5uZXh0KCkpLmRvbmUpJiYobi5wdXNoKGEudmFsdWUpLCFlfHxuLmxlbmd0aCE9PWUpO3I9ITApO31jYXRjaCh0KXtpPSEwLG89dH1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgb319cmV0dXJuIG59KHQsZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIil9KCl9ZS5hPWZ1bmN0aW9uKHQpe2lmKCF0KXRocm93IEVycm9yKCdhdXRvYmluZDogXCJjb250ZXh0XCIgYXJndW1lbnQgbm90IHNwZWNpZmllZCcpO3ZhciBlPSEwLG49ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgYSxzPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO2Rve3ZhciBuPSEwLHI9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxhPVJlZmxlY3Qub3duS2V5cyh0KVtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShvPWEubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgcz1vLnZhbHVlO2UucHVzaChbdCxzXSl9fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5e258fG51bGw9PWEucmV0dXJufHxhLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX19d2hpbGUoKHQ9UmVmbGVjdC5nZXRQcm90b3R5cGVPZih0KSkmJnQhPT1PYmplY3QucHJvdG90eXBlKTtyZXR1cm4gZX0odC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUpW1N5bWJvbC5pdGVyYXRvcl0oKTshKGU9KGE9cy5uZXh0KCkpLmRvbmUpO2U9ITApe3ZhciB1PWkoYS52YWx1ZSwyKSxjPXVbMF0sZj11WzFdO2lmKFwiY29uc3RydWN0b3JcIiE9PWYpe3ZhciBsPVJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGMsZik7bCYmXCJmdW5jdGlvblwiPT09cihsLnZhbHVlKSYmKHRbZl09dFtmXS5iaW5kKHQpKX19fWNhdGNoKHQpe249ITAsbz10fWZpbmFsbHl7dHJ5e2V8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyBvfX1yZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE2KSxpPW4oMTg0KSxvPW4oMTcpLGE9big5Mikscz1PYmplY3QuZGVmaW5lUHJvcGVydHk7ZS5mPXI/czpmdW5jdGlvbih0LGUsbil7aWYobyh0KSxlPWEoZSwhMCksbyhuKSxpKXRyeXtyZXR1cm4gcyh0LGUsbil9Y2F0Y2godCl7fWlmKFwiZ2V0XCJpbiBufHxcInNldFwiaW4gbil0aHJvdyBUeXBlRXJyb3IoXCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm5cInZhbHVlXCJpbiBuJiYodFtlXT1uLnZhbHVlKSx0fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByLGksbyxhLHM9bigyKSx1PW4oNzYpLGM9big0KSxmPW4oNTcpLGw9bigyNjQpLGg9bigzOCkscD1uKDExMyksZD1uKDU4KSx5PW4oMTE0KSx2PW4oMTEpLGc9big2OCksYj1uKDY5KSxtPW4oNTYpLHc9bigxNDUpLEU9bigxNTYpLHg9bigxMTUpLE89big3MCksVD1uKDE1OCkuc2V0LFM9bigyNjUpLGs9bigyNjYpLF89bigyNjcpLGo9bigyMDEpLEE9bigyNjgpLEk9big0NCksQz1uKDE1MCksUD1uKDcpLFI9bigxNTkpLEw9UChcInNwZWNpZXNcIiksTj1cIlByb21pc2VcIixEPUkuZ2V0LFU9SS5zZXQsTT1JLmdldHRlckZvcihOKSxGPWwsQj1jLlR5cGVFcnJvcixIPWMuZG9jdW1lbnQscT1jLnByb2Nlc3Msej1mKFwiZmV0Y2hcIiksVj1qLmYsRz1WLFc9XCJwcm9jZXNzXCI9PW0ocSksSj0hIShIJiZILmNyZWF0ZUV2ZW50JiZjLmRpc3BhdGNoRXZlbnQpLFk9QyhOLChmdW5jdGlvbigpe2lmKCEodyhGKSE9PVN0cmluZyhGKSkpe2lmKDY2PT09UilyZXR1cm4hMDtpZighVyYmXCJmdW5jdGlvblwiIT10eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50KXJldHVybiEwfWlmKHUmJiFGLnByb3RvdHlwZS5maW5hbGx5KXJldHVybiEwO2lmKFI+PTUxJiYvbmF0aXZlIGNvZGUvLnRlc3QoRikpcmV0dXJuITE7dmFyIHQ9Ri5yZXNvbHZlKDEpLGU9ZnVuY3Rpb24odCl7dCgoZnVuY3Rpb24oKXt9KSwoZnVuY3Rpb24oKXt9KSl9O3JldHVybih0LmNvbnN0cnVjdG9yPXt9KVtMXT1lLCEodC50aGVuKChmdW5jdGlvbigpe30pKWluc3RhbmNlb2YgZSl9KSksWj1ZfHwheCgoZnVuY3Rpb24odCl7Ri5hbGwodCkuY2F0Y2goKGZ1bmN0aW9uKCl7fSkpfSkpLEs9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuISghdih0KXx8XCJmdW5jdGlvblwiIT10eXBlb2YoZT10LnRoZW4pKSYmZX0sJD1mdW5jdGlvbih0LGUsbil7aWYoIWUubm90aWZpZWQpe2Uubm90aWZpZWQ9ITA7dmFyIHI9ZS5yZWFjdGlvbnM7UygoZnVuY3Rpb24oKXtmb3IodmFyIGk9ZS52YWx1ZSxvPTE9PWUuc3RhdGUsYT0wO3IubGVuZ3RoPmE7KXt2YXIgcyx1LGMsZj1yW2ErK10sbD1vP2Yub2s6Zi5mYWlsLGg9Zi5yZXNvbHZlLHA9Zi5yZWplY3QsZD1mLmRvbWFpbjt0cnl7bD8ob3x8KDI9PT1lLnJlamVjdGlvbiYmZXQodCxlKSxlLnJlamVjdGlvbj0xKSwhMD09PWw/cz1pOihkJiZkLmVudGVyKCkscz1sKGkpLGQmJihkLmV4aXQoKSxjPSEwKSkscz09PWYucHJvbWlzZT9wKEIoXCJQcm9taXNlLWNoYWluIGN5Y2xlXCIpKToodT1LKHMpKT91LmNhbGwocyxoLHApOmgocykpOnAoaSl9Y2F0Y2godCl7ZCYmIWMmJmQuZXhpdCgpLHAodCl9fWUucmVhY3Rpb25zPVtdLGUubm90aWZpZWQ9ITEsbiYmIWUucmVqZWN0aW9uJiZRKHQsZSl9KSl9fSxYPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpO0o/KChyPUguY3JlYXRlRXZlbnQoXCJFdmVudFwiKSkucHJvbWlzZT1lLHIucmVhc29uPW4sci5pbml0RXZlbnQodCwhMSwhMCksYy5kaXNwYXRjaEV2ZW50KHIpKTpyPXtwcm9taXNlOmUscmVhc29uOm59LChpPWNbXCJvblwiK3RdKT9pKHIpOlwidW5oYW5kbGVkcmVqZWN0aW9uXCI9PT10JiZfKFwiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uXCIsbil9LFE9ZnVuY3Rpb24odCxlKXtULmNhbGwoYywoZnVuY3Rpb24oKXt2YXIgbixyPWUudmFsdWU7aWYodHQoZSkmJihuPUEoKGZ1bmN0aW9uKCl7Vz9xLmVtaXQoXCJ1bmhhbmRsZWRSZWplY3Rpb25cIixyLHQpOlgoXCJ1bmhhbmRsZWRyZWplY3Rpb25cIix0LHIpfSkpLGUucmVqZWN0aW9uPVd8fHR0KGUpPzI6MSxuLmVycm9yKSl0aHJvdyBuLnZhbHVlfSkpfSx0dD1mdW5jdGlvbih0KXtyZXR1cm4gMSE9PXQucmVqZWN0aW9uJiYhdC5wYXJlbnR9LGV0PWZ1bmN0aW9uKHQsZSl7VC5jYWxsKGMsKGZ1bmN0aW9uKCl7Vz9xLmVtaXQoXCJyZWplY3Rpb25IYW5kbGVkXCIsdCk6WChcInJlamVjdGlvbmhhbmRsZWRcIix0LGUudmFsdWUpfSkpfSxudD1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gZnVuY3Rpb24oaSl7dChlLG4saSxyKX19LHJ0PWZ1bmN0aW9uKHQsZSxuLHIpe2UuZG9uZXx8KGUuZG9uZT0hMCxyJiYoZT1yKSxlLnZhbHVlPW4sZS5zdGF0ZT0yLCQodCxlLCEwKSl9LGl0PWZ1bmN0aW9uKHQsZSxuLHIpe2lmKCFlLmRvbmUpe2UuZG9uZT0hMCxyJiYoZT1yKTt0cnl7aWYodD09PW4pdGhyb3cgQihcIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmXCIpO3ZhciBpPUsobik7aT9TKChmdW5jdGlvbigpe3ZhciByPXtkb25lOiExfTt0cnl7aS5jYWxsKG4sbnQoaXQsdCxyLGUpLG50KHJ0LHQscixlKSl9Y2F0Y2gobil7cnQodCxyLG4sZSl9fSkpOihlLnZhbHVlPW4sZS5zdGF0ZT0xLCQodCxlLCExKSl9Y2F0Y2gobil7cnQodCx7ZG9uZTohMX0sbixlKX19fTtZJiYoRj1mdW5jdGlvbih0KXtiKHRoaXMsRixOKSxnKHQpLHIuY2FsbCh0aGlzKTt2YXIgZT1EKHRoaXMpO3RyeXt0KG50KGl0LHRoaXMsZSksbnQocnQsdGhpcyxlKSl9Y2F0Y2godCl7cnQodGhpcyxlLHQpfX0sKHI9ZnVuY3Rpb24odCl7VSh0aGlzLHt0eXBlOk4sZG9uZTohMSxub3RpZmllZDohMSxwYXJlbnQ6ITEscmVhY3Rpb25zOltdLHJlamVjdGlvbjohMSxzdGF0ZTowLHZhbHVlOnZvaWQgMH0pfSkucHJvdG90eXBlPXAoRi5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24odCxlKXt2YXIgbj1NKHRoaXMpLHI9VihPKHRoaXMsRikpO3JldHVybiByLm9rPVwiZnVuY3Rpb25cIiE9dHlwZW9mIHR8fHQsci5mYWlsPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUsci5kb21haW49Vz9xLmRvbWFpbjp2b2lkIDAsbi5wYXJlbnQ9ITAsbi5yZWFjdGlvbnMucHVzaChyKSwwIT1uLnN0YXRlJiYkKHRoaXMsbiwhMSksci5wcm9taXNlfSxjYXRjaDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCx0KX19KSxpPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHIsZT1EKHQpO3RoaXMucHJvbWlzZT10LHRoaXMucmVzb2x2ZT1udChpdCx0LGUpLHRoaXMucmVqZWN0PW50KHJ0LHQsZSl9LGouZj1WPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09Rnx8dD09PW8/bmV3IGkodCk6Ryh0KX0sdXx8XCJmdW5jdGlvblwiIT10eXBlb2YgbHx8KGE9bC5wcm90b3R5cGUudGhlbixoKGwucHJvdG90eXBlLFwidGhlblwiLChmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBGKChmdW5jdGlvbih0LGUpe2EuY2FsbChuLHQsZSl9KSkudGhlbih0LGUpfSkse3Vuc2FmZTohMH0pLFwiZnVuY3Rpb25cIj09dHlwZW9mIHomJnMoe2dsb2JhbDohMCxlbnVtZXJhYmxlOiEwLGZvcmNlZDohMH0se2ZldGNoOmZ1bmN0aW9uKHQpe3JldHVybiBrKEYsei5hcHBseShjLGFyZ3VtZW50cykpfX0pKSkscyh7Z2xvYmFsOiEwLHdyYXA6ITAsZm9yY2VkOll9LHtQcm9taXNlOkZ9KSxkKEYsTiwhMSwhMCkseShOKSxvPWYoTikscyh7dGFyZ2V0Ok4sc3RhdDohMCxmb3JjZWQ6WX0se3JlamVjdDpmdW5jdGlvbih0KXt2YXIgZT1WKHRoaXMpO3JldHVybiBlLnJlamVjdC5jYWxsKHZvaWQgMCx0KSxlLnByb21pc2V9fSkscyh7dGFyZ2V0Ok4sc3RhdDohMCxmb3JjZWQ6dXx8WX0se3Jlc29sdmU6ZnVuY3Rpb24odCl7cmV0dXJuIGsodSYmdGhpcz09PW8/Rjp0aGlzLHQpfX0pLHMoe3RhcmdldDpOLHN0YXQ6ITAsZm9yY2VkOlp9LHthbGw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPVYoZSkscj1uLnJlc29sdmUsaT1uLnJlamVjdCxvPUEoKGZ1bmN0aW9uKCl7dmFyIG49ZyhlLnJlc29sdmUpLG89W10sYT0wLHM9MTtFKHQsKGZ1bmN0aW9uKHQpe3ZhciB1PWErKyxjPSExO28ucHVzaCh2b2lkIDApLHMrKyxuLmNhbGwoZSx0KS50aGVuKChmdW5jdGlvbih0KXtjfHwoYz0hMCxvW3VdPXQsLS1zfHxyKG8pKX0pLGkpfSkpLC0tc3x8cihvKX0pKTtyZXR1cm4gby5lcnJvciYmaShvLnZhbHVlKSxuLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPVYoZSkscj1uLnJlamVjdCxpPUEoKGZ1bmN0aW9uKCl7dmFyIGk9ZyhlLnJlc29sdmUpO0UodCwoZnVuY3Rpb24odCl7aS5jYWxsKGUsdCkudGhlbihuLnJlc29sdmUscil9KSl9KSk7cmV0dXJuIGkuZXJyb3ImJnIoaS52YWx1ZSksbi5wcm9taXNlfX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0KSxpPW4oMjAzKSxvPW4oMTQpLGE9bigzNSkscz1uKDcpLHU9cyhcIml0ZXJhdG9yXCIpLGM9cyhcInRvU3RyaW5nVGFnXCIpLGY9by52YWx1ZXM7Zm9yKHZhciBsIGluIGkpe3ZhciBoPXJbbF0scD1oJiZoLnByb3RvdHlwZTtpZihwKXtpZihwW3VdIT09Zil0cnl7YShwLHUsZil9Y2F0Y2godCl7cFt1XT1mfWlmKHBbY118fGEocCxjLGwpLGlbbF0pZm9yKHZhciBkIGluIG8paWYocFtkXSE9PW9bZF0pdHJ5e2EocCxkLG9bZF0pfWNhdGNoKHQpe3BbZF09b1tkXX19fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24oMTMpLG4oMjIpLG4oMTUpLG4oMTAxKSxuKDcyKSxuKDc5KSxuKDMxKSxuKDMyKSxuKDgwKSxuKDI4KSxuKDE4KTt2YXIgcj1uKDApLGk9bigyMyksbz1uKDE4MSksYT1uLm4obykscz1uKDg1KSx1PW4oODgpLGM9bi5uKHUpLGY9bigxMzIpLGw9big1MSksaD1uKDEpO2Z1bmN0aW9uIHAodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIGQodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/cChPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe3kodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOnAoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9ZnVuY3Rpb24geSh0LGUsbil7cmV0dXJuIGUgaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9dmFyIHY9aC5hLkVDRE4xMCxnPWguYS5FQ0ROMTEsYj1mdW5jdGlvbih0LGUpe3RbZV0mJnRbZV0uZGF0YSYmMD09PXRbZV0uZGF0YS5sZW5ndGgmJmRlbGV0ZSB0W2VdfSxtPW4oNjMpLHc9bi5uKG0pLEU9big2MikseD1uLm4oRSk7ZnVuY3Rpb24gTyh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gVCh0LGUsbil7cmV0dXJuIGUgaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9dmFyIFM9XCJjcml0aWNhbFwiLGs9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gZVtuXT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9PKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7VCh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6TyhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH0oe25hbWU6bn0sdFtuXSksZX0pLHt9KX0sXz1rKHtjYW5wbGF5Ontjb2RlOjF9LGNhbnBsYXl0aHJvdWdoOntjb2RlOjJ9LGNvbXBsZXRlOntjb2RlOjN9LGR1cmF0aW9uY2hhbmdlOntjb2RlOjQsbWV0YWRhdGE6XCJkdXJcIn0sZW1wdGllZDp7Y29kZTo1fSxlbmRlZDp7Y29kZTo2fSxsb2FkZWRkYXRhOntjb2RlOjd9LGxvYWRlZG1ldGFkYXRhOntjb2RlOjh9LHBhdXNlOntjb2RlOjl9LHBsYXk6e2NvZGU6MTB9LHBsYXlpbmc6e2NvZGU6MTF9LHJhdGVjaGFuZ2U6e2NvZGU6MTIsbWV0YWRhdGE6XCJyYXRlXCJ9LHNlZWtlZDp7Y29kZToxMyxtZXRhZGF0YTpcInBvc1wifSxzZWVraW5nOntjb2RlOjE0LG1ldGFkYXRhOlwicG9zXCJ9LHN0YWxsZWQ6e2NvZGU6MTV9LHN1c3BlbmQ6e2NvZGU6MTZ9LHdhaXRpbmc6e2NvZGU6MTd9fSksaj1rKHtwYWdldW5sb2FkOntjb2RlOjEwMX19KTtuKDQ3KSxuKDQ4KSxuKDU5KSxuKDEyNyksbigxNCksbig5KSxuKDcxKSxuKDIxKSxuKDI2KTtmdW5jdGlvbiBBKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBJKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP0EoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtDKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpBKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fWZ1bmN0aW9uIEModCxlLG4pe3JldHVybiBlIGluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbZV09bix0fWZ1bmN0aW9uIFAodCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgZT0wLG49bmV3IEFycmF5KHQubGVuZ3RoKTtlPHQubGVuZ3RoO2UrKyluW2VdPXRbZV07cmV0dXJuIG59fSh0KXx8ZnVuY3Rpb24odCl7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KXx8XCJbb2JqZWN0IEFyZ3VtZW50c11cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSlyZXR1cm4gQXJyYXkuZnJvbSh0KX0odCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpfSgpfW4oNjApO3ZhciBSPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09MS8wPy0xOjFlMyp0fTtmdW5jdGlvbiBMKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBOKHQsZSxuKXtyZXR1cm4gZSBpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W2VdPW4sdH12YXIgRD1mdW5jdGlvbih0LGUpe3ZhciBuPWUuYWRkLHI9ZS5zZXQsaT1lLnN0b3Asbz1lLnN0YXJ0LGE9ZnVuY3Rpb24oKXt2YXIgZT10LmR1cmF0aW9uKCk7ZT4wJiZyKHtkdXJhdGlvbjpSKGUpfSl9LHM9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5uYW1lLHM9ZS5jb2RlLHU9ZS5tZXRhZGF0YTtyZXR1cm4gZnVuY3Rpb24oKXtuKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP0woT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtOKHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpMKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fSh7ZTpzfSxmdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZVwicmF0ZVwiOnJldHVybntyYXRlOnQucGxheWJhY2tSYXRlKCl9O2Nhc2VcImR1clwiOnJldHVybntkdXI6Uih0LmR1cmF0aW9uKCkpfTtjYXNlXCJwb3NcIjpyZXR1cm57cG9zOnQuY3VycmVudFRpbWUoKX07ZGVmYXVsdDpyZXR1cm59fSh1KSkpO3ZhciBlPV8uZHVyYXRpb25jaGFuZ2UsYz1fLmVuZGVkLGY9Xy5jYW5wbGF5LGw9Xy5jYW5wbGF5dGhyb3VnaCxoPV8ucGxheTtzd2l0Y2gocil7Y2FzZSBlLm5hbWU6cmV0dXJuIGEoKTtjYXNlIGMubmFtZTpyZXR1cm4gaSgpO2Nhc2UgaC5uYW1lOmNhc2UgZi5uYW1lOmNhc2UgbC5uYW1lOnJldHVybiBvKCk7ZGVmYXVsdDpyZXR1cm59fX07YSgpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKF8pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIF9bdF19KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49cyhlKTt0LmFkZEV2ZW50TGlzdGVuZXIoZS5uYW1lLG4pfSkpfTtmdW5jdGlvbiBVKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBNKHQsZSxuKXtyZXR1cm4gZSBpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W2VdPW4sdH12YXIgRj1mdW5jdGlvbih0LGUpe3ZhciBuPWUuYWRkLGk9ZS5zZXQsbz1lLnN0b3AsYT1lLnN0YXJ0LHM9ZnVuY3Rpb24oKXt2YXIgZT10LmR1cmF0aW9uO2U+MCYmaSh7ZHVyYXRpb246UihlKX0pfSx1PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciBpPWUubmFtZSx1PWUuY29kZSxjPWUubWV0YWRhdGE7ci5hLmkoXCJwbGF5ZXIgZXZlbnQ6XCIsZSksbihmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9VKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7TSh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6VShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH0oe2U6dX0sZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2VcInJhdGVcIjpyZXR1cm57cmF0ZTp0LnBsYXliYWNrUmF0ZX07Y2FzZVwiZHVyXCI6cmV0dXJue2R1cjpSKHQuZHVyYXRpb24pfTtjYXNlXCJwb3NcIjpyZXR1cm57cG9zOnQuY3VycmVudFRpbWV9O2RlZmF1bHQ6cmV0dXJufX0oYykpKTt2YXIgZj1fLmR1cmF0aW9uY2hhbmdlLGw9Xy5lbmRlZCxoPV8uY2FucGxheSxwPV8uY2FucGxheXRocm91Z2gsZD1fLnBsYXk7c3dpdGNoKGkpe2Nhc2UgZi5uYW1lOnJldHVybiBzKCk7Y2FzZSBsLm5hbWU6cmV0dXJuIG8oKTtjYXNlIGQubmFtZTpjYXNlIGgubmFtZTpjYXNlIHAubmFtZTpyZXR1cm4gYSgpO2RlZmF1bHQ6cmV0dXJufX19O3MoKSxPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhfKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBfW3RdfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPXUoZSk7dC5hZGRFdmVudExpc3RlbmVyKGUubmFtZSxuKX0pKX0sQj1uKDI1NSk7ZnVuY3Rpb24gSCh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gcSh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9IKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7eih0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6SChPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH1mdW5jdGlvbiB6KHQsZSxuKXtyZXR1cm4gZSBpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W2VdPW4sdH1mdW5jdGlvbiBWKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX12YXIgRyxXPWZ1bmN0aW9uKHQpe3JldHVyblwicG9ydGFsXCI9PT10LmludGVncmF0aW9uLm5hbWV9LEo9ZnVuY3Rpb24odCl7cmV0dXJue2dlbmVyYWw6e3BsYXlHdWlkOnR9LGV2ZW50czp7ZGF0YTpbXX0sZGV0ZWN0aW9uOntkYXRhOltdfSxwcmltaW5nOntkYXRhOltdfX19LFk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSxPYmplY3QoaS5hKSh0aGlzKSx0LnJlcG9ydGVycy5wdXNoKHRoaXMpO3ZhciByLG89ZXx8e30sYT1vLnNlZWQscz1vLnN0YXJ0LHU9by51c2VyLGM9by5jb25maWc7dGhpcy51c2VyPXUsdGhpcy5jb25maWc9Y3x8e30sdGhpcy5wbGF5R3VpZD1PYmplY3QoQi5hKShhKSx0aGlzLnN0YXJ0VGltZT1zfHxEYXRlLm5vdygpLHRoaXMuc3RvcmVkSW5mbz0oKHI9dygpKFwia3Nkbi5yXCIpKSYmci5icm93c2VyVXNlckd1aWR8fChyPXticm93c2VyVXNlckd1aWQ6eCgpKCl9LHcoKShcImtzZG4uclwiLHIpKSxyKSx0aGlzLmNvbnRlbnRTZXQ9ITEsdGhpcy5zZGtDb25maWc9bix0aGlzLnNka0NvbmZpZy5zZXRSZXBvcnRJbnRlcnZhbCh0aGlzLmNvbmZpZy5pYXIpO3ZhciBmPXRoaXMuc3RvcmVkSW5mbyxsPWYuYnJvd3NlclVzZXJHdWlkLGg9Zi5lY2RuMTAscD1mLmVjZG4xMSxkPXRoaXMuc2RrQ29uZmlnLHk9ZC52ZXJzaW9uLHY9ZC5pbnRlZ3JhdGlvbjt0aGlzLm1lcmdlZD1KKCksdGhpcy5wZW5kaW5nPXEoe30sSigpLHtnZW5lcmFsOnEoe3BsYXlHdWlkOnRoaXMucGxheUd1aWQsdjp5LGJyb3dzZXJVc2VyR3VpZDpsfSx1JiZ7dXNlcjp1fSx7c3RhcnQ6dGhpcy5zdGFydFRpbWUsaW50ZWdyYXRpb246dn0pfSxoJiZ7ZWNkbjEwOmh9LHt9LHAmJntlY2RuMTE6cH0pfXZhciBlLG4sbztyZXR1cm4gZT10LChuPVt7a2V5OlwidGltZXN0YW1wXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuKHQ9bnVsbD09dD9EYXRlLm5vdygpOnQpLXRoaXMuc3RhcnRUaW1lfX0se2tleTpcImFkZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLmNsZWFuZWQpe2UudD10aGlzLnRpbWVzdGFtcChlLnQpO3ZhciBuPWUuc3RhdHVzO251bGwhPW4mJihlLnN0YXR1cz1uPDEwMD9cInRpbWVvdXRcIjpcIlwiLmNvbmNhdChuKSk7dmFyIGk9ZS5lLG89ZS50eXBlO2lmKGkpe3ZhciBzPV8uZHVyYXRpb25jaGFuZ2UuY29kZTtpZihXKHRoaXMuc2RrQ29uZmlnKSYmaT09PXMpe2lmKHRoaXMuaWdub3JlRHVyYXRpb25DaGFuZ2UpcmV0dXJuO3RoaXMuaWdub3JlRHVyYXRpb25DaGFuZ2U9ITAsZS5kdXI9LTF9dmFyIHU9Xy5zZWVraW5nLmNvZGU7aWYoaT09PXUpe2lmKChhKCkodGhpcy5wZW5kaW5nLmV2ZW50cy5kYXRhKXx8YSgpKHRoaXMubWVyZ2VkLmV2ZW50cy5kYXRhKSkuZT09PXUpcmV0dXJuIHZvaWQodGhpcy5maW5hbFNlZWtpbmc9ZSl9ZWxzZSB0aGlzLmZpbmFsU2Vla2luZyYmKHRoaXMucGVuZGluZy5ldmVudHMuZGF0YS5wdXNoKHRoaXMuZmluYWxTZWVraW5nKSx0aGlzLmZpbmFsU2Vla2luZz1udWxsKTt0aGlzLnBlbmRpbmcuZXZlbnRzLmRhdGEucHVzaChlKX1lbHNle3ZhciBjPXQuVHlwZSxmPWMuV0VCUlRDLGw9Yy5FQ0ROMTAsaD1jLkVDRE4xMTtzd2l0Y2gobyl7Y2FzZSBmOmNhc2UgbDpjYXNlIGg6aWYoITA9PT1lLnN1Y2Nlc3MmJihyLmEuaShcImEuZFwiLG8sZS5tZXRob2QsZS52KSxmdW5jdGlvbih0KXt2YXIgZT13KCkoXCJrc2RuLnJcIik7ZSYmZS5icm93c2VyVXNlckd1aWR8fChlPXticm93c2VyVXNlckd1aWQ6eCgpKCl9KSx0JiYoZS5sYXN0RGV0ZWN0aW9uPXQpLHcoKShcImtzZG4uclwiLGUpfSh7dHlwZTpvLHY6ZS52LGRhdGU6RGF0ZS5ub3coKX0pKSwhMT09PWUuc3VjY2Vzcyl7ci5hLmYoXCJhLmQuZlwiLG8sZS5tZXRob2QsZS5zdGF0dXMpO3ZhciBwPXRoaXMuc3RvcmVkSW5mby5sYXN0RGV0ZWN0aW9uO3AmJihlLmxhc3REZXRlY3Rpb249cCl9dGhpcy5wZW5kaW5nLmRldGVjdGlvbi5kYXRhLnB1c2goZSk7YnJlYWs7ZGVmYXVsdDp0aGlzLnBlbmRpbmcucHJpbWluZy5kYXRhLnB1c2goZSl9fXZhciBkPSh0aGlzLm1lcmdlZCx0aGlzLnBlbmRpbmcse2NvbmRpdGlvbkNyaXRpY2FsOm51bGwsY29uZGl0aW9uRXhwZWRpdGU6bnVsbH0pLHk9ZC5jb25kaXRpb25Dcml0aWNhbCx2PWQuY29uZGl0aW9uRXhwZWRpdGU7KCF5fHwhdGhpcy5mbGFnQ3JpdGljYWwoeSkpJiZ2JiZ0aGlzLmV4cGVkaXRlKHYpfX19LHtrZXk6XCJzZXRcIix2YWx1ZTpmdW5jdGlvbihlLG4pe2lmKCF0aGlzLmNsZWFuZWQpe1codGhpcy5zZGtDb25maWcpJiZlLmR1cmF0aW9uJiYoZS5kdXJhdGlvbj0tMSksbj1ufHx0LlNlY3Rpb25zLkdlbmVyYWw7dmFyIHI9dGhpcy5tZXJnZWRbbl0saT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHImJnJbbl18fCh0W25dPWVbbl0pLHR9KSx7fSk7dGhpcy5wZW5kaW5nW25dPU9iamVjdC5hc3NpZ24oaSx0aGlzLnBlbmRpbmdbbl0pLG49PT10LlR5cGUuRUNETjEwJiZlLmNvbnRlbnQmJih0aGlzLmNvbnRlbnRTZXQ9ITApLGkuZHVyYXRpb24mJiF0aGlzLnN0YXJ0ZWQmJnRoaXMuc3RhcnQoITAsITApfX19LHtrZXk6XCJtZXJnZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5tZXJnZWQsZT10aGlzLnBlbmRpbmcsbj10aGlzLnBsYXlHdWlkO3RoaXMubWVyZ2VkPWZ1bmN0aW9uKHQsZSl7dmFyIG4scixpLG89dC5nZW5lcmFsLGE9dC5lY2RuMTAscz10LmVjZG4xMSx1PXQuZXZlbnRzLGY9dC5kZXRlY3Rpb24sbD10LnByaW1pbmc7cmV0dXJuIGU9YygpKGUpLG8uaGI9KG8uaGJ8fFtdKS5jb25jYXQoZS5nZW5lcmFsLnQpLGRlbGV0ZSBlLmdlbmVyYWwudCxkZWxldGUgZS5nZW5lcmFsLmNyaXRpY2FsLGRlbGV0ZSBlLmdlbmVyYWwuZXhwZWRpdGVkLChuPXUuZGF0YSkucHVzaC5hcHBseShuLFAoZS5ldmVudHMuZGF0YSkpLChyPWYuZGF0YSkucHVzaC5hcHBseShyLFAoZS5kZXRlY3Rpb24uZGF0YSkpLChpPWwuZGF0YSkucHVzaC5hcHBseShpLFAoZS5wcmltaW5nLmRhdGEpKSx7Z2VuZXJhbDpJKHt9LG8se30sZS5nZW5lcmFsKSxlY2RuMTA6SSh7fSxhLHt9LGUuZWNkbjEwKSxlY2RuMTE6SSh7fSxzLHt9LGUuZWNkbjExKSxldmVudHM6dSxkZXRlY3Rpb246ZixwcmltaW5nOmx9fSh0LGUpLHRoaXMucGVuZGluZz1KKG4pfX0se2tleTpcInNlbmRcIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdGhpcy5jbGVhbmVkKXt2YXIgZT10aGlzLnBlbmRpbmcsbj10aGlzLmNvbmZpZyxpPXRoaXMucGxhdGZvcm0sbz10aGlzLnJwayxhPXRoaXMuand0LHU9dGhpcy5jb250ZW50U2V0O2UuZ2VuZXJhbC50PXRoaXMudGltZXN0YW1wKCk7dmFyIGg9ZnVuY3Rpb24odCl7dmFyIGU9dC5jb25maWcsbj10LnBsYXRmb3JtLGk9dC5pc0ZpbmFsLG89dC5wZW5kaW5nLGE9dC5ycGsscz10Lmp3dCx1PXQuY29udGVudFNldDtpZihuPT09diYmby5lY2RuMTApe3ZhciBoPW8uZWNkbjEwLHA9aC5hZ2VudCx5PWguZGVsaXZlcnlHdWlkO28uZWNkbjEwLmFnZW50PWQoe30scCx7ZGVsaXZlcnlHdWlkOnl9KX12YXIgbSx3LEU9ZCh7fSxjKCkobykpO3N3aXRjaChiKEUsXCJldmVudHNcIiksYihFLFwiZGV0ZWN0aW9uXCIpLGIoRSxcInByaW1pbmdcIiksbil7Y2FzZSB2OnZhciB4PWUuYjtpZigheClyZXR1cm47aWYoIXUpcmV0dXJuO209XCJcIi5jb25jYXQoT2JqZWN0KGwuYSkoeCksXCIvYXBpL2ludGVncmF0aW9uL3JlcG9ydC9wbGF5XCIpLGEmJihFLnRva2VuPWEpO2JyZWFrO2Nhc2UgZzppZighc3x8IWUuc3RoKXJldHVybjttPVwiXCIuY29uY2F0KE9iamVjdChsLmEpKGUuc3RoKSxcIi9hcGkvc3RhdHMvcGxheVwiKSx3PXtBdXRob3JpemF0aW9uOlwiQmVhcmVyIFwiLmNvbmNhdChzKX07dmFyIE89T2JqZWN0KGYuYSkocyk7ci5hLmkoXCJzZW5kaW5nIHJlcG9ydFwiLE8pLEU9e2NvbnRlbnRJZDpPLmNpZCx0ZW5hbnRJZDpPLnRpZCxyZWNvcmQ6RX07YnJlYWs7ZGVmYXVsdDpyZXR1cm59cmV0dXJue21ldGhvZDpcIlBPU1RcIix1cmw6bSxhc3luYzohaSxib2R5OkUsaGVhZGVyczp3fX0oe2NvbmZpZzpuLHBsYXRmb3JtOmksY29udGVudFNldDp1LGlzRmluYWw6dCxwZW5kaW5nOmUscnBrOm8sand0OmF9KTtoPyhPYmplY3Qocy5hKShoKS50aGVuKChmdW5jdGlvbigpe3IuYS5pKFwicmVwb3J0XCIsaC5ib2R5KX0pKS5jYXRjaCgoZnVuY3Rpb24oKXtyLmEuZihcInJlcG9ydFwiLGguYm9keSl9KSksdGhpcy5tZXJnZSgpKTpyLmEudyhcInJlcG9ydFwiLFwibm90LnJlYWR5XCIsZSl9fX0se2tleTpcImV4cGVkaXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dCYmKHRoaXMucGVuZGluZy5nZW5lcmFsLmV4cGVkaXRlZD10KSx0aGlzLnN0YXJ0KCEwLCEwKX19LHtrZXk6XCJhdHRhY2hWaWRlb0VsZW1lbnRcIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdGhpcy5jbGVhbmVkKXt2YXIgZT10aGlzLmFkZCxuPXRoaXMuc2V0LHI9dGhpcy5zdG9wLGk9dGhpcy5zdGFydDtGKHQse2FkZDplLHNldDpuLHN0b3A6cixzdGFydDppfSl9fX0se2tleTpcImF0dGFjaEFtcFBsYXllclwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmNsZWFuZWQpe3ZhciBlPXRoaXMuYWRkLG49dGhpcy5zZXQscj10aGlzLnN0b3AsaT10aGlzLnN0YXJ0O0QodCx7YWRkOmUsc2V0Om4sc3RvcDpyLHN0YXJ0Oml9KX19fSx7a2V5OlwiZmxhZ0NyaXRpY2FsXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5yYW5kb20oKTwuMDU7cmV0dXJuIHRoaXMucGVuZGluZy5nZW5lcmFsLmNyaXRpY2FsPXQsZSYmIXRoaXMuaGFzRXhwZWRpdGVkT25Dcml0aWNhbCYmKHRoaXMuaGFzRXhwZWRpdGVkT25Dcml0aWNhbD0hMCx0aGlzLmV4cGVkaXRlKFMpKSxlfX0se2tleTpcInN0YXJ0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmNsZWFuZWR8fHRoaXMuaW50ZXJ2YWxUb2tlbiYmIXR8fCh0aGlzLnN0YXJ0ZWQ9ITAsY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsVG9rZW4pLHRoaXMuaW50ZXJ2YWxUb2tlbj1zZXRJbnRlcnZhbCh0aGlzLnNlbmQsdGhpcy5zZGtDb25maWcucmVwb3J0SW50ZXJ2YWwpLGUmJnRoaXMuc2VuZCgpKX19LHtrZXk6XCJzdG9wXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmludGVydmFsVG9rZW4mJihjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxUb2tlbiksdGhpcy5pbnRlcnZhbFRva2VuPW51bGwsdGhpcy5zZW5kKCEwKSl9fSx7a2V5OlwiY2xlYW51cFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdG9wKCksdGhpcy5tZXJnZWQ9bnVsbCx0aGlzLnBlbmRpbmc9bnVsbCx0aGlzLmNsZWFuZWQ9ITB9fV0pJiZWKGUucHJvdG90eXBlLG4pLG8mJlYoZSxvKSx0fSgpO1kucmVwb3J0ZXJzPVtdLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsKGZ1bmN0aW9uKCl7WS5yZXBvcnRlcnMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5hZGQoe2U6ai5wYWdldW5sb2FkLmNvZGV9KSx0LmNsZWFudXAoKX0pKX0pKSwoRz1ZKS5UeXBlPXtXRUJSVEM6XCJ3ZWJydGNcIixFQ0ROMTA6XCJlY2RuMTBcIixFQ0ROMTE6XCJlY2RuMTFcIixQVUJMSVNIX0NIRUNLOlwicHVibGlzaENoZWNrXCIsUFVCTElTSDpcInB1Ymxpc2hcIixTRVNTSU9OOlwic2Vzc2lvblwiLFBSRUZFVENIOlwicHJlZmV0Y2hcIixSRVNUQVJUOlwicmVzdGFydFwifSxHLlNlY3Rpb25zPXtHZW5lcmFsOlwiZ2VuZXJhbFwiLEVDRE4xMDpcImVjZG4xMFwiLEVDRE4xMTpcImVjZG4xMVwifSxHLkVycm9yPXtVTlNVUFBPUlRFRDpcInVuc3VwcG9ydGVkQnJvd3NlclwifTt2YXIgWj1ZO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBafSkpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyKSxpPW4oMzYpLG89bigxMTIpO3Ioe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsZm9yY2VkOm4oMykoKGZ1bmN0aW9uKCl7bygxKX0pKX0se2tleXM6ZnVuY3Rpb24odCl7cmV0dXJuIG8oaSh0KSl9fSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDUpLGk9bigyMzMpO2Z1bmN0aW9uIG8oKXtpLmNhbGwodGhpcyl9cihvLGkpLG8ucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbih0KXt0P2RlbGV0ZSB0aGlzLl9saXN0ZW5lcnNbdF06dGhpcy5fbGlzdGVuZXJzPXt9fSxvLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPSExO3RoaXMub24odCwoZnVuY3Rpb24gaSgpe24ucmVtb3ZlTGlzdGVuZXIodCxpKSxyfHwocj0hMCxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9KSl9LG8ucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHNbMF0sZT10aGlzLl9saXN0ZW5lcnNbdF07aWYoZSl7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkobi0xKSxpPTE7aTxuO2krKylyW2ktMV09YXJndW1lbnRzW2ldO2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKWVbb10uYXBwbHkodGhpcyxyKX19LG8ucHJvdG90eXBlLm9uPW8ucHJvdG90eXBlLmFkZExpc3RlbmVyPWkucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIsby5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9aS5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcix0LmV4cG9ydHMuRXZlbnRFbWl0dGVyPW99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLmQoZSxcImJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQoZSxcImNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKTt2YXIgcixpPW4oMSk7ZnVuY3Rpb24gbyh0LGUsbil7cmV0dXJuIGUgaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9dmFyIGE9XCJrb2xsZWN0aXZlU0ROXCIscz0obyhyPXt9LGkuYy5TTU9PVEgse3RlY2g6XCJGbGFzaFNTXCIsbWltZTpcImFwcGxpY2F0aW9uL3ZuZC5tcy1zc3RyK3htbFwifSksbyhyLGkuYy5EQVNILHt0ZWNoOlwiQXp1cmVIdG1sNUpTXCIsbWltZTpcImFwcGxpY2F0aW9uL2Rhc2greG1sXCJ9KSxyKSx1PXtzZG5Jbml0U3VjY2VzczpcInNkbkluaXRTdWNjZXNzXCIsc2RuSW5pdEZhaWx1cmU6XCJzZG5Jbml0RmFpbHVyZVwiLHNkbkZhdGFsRXJyb3I6XCJzZG5GYXRhbEVycm9yXCJ9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyKSxpPW4oMyksbz1uKDQxKSxhPW4oNTUpLmYscz1uKDE2KSx1PWkoKGZ1bmN0aW9uKCl7YSgxKX0pKTtyKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDohc3x8dSxzaGFtOiFzfSx7Z2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGEobyh0KSxlKX19KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMiksaT1uKDE2KSxvPW4oMTQ3KSxhPW4oNDEpLHM9big1NSksdT1uKDExNik7cih7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxzaGFtOiFpfSx7Z2V0T3duUHJvcGVydHlEZXNjcmlwdG9yczpmdW5jdGlvbih0KXtmb3IodmFyIGUsbixyPWEodCksaT1zLmYsYz1vKHIpLGY9e30sbD0wO2MubGVuZ3RoPmw7KXZvaWQgMCE9PShuPWkocixlPWNbbCsrXSkpJiZ1KGYsZSxuKTtyZXR1cm4gZn19KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBmfSkpO3ZhciByPW4oMTApLGk9bigxMDkpLG89big5MCksYT1uKDQ2KSxzPW4oNzQpLHU9bigzNCksYz1uKDUzKSxmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUobixyLGkpe3ZhciBhPXQuY2FsbCh0aGlzKXx8dGhpcztzd2l0Y2goYS5zeW5jRXJyb3JWYWx1ZT1udWxsLGEuc3luY0Vycm9yVGhyb3duPSExLGEuc3luY0Vycm9yVGhyb3dhYmxlPSExLGEuaXNTdG9wcGVkPSExLGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDphLmRlc3RpbmF0aW9uPW8uYTticmVhaztjYXNlIDE6aWYoIW4pe2EuZGVzdGluYXRpb249by5hO2JyZWFrfWlmKFwib2JqZWN0XCI9PT10eXBlb2Ygbil7biBpbnN0YW5jZW9mIGU/KGEuc3luY0Vycm9yVGhyb3dhYmxlPW4uc3luY0Vycm9yVGhyb3dhYmxlLGEuZGVzdGluYXRpb249bixuLmFkZChhKSk6KGEuc3luY0Vycm9yVGhyb3dhYmxlPSEwLGEuZGVzdGluYXRpb249bmV3IGwoYSxuKSk7YnJlYWt9ZGVmYXVsdDphLnN5bmNFcnJvclRocm93YWJsZT0hMCxhLmRlc3RpbmF0aW9uPW5ldyBsKGEsbixyLGkpfXJldHVybiBhfXJldHVybiByLmEoZSx0KSxlLnByb3RvdHlwZVtzLmFdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGUuY3JlYXRlPWZ1bmN0aW9uKHQsbixyKXt2YXIgaT1uZXcgZSh0LG4scik7cmV0dXJuIGkuc3luY0Vycm9yVGhyb3dhYmxlPSExLGl9LGUucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24odCl7dGhpcy5pc1N0b3BwZWR8fHRoaXMuX25leHQodCl9LGUucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKHQpe3RoaXMuaXNTdG9wcGVkfHwodGhpcy5pc1N0b3BwZWQ9ITAsdGhpcy5fZXJyb3IodCkpfSxlLnByb3RvdHlwZS5jb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMuaXNTdG9wcGVkfHwodGhpcy5pc1N0b3BwZWQ9ITAsdGhpcy5fY29tcGxldGUoKSl9LGUucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7dGhpcy5jbG9zZWR8fCh0aGlzLmlzU3RvcHBlZD0hMCx0LnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpKX0sZS5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24odCl7dGhpcy5kZXN0aW5hdGlvbi5uZXh0KHQpfSxlLnByb3RvdHlwZS5fZXJyb3I9ZnVuY3Rpb24odCl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KSx0aGlzLnVuc3Vic2NyaWJlKCl9LGUucHJvdG90eXBlLl9jb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKSx0aGlzLnVuc3Vic2NyaWJlKCl9LGUucHJvdG90eXBlLl91bnN1YnNjcmliZUFuZFJlY3ljbGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wYXJlbnRPclBhcmVudHM7cmV0dXJuIHRoaXMuX3BhcmVudE9yUGFyZW50cz1udWxsLHRoaXMudW5zdWJzY3JpYmUoKSx0aGlzLmNsb3NlZD0hMSx0aGlzLmlzU3RvcHBlZD0hMSx0aGlzLl9wYXJlbnRPclBhcmVudHM9dCx0aGlzfSxlfShhLmEpLGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixhKXt2YXIgcyx1PXQuY2FsbCh0aGlzKXx8dGhpczt1Ll9wYXJlbnRTdWJzY3JpYmVyPWU7dmFyIGM9dTtyZXR1cm4gT2JqZWN0KGkuYSkobik/cz1uOm4mJihzPW4ubmV4dCxyPW4uZXJyb3IsYT1uLmNvbXBsZXRlLG4hPT1vLmEmJihjPU9iamVjdC5jcmVhdGUobiksT2JqZWN0KGkuYSkoYy51bnN1YnNjcmliZSkmJnUuYWRkKGMudW5zdWJzY3JpYmUuYmluZChjKSksYy51bnN1YnNjcmliZT11LnVuc3Vic2NyaWJlLmJpbmQodSkpKSx1Ll9jb250ZXh0PWMsdS5fbmV4dD1zLHUuX2Vycm9yPXIsdS5fY29tcGxldGU9YSx1fXJldHVybiByLmEoZSx0KSxlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmlzU3RvcHBlZCYmdGhpcy5fbmV4dCl7dmFyIGU9dGhpcy5fcGFyZW50U3Vic2NyaWJlcjt1LmEudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyYmZS5zeW5jRXJyb3JUaHJvd2FibGU/dGhpcy5fX3RyeU9yU2V0RXJyb3IoZSx0aGlzLl9uZXh0LHQpJiZ0aGlzLnVuc3Vic2NyaWJlKCk6dGhpcy5fX3RyeU9yVW5zdWIodGhpcy5fbmV4dCx0KX19LGUucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmlzU3RvcHBlZCl7dmFyIGU9dGhpcy5fcGFyZW50U3Vic2NyaWJlcixuPXUuYS51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nO2lmKHRoaXMuX2Vycm9yKW4mJmUuc3luY0Vycm9yVGhyb3dhYmxlPyh0aGlzLl9fdHJ5T3JTZXRFcnJvcihlLHRoaXMuX2Vycm9yLHQpLHRoaXMudW5zdWJzY3JpYmUoKSk6KHRoaXMuX190cnlPclVuc3ViKHRoaXMuX2Vycm9yLHQpLHRoaXMudW5zdWJzY3JpYmUoKSk7ZWxzZSBpZihlLnN5bmNFcnJvclRocm93YWJsZSluPyhlLnN5bmNFcnJvclZhbHVlPXQsZS5zeW5jRXJyb3JUaHJvd249ITApOk9iamVjdChjLmEpKHQpLHRoaXMudW5zdWJzY3JpYmUoKTtlbHNle2lmKHRoaXMudW5zdWJzY3JpYmUoKSxuKXRocm93IHQ7T2JqZWN0KGMuYSkodCl9fX0sZS5wcm90b3R5cGUuY29tcGxldGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKCF0aGlzLmlzU3RvcHBlZCl7dmFyIGU9dGhpcy5fcGFyZW50U3Vic2NyaWJlcjtpZih0aGlzLl9jb21wbGV0ZSl7dmFyIG49ZnVuY3Rpb24oKXtyZXR1cm4gdC5fY29tcGxldGUuY2FsbCh0Ll9jb250ZXh0KX07dS5hLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJmUuc3luY0Vycm9yVGhyb3dhYmxlPyh0aGlzLl9fdHJ5T3JTZXRFcnJvcihlLG4pLHRoaXMudW5zdWJzY3JpYmUoKSk6KHRoaXMuX190cnlPclVuc3ViKG4pLHRoaXMudW5zdWJzY3JpYmUoKSl9ZWxzZSB0aGlzLnVuc3Vic2NyaWJlKCl9fSxlLnByb3RvdHlwZS5fX3RyeU9yVW5zdWI9ZnVuY3Rpb24odCxlKXt0cnl7dC5jYWxsKHRoaXMuX2NvbnRleHQsZSl9Y2F0Y2godCl7aWYodGhpcy51bnN1YnNjcmliZSgpLHUuYS51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKXRocm93IHQ7T2JqZWN0KGMuYSkodCl9fSxlLnByb3RvdHlwZS5fX3RyeU9yU2V0RXJyb3I9ZnVuY3Rpb24odCxlLG4pe2lmKCF1LmEudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyl0aHJvdyBuZXcgRXJyb3IoXCJiYWQgY2FsbFwiKTt0cnl7ZS5jYWxsKHRoaXMuX2NvbnRleHQsbil9Y2F0Y2goZSl7cmV0dXJuIHUuYS51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nPyh0LnN5bmNFcnJvclZhbHVlPWUsdC5zeW5jRXJyb3JUaHJvd249ITAsITApOihPYmplY3QoYy5hKShlKSwhMCl9cmV0dXJuITF9LGUucHJvdG90eXBlLl91bnN1YnNjcmliZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3BhcmVudFN1YnNjcmliZXI7dGhpcy5fY29udGV4dD1udWxsLHRoaXMuX3BhcmVudFN1YnNjcmliZXI9bnVsbCx0LnVuc3Vic2NyaWJlKCl9LGV9KGYpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIHI9ITEsaT17UHJvbWlzZTp2b2lkIDAsc2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcodCl7dCYmKG5ldyBFcnJvcikuc3RhY2s7cj10fSxnZXQgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZygpe3JldHVybiByfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE2KSxpPW4oMjQpLG89big2NCk7dC5leHBvcnRzPXI/ZnVuY3Rpb24odCxlLG4pe3JldHVybiBpLmYodCxlLG8oMSxuKSl9OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFtlXT1uLHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big3NSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qocih0KSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big2NyksaT1uKDkxKSxvPW4oMzYpLGE9bigyMCkscz1uKDE5NSksdT1bXS5wdXNoLGM9ZnVuY3Rpb24odCl7dmFyIGU9MT09dCxuPTI9PXQsYz0zPT10LGY9ND09dCxsPTY9PXQsaD01PT10fHxsO3JldHVybiBmdW5jdGlvbihwLGQseSx2KXtmb3IodmFyIGcsYixtPW8ocCksdz1pKG0pLEU9cihkLHksMykseD1hKHcubGVuZ3RoKSxPPTAsVD12fHxzLFM9ZT9UKHAseCk6bj9UKHAsMCk6dm9pZCAwO3g+TztPKyspaWYoKGh8fE8gaW4gdykmJihiPUUoZz13W09dLE8sbSksdCkpaWYoZSlTW09dPWI7ZWxzZSBpZihiKXN3aXRjaCh0KXtjYXNlIDM6cmV0dXJuITA7Y2FzZSA1OnJldHVybiBnO2Nhc2UgNjpyZXR1cm4gTztjYXNlIDI6dS5jYWxsKFMsZyl9ZWxzZSBpZihmKXJldHVybiExO3JldHVybiBsPy0xOmN8fGY/ZjpTfX07dC5leHBvcnRzPXtmb3JFYWNoOmMoMCksbWFwOmMoMSksZmlsdGVyOmMoMiksc29tZTpjKDMpLGV2ZXJ5OmMoNCksZmluZDpjKDUpLGZpbmRJbmRleDpjKDYpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNCksaT1uKDM1KSxvPW4oMTkpLGE9bigxNDQpLHM9bigxNDUpLHU9big0NCksYz11LmdldCxmPXUuZW5mb3JjZSxsPVN0cmluZyhTdHJpbmcpLnNwbGl0KFwiU3RyaW5nXCIpOyh0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4scyl7dmFyIHU9ISFzJiYhIXMudW5zYWZlLGM9ISFzJiYhIXMuZW51bWVyYWJsZSxoPSEhcyYmISFzLm5vVGFyZ2V0R2V0O1wiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihcInN0cmluZ1wiIT10eXBlb2YgZXx8byhuLFwibmFtZVwiKXx8aShuLFwibmFtZVwiLGUpLGYobikuc291cmNlPWwuam9pbihcInN0cmluZ1wiPT10eXBlb2YgZT9lOlwiXCIpKSx0IT09cj8odT8haCYmdFtlXSYmKGM9ITApOmRlbGV0ZSB0W2VdLGM/dFtlXT1uOmkodCxlLG4pKTpjP3RbZV09bjphKGUsbil9KShGdW5jdGlvbi5wcm90b3R5cGUsXCJ0b1N0cmluZ1wiLChmdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMmJmModGhpcykuc291cmNlfHxzKHRoaXMpfSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxMzQpO3QuZXhwb3J0cz17Z2V0T3JpZ2luOmZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiBudWxsO3ZhciBlPW5ldyByKHQpO2lmKFwiZmlsZTpcIj09PWUucHJvdG9jb2wpcmV0dXJuIG51bGw7dmFyIG49ZS5wb3J0O3JldHVybiBufHwobj1cImh0dHBzOlwiPT09ZS5wcm90b2NvbD9cIjQ0M1wiOlwiODBcIiksZS5wcm90b2NvbCtcIi8vXCIrZS5ob3N0bmFtZStcIjpcIitufSxpc09yaWdpbkVxdWFsOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRPcmlnaW4odCk9PT10aGlzLmdldE9yaWdpbihlKTtyZXR1cm4gbn0saXNTY2hlbWVFcXVhbDpmdW5jdGlvbih0LGUpe3JldHVybiB0LnNwbGl0KFwiOlwiKVswXT09PWUuc3BsaXQoXCI6XCIpWzBdfSxhZGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5zcGxpdChcIj9cIik7cmV0dXJuIG5bMF0rZSsoblsxXT9cIj9cIituWzFdOlwiXCIpfSxhZGRRdWVyeTpmdW5jdGlvbih0LGUpe3JldHVybiB0KygtMT09PXQuaW5kZXhPZihcIj9cIik/XCI/XCIrZTpcIiZcIitlKX19fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMTc0KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOTEpLGk9big3NSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByKGkodCkpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMzMpO3ZhciBpPW4oNzQpLG89big5MCk7dmFyIGE9big4OSk7ZnVuY3Rpb24gcygpe31mdW5jdGlvbiB1KHQpe3JldHVybiB0PzE9PT10Lmxlbmd0aD90WzBdOmZ1bmN0aW9uKGUpe3JldHVybiB0LnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZSh0KX0pLGUpfTpzfXZhciBjPW4oMzQpO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBmfSkpO3ZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9pc1NjYWxhcj0hMSx0JiYodGhpcy5fc3Vic2NyaWJlPXQpfXJldHVybiB0LnByb3RvdHlwZS5saWZ0PWZ1bmN0aW9uKGUpe3ZhciBuPW5ldyB0O3JldHVybiBuLnNvdXJjZT10aGlzLG4ub3BlcmF0b3I9ZSxufSx0LnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24odCxlLG4pe3ZhciBhPXRoaXMub3BlcmF0b3Iscz1mdW5jdGlvbih0LGUsbil7aWYodCl7aWYodCBpbnN0YW5jZW9mIHIuYSlyZXR1cm4gdDtpZih0W2kuYV0pcmV0dXJuIHRbaS5hXSgpfXJldHVybiB0fHxlfHxuP25ldyByLmEodCxlLG4pOm5ldyByLmEoby5hKX0odCxlLG4pO2lmKGE/cy5hZGQoYS5jYWxsKHMsdGhpcy5zb3VyY2UpKTpzLmFkZCh0aGlzLnNvdXJjZXx8Yy5hLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJiFzLnN5bmNFcnJvclRocm93YWJsZT90aGlzLl9zdWJzY3JpYmUocyk6dGhpcy5fdHJ5U3Vic2NyaWJlKHMpKSxjLmEudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyYmcy5zeW5jRXJyb3JUaHJvd2FibGUmJihzLnN5bmNFcnJvclRocm93YWJsZT0hMSxzLnN5bmNFcnJvclRocm93bikpdGhyb3cgcy5zeW5jRXJyb3JWYWx1ZTtyZXR1cm4gc30sdC5wcm90b3R5cGUuX3RyeVN1YnNjcmliZT1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIHRoaXMuX3N1YnNjcmliZSh0KX1jYXRjaChlKXtjLmEudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyYmKHQuc3luY0Vycm9yVGhyb3duPSEwLHQuc3luY0Vycm9yVmFsdWU9ZSksIWZ1bmN0aW9uKHQpe2Zvcig7dDspe3ZhciBlPXQsbj1lLmNsb3NlZCxpPWUuZGVzdGluYXRpb24sbz1lLmlzU3RvcHBlZDtpZihufHxvKXJldHVybiExO3Q9aSYmaSBpbnN0YW5jZW9mIHIuYT9pOm51bGx9cmV0dXJuITB9KHQpP2NvbnNvbGUud2FybihlKTp0LmVycm9yKGUpfX0sdC5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyhlPWwoZSkpKChmdW5jdGlvbihlLHIpe3ZhciBpO2k9bi5zdWJzY3JpYmUoKGZ1bmN0aW9uKGUpe3RyeXt0KGUpfWNhdGNoKHQpe3IodCksaSYmaS51bnN1YnNjcmliZSgpfX0pLHIsZSl9KSl9LHQucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zb3VyY2U7cmV0dXJuIGUmJmUuc3Vic2NyaWJlKHQpfSx0LnByb3RvdHlwZVthLmFdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07cmV0dXJuIDA9PT10Lmxlbmd0aD90aGlzOnUodCkodGhpcyl9LHQucHJvdG90eXBlLnRvUHJvbWlzZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBuZXcodD1sKHQpKSgoZnVuY3Rpb24odCxuKXt2YXIgcjtlLnN1YnNjcmliZSgoZnVuY3Rpb24odCl7cmV0dXJuIHI9dH0pLChmdW5jdGlvbih0KXtyZXR1cm4gbih0KX0pLChmdW5jdGlvbigpe3JldHVybiB0KHIpfSkpfSkpfSx0LmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQoZSl9LHR9KCk7ZnVuY3Rpb24gbCh0KXtpZih0fHwodD1jLmEuUHJvbWlzZXx8UHJvbWlzZSksIXQpdGhyb3cgbmV3IEVycm9yKFwibm8gUHJvbWlzZSBpbXBsIGZvdW5kXCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24oMTMpLG4oNTkpLG4oMjIpLG4oMTUpLG4oMTI4KSxuKDMxKSxuKDMyKSxuKDI4KSxuKDE4KTt2YXIgcj1uKDg2KSxpPW4oMSk7ZnVuY3Rpb24gbyh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gYSh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9vKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cyh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6byhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH1mdW5jdGlvbiBzKHQsZSxuKXtyZXR1cm4gZSBpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W2VdPW4sdH1mdW5jdGlvbiB1KHQsZSl7aWYobnVsbD09dClyZXR1cm57fTt2YXIgbixyLGk9ZnVuY3Rpb24odCxlKXtpZihudWxsPT10KXJldHVybnt9O3ZhciBuLHIsaT17fSxvPU9iamVjdC5rZXlzKHQpO2ZvcihyPTA7cjxvLmxlbmd0aDtyKyspbj1vW3JdLGUuaW5kZXhPZihuKT49MHx8KGlbbl09dFtuXSk7cmV0dXJuIGl9KHQsZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG89T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtmb3Iocj0wO3I8by5sZW5ndGg7cisrKW49b1tyXSxlLmluZGV4T2Yobik+PTB8fE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0LG4pJiYoaVtuXT10W25dKX1yZXR1cm4gaX1mdW5jdGlvbiBjKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1mdW5jdGlvbiBmKHQsZSl7dmFyIG49ZnVuY3Rpb24oKXtzd2l0Y2goZSl7Y2FzZSBpLmMuTVA0OnJldHVyblwiY29udGVudC5tcDRcIjtjYXNlIGkuYy5ITFM6cmV0dXJuXCJjaHVua2xpc3QubTN1OFwiO2Nhc2UgaS5jLkRBU0g6cmV0dXJuXCJwbGF5bGlzdC5pc20vTWFuaWZlc3QoZm9ybWF0PW1wZC10aW1lLWNzZilcIjtjYXNlIGkuYy5TTU9PVEg6cmV0dXJuXCJwbGF5bGlzdC5pc20vTWFuaWZlc3RcIjtkZWZhdWx0OnJldHVyblwiXCJ9fSgpO3JldHVyblwic3RyZWFtL1wiLmNvbmNhdCh0LFwiL1wiKS5jb25jYXQobil9ZnVuY3Rpb24gbCh0LGUpe3ZhciBuPXQucHJvdG9jb2wscj10Lmhvc3QsaT10LnBvcnQ7cmV0dXJuXCJcIi5jb25jYXQobixcIjovL1wiKS5jb25jYXQocixcIjpcIikuY29uY2F0KGksXCIvXCIpLmNvbmNhdChlKX1mdW5jdGlvbiBoKCl7aWYoIXRoaXMuY29uZmlnKXRocm93IEVycm9yKFwiRUNETjEwQWdlbnRBUEkgbGFja3MgY29uZmlnXCIpfXZhciBwPW5ldyhmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpfXZhciBlLG4sbztyZXR1cm4gZT10LChuPVt7a2V5OlwiZGV0ZWN0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXR8fHt9LHI9bi5jYWxsYmFjayxvPXUobixbXCJjYWxsYmFja1wiXSk7cj1yfHxpLmQ7dmFyIGEscyxjLGY9e3Byb3RvY29sOlwiaHR0cHNcIixob3N0Om8uaG9zdEhUVFBTfHxcImNsaWVudC5rb250aWtpLmNvbVwiLHBvcnQ6by5wb3J0SFRUUFN8fDMxMDE1fSxsPXtwcm90b2NvbDpcImh0dHBcIixob3N0Om8uaG9zdEhUVFB8fFwiMTI3LjAuMC4xXCIscG9ydDpvLnBvcnRIVFRQfHwzMTAxM30saD10aGlzLmNvbmZpZz9bdGhpcy5jb25maWddOltmLChhPXdpbmRvdy5Nb3ppbGxhLHM9YSYmKGEuaXNGaXJlZm94fHxhLmlzTGlrZUZpcmVmb3gpLGM9d2luZG93LmNocm9tZSYmIS9FZGcoZXxpT1N8QSlcXC98U2Ftc3VuZ0Jyb3dzZXIvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLG51bGwhPXdpbmRvdy5pc1NlY3VyZUNvbnRleHQmJiEoIXMmJiFjKSYmbCldLmZpbHRlcihCb29sZWFuKTshZnVuY3Rpb24gdCgpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTtpZihoLmxlbmd0aCl7dmFyIGk9aC5zaGlmdCgpLG89RGF0ZS5ub3coKSxhPWZ1bmN0aW9uKHQsYSl7ZS5jb25maWc9aSxyKHtzdWNjZXNzOntwcm90b2NvbDppLnByb3RvY29sLGRhdGE6dCxyZXF1ZXN0OmEsc3RhcnQ6b30sZmFpbHVyZXM6bn0pfSxzPWZ1bmN0aW9uKGUpe24ucHVzaCh7c3RhcnQ6byx0OkRhdGUubm93KCkscHJvdG9jb2w6aS5wcm90b2NvbCxyZXF1ZXN0OmV9KSx0KG4pfTtlLm1ha2VSZXF1ZXN0KHt1cmk6XCJrb250aWtpL2tvbnRpa2kvY2FjaGUvUmV0cmlldmVBZ2VudERhdGFcIixvblN1Y2Nlc3M6YSxvbkZhaWx1cmU6cyxvblRpbWVvdXQ6c30saSl9ZWxzZSByKHtmYWlsdXJlczpufSl9KCl9fSx7a2V5Olwic3RhcnRTZXNzaW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5ib2R5LG49ZS5rdG9rZW4scj1lLmFwcENvbnRleHQ7dGhpcy5tYWtlUmVxdWVzdChhKHttZXRob2Q6XCJQT1NUXCIsdXJpOlwiXCIuY29uY2F0KFwiYXBpL3YxL3NldFNlc3Npb25EYXRhXCIsXCI/a3Rva2VuPVwiKS5jb25jYXQobixcIiZhcHBDb250ZXh0PVwiKS5jb25jYXQocil9LHQpKX19LHtrZXk6XCJnZXREZWxpdmVyeUd1aWRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnVybjtkZWxldGUgdC51cm4sdGhpcy5tYWtlUmVxdWVzdChhKHt1cmk6XCJcIi5jb25jYXQoXCJhcGkvdjEvY29udGVudERlbGl2ZXJ5R3VpZFwiLFwiP3Vybj1cIikuY29uY2F0KGUpfSx0KSl9fSx7a2V5OlwicHJlZmV0Y2hcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnVybixuPXQuc3RyZWFtVHlwZSxyPXUodCxbXCJ1cm5cIixcInN0cmVhbVR5cGVcIl0pO3RoaXMubWFrZVJlcXVlc3QoYSh7dXJpOmYoZSxuKSx0aW1lb3V0OjVlMyxleHBlY3RKc29uOiExfSxyKSl9fSx7a2V5OlwibG9uZ3BvbGxcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLm1ha2VSZXF1ZXN0KGEoe3VyaTpcImFwaS92MS9sb25ncG9sbFwiLHRpbWVvdXQ6M2U0LGlnbm9yZUVkZ2VUaW1lb3V0OiEwfSx0KSl9fSx7a2V5Olwic3RvcFN0cmVhbVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMubWFrZVJlcXVlc3QoYSh7dXJpOlwiYXBpL3YxL3N0b3BTdHJlYW1cIn0sdCkpfX0se2tleTpcIm1ha2VSZXF1ZXN0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtlfHxoLmNhbGwodGhpcyk7dmFyIG49dHx8e30saT1uLnVyaSxvPW4udGltZW91dCxzPXUobixbXCJ1cmlcIixcInRpbWVvdXRcIl0pO09iamVjdChyLmEpKGEoe3VybDpsKGV8fHRoaXMuY29uZmlnLGkpLHRpbWVvdXQ6b3x8MmUzLGpzb25Db250ZW50OiExfSxzKSl9fSx7a2V5OlwiY3JlYXRlU3RyZWFtVVJMXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtoLmNhbGwodGhpcyk7dmFyIG49Zih0LGUpO3JldHVybiBsKHRoaXMuY29uZmlnLG4pfX1dKSYmYyhlLnByb3RvdHlwZSxuKSxvJiZjKGUsbyksdH0oKSk7ZS5hPXB9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpLG8sYT1uKDI2MSkscz1uKDQpLHU9bigxMSksYz1uKDM1KSxmPW4oMTkpLGw9bigxMTApLGg9big5NCkscD1zLldlYWtNYXA7aWYoYSl7dmFyIGQ9bmV3IHAseT1kLmdldCx2PWQuaGFzLGc9ZC5zZXQ7cj1mdW5jdGlvbih0LGUpe3JldHVybiBnLmNhbGwoZCx0LGUpLGV9LGk9ZnVuY3Rpb24odCl7cmV0dXJuIHkuY2FsbChkLHQpfHx7fX0sbz1mdW5jdGlvbih0KXtyZXR1cm4gdi5jYWxsKGQsdCl9fWVsc2V7dmFyIGI9bChcInN0YXRlXCIpO2hbYl09ITAscj1mdW5jdGlvbih0LGUpe3JldHVybiBjKHQsYixlKSxlfSxpPWZ1bmN0aW9uKHQpe3JldHVybiBmKHQsYik/dFtiXTp7fX0sbz1mdW5jdGlvbih0KXtyZXR1cm4gZih0LGIpfX10LmV4cG9ydHM9e3NldDpyLGdldDppLGhhczpvLGVuZm9yY2U6ZnVuY3Rpb24odCl7cmV0dXJuIG8odCk/aSh0KTpyKHQse30pfSxnZXR0ZXJGb3I6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuO2lmKCF1KGUpfHwobj1pKGUpKS50eXBlIT09dCl0aHJvdyBUeXBlRXJyb3IoXCJJbmNvbXBhdGlibGUgcmVjZWl2ZXIsIFwiK3QrXCIgcmVxdWlyZWRcIik7cmV0dXJuIG59fX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIwOSksaT1cIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZiYmc2VsZi5PYmplY3Q9PT1PYmplY3QmJnNlbGYsbz1yfHxpfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1mdW5jdGlvbigpe3JldHVybiBBcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJudW1iZXJcIj09PXR5cGVvZiB0Lmxlbmd0aH19KCksaT1uKDEzOSksbz1uKDEwOSksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIEVycm9yLmNhbGwodGhpcyksdGhpcy5tZXNzYWdlPXQ/dC5sZW5ndGgrXCIgZXJyb3JzIG9jY3VycmVkIGR1cmluZyB1bnN1YnNjcmlwdGlvbjpcXG5cIit0Lm1hcCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZSsxK1wiKSBcIit0LnRvU3RyaW5nKCl9KSkuam9pbihcIlxcbiAgXCIpOlwiXCIsdGhpcy5uYW1lPVwiVW5zdWJzY3JpcHRpb25FcnJvclwiLHRoaXMuZXJyb3JzPXQsdGhpc31yZXR1cm4gdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLHR9KCk7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuY2xvc2VkPSExLHRoaXMuX3BhcmVudE9yUGFyZW50cz1udWxsLHRoaXMuX3N1YnNjcmlwdGlvbnM9bnVsbCx0JiYodGhpcy5fdW5zdWJzY3JpYmU9dCl9dmFyIGU7cmV0dXJuIHQucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7dmFyIGU7aWYoIXRoaXMuY2xvc2VkKXt2YXIgbj10aGlzLl9wYXJlbnRPclBhcmVudHMscz10aGlzLl91bnN1YnNjcmliZSxjPXRoaXMuX3N1YnNjcmlwdGlvbnM7aWYodGhpcy5jbG9zZWQ9ITAsdGhpcy5fcGFyZW50T3JQYXJlbnRzPW51bGwsdGhpcy5fc3Vic2NyaXB0aW9ucz1udWxsLG4gaW5zdGFuY2VvZiB0KW4ucmVtb3ZlKHRoaXMpO2Vsc2UgaWYobnVsbCE9PW4pZm9yKHZhciBmPTA7ZjxuLmxlbmd0aDsrK2Ype25bZl0ucmVtb3ZlKHRoaXMpfWlmKE9iamVjdChvLmEpKHMpKXRyeXtzLmNhbGwodGhpcyl9Y2F0Y2godCl7ZT10IGluc3RhbmNlb2YgYT91KHQuZXJyb3JzKTpbdF19aWYocihjKSl7Zj0tMTtmb3IodmFyIGw9Yy5sZW5ndGg7KytmPGw7KXt2YXIgaD1jW2ZdO2lmKE9iamVjdChpLmEpKGgpKXRyeXtoLnVuc3Vic2NyaWJlKCl9Y2F0Y2godCl7ZT1lfHxbXSx0IGluc3RhbmNlb2YgYT9lPWUuY29uY2F0KHUodC5lcnJvcnMpKTplLnB1c2godCl9fX1pZihlKXRocm93IG5ldyBhKGUpfX0sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3ZhciBuPWU7aWYoIWUpcmV0dXJuIHQuRU1QVFk7c3dpdGNoKHR5cGVvZiBlKXtjYXNlXCJmdW5jdGlvblwiOm49bmV3IHQoZSk7Y2FzZVwib2JqZWN0XCI6aWYobj09PXRoaXN8fG4uY2xvc2VkfHxcImZ1bmN0aW9uXCIhPT10eXBlb2Ygbi51bnN1YnNjcmliZSlyZXR1cm4gbjtpZih0aGlzLmNsb3NlZClyZXR1cm4gbi51bnN1YnNjcmliZSgpLG47aWYoIShuIGluc3RhbmNlb2YgdCkpe3ZhciByPW47KG49bmV3IHQpLl9zdWJzY3JpcHRpb25zPVtyXX1icmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcInVucmVjb2duaXplZCB0ZWFyZG93biBcIitlK1wiIGFkZGVkIHRvIFN1YnNjcmlwdGlvbi5cIil9dmFyIGk9bi5fcGFyZW50T3JQYXJlbnRzO2lmKG51bGw9PT1pKW4uX3BhcmVudE9yUGFyZW50cz10aGlzO2Vsc2UgaWYoaSBpbnN0YW5jZW9mIHQpe2lmKGk9PT10aGlzKXJldHVybiBuO24uX3BhcmVudE9yUGFyZW50cz1baSx0aGlzXX1lbHNle2lmKC0xIT09aS5pbmRleE9mKHRoaXMpKXJldHVybiBuO2kucHVzaCh0aGlzKX12YXIgbz10aGlzLl9zdWJzY3JpcHRpb25zO3JldHVybiBudWxsPT09bz90aGlzLl9zdWJzY3JpcHRpb25zPVtuXTpvLnB1c2gobiksbn0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3N1YnNjcmlwdGlvbnM7aWYoZSl7dmFyIG49ZS5pbmRleE9mKHQpOy0xIT09biYmZS5zcGxpY2UobiwxKX19LHQuRU1QVFk9KChlPW5ldyB0KS5jbG9zZWQ9ITAsZSksdH0oKTtmdW5jdGlvbiB1KHQpe3JldHVybiB0LnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jb25jYXQoZSBpbnN0YW5jZW9mIGE/ZS5lcnJvcnM6ZSl9KSxbXSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyKSxpPW4oMTYpLG89big0KSxhPW4oMTkpLHM9bigxMSksdT1uKDI0KS5mLGM9bigxODYpLGY9by5TeW1ib2w7aWYoaSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZiYmKCEoXCJkZXNjcmlwdGlvblwiaW4gZi5wcm90b3R5cGUpfHx2b2lkIDAhPT1mKCkuZGVzY3JpcHRpb24pKXt2YXIgbD17fSxoPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aDwxfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/dm9pZCAwOlN0cmluZyhhcmd1bWVudHNbMF0pLGU9dGhpcyBpbnN0YW5jZW9mIGg/bmV3IGYodCk6dm9pZCAwPT09dD9mKCk6Zih0KTtyZXR1cm5cIlwiPT09dCYmKGxbZV09ITApLGV9O2MoaCxmKTt2YXIgcD1oLnByb3RvdHlwZT1mLnByb3RvdHlwZTtwLmNvbnN0cnVjdG9yPWg7dmFyIGQ9cC50b1N0cmluZyx5PVwiU3ltYm9sKHRlc3QpXCI9PVN0cmluZyhmKFwidGVzdFwiKSksdj0vXlN5bWJvbFxcKCguKilcXClbXildKyQvO3UocCxcImRlc2NyaXB0aW9uXCIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXt2YXIgdD1zKHRoaXMpP3RoaXMudmFsdWVPZigpOnRoaXMsZT1kLmNhbGwodCk7aWYoYShsLHQpKXJldHVyblwiXCI7dmFyIG49eT9lLnNsaWNlKDcsLTEpOmUucmVwbGFjZSh2LFwiJDFcIik7cmV0dXJuXCJcIj09PW4/dm9pZCAwOm59fSkscih7Z2xvYmFsOiEwLGZvcmNlZDohMH0se1N5bWJvbDpofSl9fSxmdW5jdGlvbih0LGUsbil7bigxOTQpKFwiaXRlcmF0b3JcIil9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE2KSxpPW4oMyksbz1uKDE5KSxhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxzPXt9LHU9ZnVuY3Rpb24odCl7dGhyb3cgdH07dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYobyhzLHQpKXJldHVybiBzW3RdO2V8fChlPXt9KTt2YXIgbj1bXVt0XSxjPSEhbyhlLFwiQUNDRVNTT1JTXCIpJiZlLkFDQ0VTU09SUyxmPW8oZSwwKT9lWzBdOnUsbD1vKGUsMSk/ZVsxXTp2b2lkIDA7cmV0dXJuIHNbdF09ISFuJiYhaSgoZnVuY3Rpb24oKXtpZihjJiYhcilyZXR1cm4hMDt2YXIgdD17bGVuZ3RoOi0xfTtjP2EodCwxLHtlbnVtZXJhYmxlOiEwLGdldDp1fSk6dFsxXT0xLG4uY2FsbCh0LGYsbCl9KSl9fSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKHQscil7dmFyIGk7KGZ1bmN0aW9uKCl7dmFyIG89bigzNzcpLGE9e2Z1bmN0aW9uOiEwLG9iamVjdDohMH0scz1hW3R5cGVvZiBlXSYmZSYmIWUubm9kZVR5cGUmJmUsdT1hW3R5cGVvZiB3aW5kb3ddJiZ3aW5kb3d8fHRoaXMsYz1zJiZhW3R5cGVvZiB0XSYmdCYmIXQubm9kZVR5cGUmJlwib2JqZWN0XCI9PXR5cGVvZiByJiZyO2Z1bmN0aW9uIGYodCxlKXt0fHwodD11Lk9iamVjdCgpKSxlfHwoZT11Lk9iamVjdCgpKTt2YXIgbj10Lk51bWJlcnx8dS5OdW1iZXIscj10LlN0cmluZ3x8dS5TdHJpbmcsaT10Lk9iamVjdHx8dS5PYmplY3Qsbz10LkRhdGV8fHUuRGF0ZSxzPXQuU3ludGF4RXJyb3J8fHUuU3ludGF4RXJyb3IsYz10LlR5cGVFcnJvcnx8dS5UeXBlRXJyb3IsbD10Lk1hdGh8fHUuTWF0aCxoPXQuSlNPTnx8dS5KU09OO1wib2JqZWN0XCI9PXR5cGVvZiBoJiZoJiYoZS5zdHJpbmdpZnk9aC5zdHJpbmdpZnksZS5wYXJzZT1oLnBhcnNlKTt2YXIgcD1pLnByb3RvdHlwZSxkPXAudG9TdHJpbmcseT1wLmhhc093blByb3BlcnR5O2Z1bmN0aW9uIHYodCxlKXt0cnl7dCgpfWNhdGNoKHQpe2UmJmUoKX19dmFyIGc9bmV3IG8oLTB4Yzc4MmI1YjgwMGNlYyk7ZnVuY3Rpb24gYih0KXtpZihudWxsIT1iW3RdKXJldHVybiBiW3RdO3ZhciBpO2lmKFwiYnVnLXN0cmluZy1jaGFyLWluZGV4XCI9PXQpaT1cImFcIiE9XCJhXCJbMF07ZWxzZSBpZihcImpzb25cIj09dClpPWIoXCJqc29uLXN0cmluZ2lmeVwiKSYmYihcImRhdGUtc2VyaWFsaXphdGlvblwiKSYmYihcImpzb24tcGFyc2VcIik7ZWxzZSBpZihcImRhdGUtc2VyaWFsaXphdGlvblwiPT10KXtpZihpPWIoXCJqc29uLXN0cmluZ2lmeVwiKSYmZyl7dmFyIGE9ZS5zdHJpbmdpZnk7digoZnVuY3Rpb24oKXtpPSdcIi0yNzE4MjEtMDQtMjBUMDA6MDA6MDAuMDAwWlwiJz09YShuZXcgbygtODY0ZTEzKSkmJidcIisyNzU3NjAtMDktMTNUMDA6MDA6MDAuMDAwWlwiJz09YShuZXcgbyg4NjRlMTMpKSYmJ1wiLTAwMDAwMS0wMS0wMVQwMDowMDowMC4wMDBaXCInPT1hKG5ldyBvKC02MjE5ODc1NTJlNSkpJiYnXCIxOTY5LTEyLTMxVDIzOjU5OjU5Ljk5OVpcIic9PWEobmV3IG8oLTEpKX0pKX19ZWxzZXt2YXIgcyx1PSd7XCJhXCI6WzEsdHJ1ZSxmYWxzZSxudWxsLFwiXFxcXHUwMDAwXFxcXGJcXFxcblxcXFxmXFxcXHJcXFxcdFwiXX0nO2lmKFwianNvbi1zdHJpbmdpZnlcIj09dCl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YoYT1lLnN0cmluZ2lmeSk7YyYmKChzPWZ1bmN0aW9uKCl7cmV0dXJuIDF9KS50b0pTT049cyx2KChmdW5jdGlvbigpe2M9XCIwXCI9PT1hKDApJiZcIjBcIj09PWEobmV3IG4pJiYnXCJcIic9PWEobmV3IHIpJiZ2b2lkIDA9PT1hKGQpJiZ2b2lkIDA9PT1hKHZvaWQgMCkmJnZvaWQgMD09PWEoKSYmXCIxXCI9PT1hKHMpJiZcIlsxXVwiPT1hKFtzXSkmJlwiW251bGxdXCI9PWEoW3ZvaWQgMF0pJiZcIm51bGxcIj09YShudWxsKSYmXCJbbnVsbCxudWxsLG51bGxdXCI9PWEoW3ZvaWQgMCxkLG51bGxdKSYmYSh7YTpbcywhMCwhMSxudWxsLFwiXFwwXFxiXFxuXFxmXFxyXFx0XCJdfSk9PXUmJlwiMVwiPT09YShudWxsLHMpJiZcIltcXG4gMSxcXG4gMlxcbl1cIj09YShbMSwyXSxudWxsLDEpfSksKGZ1bmN0aW9uKCl7Yz0hMX0pKSksaT1jfWlmKFwianNvbi1wYXJzZVwiPT10KXt2YXIgZixsPWUucGFyc2U7XCJmdW5jdGlvblwiPT10eXBlb2YgbCYmdigoZnVuY3Rpb24oKXswIT09bChcIjBcIil8fGwoITEpfHwocz1sKHUpLChmPTU9PXMuYS5sZW5ndGgmJjE9PT1zLmFbMF0pJiYodigoZnVuY3Rpb24oKXtmPSFsKCdcIlxcdFwiJyl9KSksZiYmdigoZnVuY3Rpb24oKXtmPTEhPT1sKFwiMDFcIil9KSksZiYmdigoZnVuY3Rpb24oKXtmPTEhPT1sKFwiMS5cIil9KSkpKX0pLChmdW5jdGlvbigpe2Y9ITF9KSksaT1mfX1yZXR1cm4gYlt0XT0hIWl9aWYodigoZnVuY3Rpb24oKXtnPS0xMDkyNTI9PWcuZ2V0VVRDRnVsbFllYXIoKSYmMD09PWcuZ2V0VVRDTW9udGgoKSYmMT09PWcuZ2V0VVRDRGF0ZSgpJiYxMD09Zy5nZXRVVENIb3VycygpJiYzNz09Zy5nZXRVVENNaW51dGVzKCkmJjY9PWcuZ2V0VVRDU2Vjb25kcygpJiY3MDg9PWcuZ2V0VVRDTWlsbGlzZWNvbmRzKCl9KSksYltcImJ1Zy1zdHJpbmctY2hhci1pbmRleFwiXT1iW1wiZGF0ZS1zZXJpYWxpemF0aW9uXCJdPWIuanNvbj1iW1wianNvbi1zdHJpbmdpZnlcIl09YltcImpzb24tcGFyc2VcIl09bnVsbCwhYihcImpzb25cIikpe3ZhciBtPWIoXCJidWctc3RyaW5nLWNoYXItaW5kZXhcIiksdz1mdW5jdGlvbih0LGUpe3ZhciBuLHIsaSxvPTA7Zm9yKGkgaW4obj1mdW5jdGlvbigpe3RoaXMudmFsdWVPZj0wfSkucHJvdG90eXBlLnZhbHVlT2Y9MCxyPW5ldyBuKXkuY2FsbChyLGkpJiZvKys7cmV0dXJuIG49cj1udWxsLG8/dz1mdW5jdGlvbih0LGUpe3ZhciBuLHIsaT1cIltvYmplY3QgRnVuY3Rpb25dXCI9PWQuY2FsbCh0KTtmb3IobiBpbiB0KWkmJlwicHJvdG90eXBlXCI9PW58fCF5LmNhbGwodCxuKXx8KHI9XCJjb25zdHJ1Y3RvclwiPT09bil8fGUobik7KHJ8fHkuY2FsbCh0LG49XCJjb25zdHJ1Y3RvclwiKSkmJmUobil9OihyPVtcInZhbHVlT2ZcIixcInRvU3RyaW5nXCIsXCJ0b0xvY2FsZVN0cmluZ1wiLFwicHJvcGVydHlJc0VudW1lcmFibGVcIixcImlzUHJvdG90eXBlT2ZcIixcImhhc093blByb3BlcnR5XCIsXCJjb25zdHJ1Y3RvclwiXSx3PWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxvPVwiW29iamVjdCBGdW5jdGlvbl1cIj09ZC5jYWxsKHQpLHM9IW8mJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuY29uc3RydWN0b3ImJmFbdHlwZW9mIHQuaGFzT3duUHJvcGVydHldJiZ0Lmhhc093blByb3BlcnR5fHx5O2ZvcihuIGluIHQpbyYmXCJwcm90b3R5cGVcIj09bnx8IXMuY2FsbCh0LG4pfHxlKG4pO2ZvcihpPXIubGVuZ3RoO249clstLWldOylzLmNhbGwodCxuKSYmZShuKX0pLHcodCxlKX07aWYoIWIoXCJqc29uLXN0cmluZ2lmeVwiKSYmIWIoXCJkYXRlLXNlcmlhbGl6YXRpb25cIikpe3ZhciBFPXs5MjpcIlxcXFxcXFxcXCIsMzQ6J1xcXFxcIicsODpcIlxcXFxiXCIsMTI6XCJcXFxcZlwiLDEwOlwiXFxcXG5cIiwxMzpcIlxcXFxyXCIsOTpcIlxcXFx0XCJ9LHg9ZnVuY3Rpb24odCxlKXtyZXR1cm4oXCIwMDAwMDBcIisoZXx8MCkpLnNsaWNlKC10KX0sTz1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyx1LGM7aWYoZyllPWZ1bmN0aW9uKHQpe249dC5nZXRVVENGdWxsWWVhcigpLHI9dC5nZXRVVENNb250aCgpLGk9dC5nZXRVVENEYXRlKCksYT10LmdldFVUQ0hvdXJzKCkscz10LmdldFVUQ01pbnV0ZXMoKSx1PXQuZ2V0VVRDU2Vjb25kcygpLGM9dC5nZXRVVENNaWxsaXNlY29uZHMoKX07ZWxzZXt2YXIgZj1sLmZsb29yLGg9WzAsMzEsNTksOTAsMTIwLDE1MSwxODEsMjEyLDI0MywyNzMsMzA0LDMzNF0scD1mdW5jdGlvbih0LGUpe3JldHVybiBoW2VdKzM2NSoodC0xOTcwKStmKCh0LTE5NjkrKGU9KyhlPjEpKSkvNCktZigodC0xOTAxK2UpLzEwMCkrZigodC0xNjAxK2UpLzQwMCl9O2U9ZnVuY3Rpb24odCl7Zm9yKGk9Zih0Lzg2NGU1KSxuPWYoaS8zNjUuMjQyNSkrMTk3MC0xO3AobisxLDApPD1pO24rKyk7Zm9yKHI9ZigoaS1wKG4sMCkpLzMwLjQyKTtwKG4scisxKTw9aTtyKyspO2k9MStpLXAobixyKSxhPWYoKG89KHQlODY0ZTUrODY0ZTUpJTg2NGU1KS8zNmU1KSUyNCxzPWYoby82ZTQpJTYwLHU9ZihvLzFlMyklNjAsYz1vJTFlM319cmV0dXJuKE89ZnVuY3Rpb24odCl7cmV0dXJuIHQ+LTEvMCYmdDwxLzA/KGUodCksdD0objw9MHx8bj49MWU0PyhuPDA/XCItXCI6XCIrXCIpK3goNixuPDA/LW46bik6eCg0LG4pKStcIi1cIit4KDIscisxKStcIi1cIit4KDIsaSkrXCJUXCIreCgyLGEpK1wiOlwiK3goMixzKStcIjpcIit4KDIsdSkrXCIuXCIreCgzLGMpK1wiWlwiLG49cj1pPWE9cz11PWM9bnVsbCk6dD1udWxsLHR9KSh0KX07aWYoYihcImpzb24tc3RyaW5naWZ5XCIpJiYhYihcImRhdGUtc2VyaWFsaXphdGlvblwiKSl7ZnVuY3Rpb24gVCh0KXtyZXR1cm4gTyh0aGlzKX12YXIgUz1lLnN0cmluZ2lmeTtlLnN0cmluZ2lmeT1mdW5jdGlvbih0LGUsbil7dmFyIHI9by5wcm90b3R5cGUudG9KU09OO28ucHJvdG90eXBlLnRvSlNPTj1UO3ZhciBpPVModCxlLG4pO3JldHVybiBvLnByb3RvdHlwZS50b0pTT049cixpfX1lbHNle3ZhciBrPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY2hhckNvZGVBdCgwKSxuPUVbZV07cmV0dXJuIG58fFwiXFxcXHUwMFwiK3goMixlLnRvU3RyaW5nKDE2KSl9LF89L1tcXHgwMC1cXHgxZlxceDIyXFx4NWNdL2csaj1mdW5jdGlvbih0KXtyZXR1cm4gXy5sYXN0SW5kZXg9MCwnXCInKyhfLnRlc3QodCk/dC5yZXBsYWNlKF8sayk6dCkrJ1wiJ30sQT1mdW5jdGlvbih0LGUsbixyLGksYSxzKXt2YXIgdSxmLGwsaCxwLHksZyxiLG07aWYodigoZnVuY3Rpb24oKXt1PWVbdF19KSksXCJvYmplY3RcIj09dHlwZW9mIHUmJnUmJih1LmdldFVUQ0Z1bGxZZWFyJiZcIltvYmplY3QgRGF0ZV1cIj09ZC5jYWxsKHUpJiZ1LnRvSlNPTj09PW8ucHJvdG90eXBlLnRvSlNPTj91PU8odSk6XCJmdW5jdGlvblwiPT10eXBlb2YgdS50b0pTT04mJih1PXUudG9KU09OKHQpKSksbiYmKHU9bi5jYWxsKGUsdCx1KSksdm9pZCAwPT11KXJldHVybiB2b2lkIDA9PT11P3U6XCJudWxsXCI7c3dpdGNoKFwib2JqZWN0XCI9PShmPXR5cGVvZiB1KSYmKGw9ZC5jYWxsKHUpKSxsfHxmKXtjYXNlXCJib29sZWFuXCI6Y2FzZVwiW29iamVjdCBCb29sZWFuXVwiOnJldHVyblwiXCIrdTtjYXNlXCJudW1iZXJcIjpjYXNlXCJbb2JqZWN0IE51bWJlcl1cIjpyZXR1cm4gdT4tMS8wJiZ1PDEvMD9cIlwiK3U6XCJudWxsXCI7Y2FzZVwic3RyaW5nXCI6Y2FzZVwiW29iamVjdCBTdHJpbmddXCI6cmV0dXJuIGooXCJcIit1KX1pZihcIm9iamVjdFwiPT10eXBlb2YgdSl7Zm9yKGc9cy5sZW5ndGg7Zy0tOylpZihzW2ddPT09dSl0aHJvdyBjKCk7aWYocy5wdXNoKHUpLGg9W10sYj1hLGErPWksXCJbb2JqZWN0IEFycmF5XVwiPT1sKXtmb3IoeT0wLGc9dS5sZW5ndGg7eTxnO3krKylwPUEoeSx1LG4scixpLGEscyksaC5wdXNoKHZvaWQgMD09PXA/XCJudWxsXCI6cCk7bT1oLmxlbmd0aD9pP1wiW1xcblwiK2EraC5qb2luKFwiLFxcblwiK2EpK1wiXFxuXCIrYitcIl1cIjpcIltcIitoLmpvaW4oXCIsXCIpK1wiXVwiOlwiW11cIn1lbHNlIHcocnx8dSwoZnVuY3Rpb24odCl7dmFyIGU9QSh0LHUsbixyLGksYSxzKTt2b2lkIDAhPT1lJiZoLnB1c2goaih0KStcIjpcIisoaT9cIiBcIjpcIlwiKStlKX0pKSxtPWgubGVuZ3RoP2k/XCJ7XFxuXCIrYStoLmpvaW4oXCIsXFxuXCIrYSkrXCJcXG5cIitiK1wifVwiOlwie1wiK2guam9pbihcIixcIikrXCJ9XCI6XCJ7fVwiO3JldHVybiBzLnBvcCgpLG19fTtlLnN0cmluZ2lmeT1mdW5jdGlvbih0LGUsbil7dmFyIHIsaSxvLHM7aWYoYVt0eXBlb2YgZV0mJmUpaWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT0ocz1kLmNhbGwoZSkpKWk9ZTtlbHNlIGlmKFwiW29iamVjdCBBcnJheV1cIj09cyl7bz17fTtmb3IodmFyIHUsYz0wLGY9ZS5sZW5ndGg7YzxmOyl1PWVbYysrXSxcIltvYmplY3QgU3RyaW5nXVwiIT0ocz1kLmNhbGwodSkpJiZcIltvYmplY3QgTnVtYmVyXVwiIT1zfHwob1t1XT0xKX1pZihuKWlmKFwiW29iamVjdCBOdW1iZXJdXCI9PShzPWQuY2FsbChuKSkpe2lmKChuLT1uJTEpPjApZm9yKG4+MTAmJihuPTEwKSxyPVwiXCI7ci5sZW5ndGg8bjspcis9XCIgXCJ9ZWxzZVwiW29iamVjdCBTdHJpbmddXCI9PXMmJihyPW4ubGVuZ3RoPD0xMD9uOm4uc2xpY2UoMCwxMCkpO3JldHVybiBBKFwiXCIsKCh1PXt9KVtcIlwiXT10LHUpLGksbyxyLFwiXCIsW10pfX19aWYoIWIoXCJqc29uLXBhcnNlXCIpKXt2YXIgSSxDLFA9ci5mcm9tQ2hhckNvZGUsUj17OTI6XCJcXFxcXCIsMzQ6J1wiJyw0NzpcIi9cIiw5ODpcIlxcYlwiLDExNjpcIlxcdFwiLDExMDpcIlxcblwiLDEwMjpcIlxcZlwiLDExNDpcIlxcclwifSxMPWZ1bmN0aW9uKCl7dGhyb3cgST1DPW51bGwscygpfSxOPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LGUsbixyLGksbz1DLGE9by5sZW5ndGg7STxhOylzd2l0Y2goaT1vLmNoYXJDb2RlQXQoSSkpe2Nhc2UgOTpjYXNlIDEwOmNhc2UgMTM6Y2FzZSAzMjpJKys7YnJlYWs7Y2FzZSAxMjM6Y2FzZSAxMjU6Y2FzZSA5MTpjYXNlIDkzOmNhc2UgNTg6Y2FzZSA0NDpyZXR1cm4gdD1tP28uY2hhckF0KEkpOm9bSV0sSSsrLHQ7Y2FzZSAzNDpmb3IodD1cIkBcIixJKys7STxhOylpZigoaT1vLmNoYXJDb2RlQXQoSSkpPDMyKUwoKTtlbHNlIGlmKDkyPT1pKXN3aXRjaChpPW8uY2hhckNvZGVBdCgrK0kpKXtjYXNlIDkyOmNhc2UgMzQ6Y2FzZSA0NzpjYXNlIDk4OmNhc2UgMTE2OmNhc2UgMTEwOmNhc2UgMTAyOmNhc2UgMTE0OnQrPVJbaV0sSSsrO2JyZWFrO2Nhc2UgMTE3OmZvcihlPSsrSSxuPUkrNDtJPG47SSsrKShpPW8uY2hhckNvZGVBdChJKSk+PTQ4JiZpPD01N3x8aT49OTcmJmk8PTEwMnx8aT49NjUmJmk8PTcwfHxMKCk7dCs9UChcIjB4XCIrby5zbGljZShlLEkpKTticmVhaztkZWZhdWx0OkwoKX1lbHNle2lmKDM0PT1pKWJyZWFrO2ZvcihpPW8uY2hhckNvZGVBdChJKSxlPUk7aT49MzImJjkyIT1pJiYzNCE9aTspaT1vLmNoYXJDb2RlQXQoKytJKTt0Kz1vLnNsaWNlKGUsSSl9aWYoMzQ9PW8uY2hhckNvZGVBdChJKSlyZXR1cm4gSSsrLHQ7TCgpO2RlZmF1bHQ6aWYoZT1JLDQ1PT1pJiYocj0hMCxpPW8uY2hhckNvZGVBdCgrK0kpKSxpPj00OCYmaTw9NTcpe2Zvcig0OD09aSYmKChpPW8uY2hhckNvZGVBdChJKzEpKT49NDgmJmk8PTU3KSYmTCgpLHI9ITE7STxhJiYoKGk9by5jaGFyQ29kZUF0KEkpKT49NDgmJmk8PTU3KTtJKyspO2lmKDQ2PT1vLmNoYXJDb2RlQXQoSSkpe2ZvcihuPSsrSTtuPGEmJiEoKGk9by5jaGFyQ29kZUF0KG4pKTw0OHx8aT41Nyk7bisrKTtuPT1JJiZMKCksST1ufWlmKDEwMT09KGk9by5jaGFyQ29kZUF0KEkpKXx8Njk9PWkpe2Zvcig0MyE9KGk9by5jaGFyQ29kZUF0KCsrSSkpJiY0NSE9aXx8SSsrLG49STtuPGEmJiEoKGk9by5jaGFyQ29kZUF0KG4pKTw0OHx8aT41Nyk7bisrKTtuPT1JJiZMKCksST1ufXJldHVybitvLnNsaWNlKGUsSSl9ciYmTCgpO3ZhciBzPW8uc2xpY2UoSSxJKzQpO2lmKFwidHJ1ZVwiPT1zKXJldHVybiBJKz00LCEwO2lmKFwiZmFsc1wiPT1zJiYxMDE9PW8uY2hhckNvZGVBdChJKzQpKXJldHVybiBJKz01LCExO2lmKFwibnVsbFwiPT1zKXJldHVybiBJKz00LG51bGw7TCgpfXJldHVyblwiJFwifSxEPWZ1bmN0aW9uKHQpe3ZhciBlLG47aWYoXCIkXCI9PXQmJkwoKSxcInN0cmluZ1wiPT10eXBlb2YgdCl7aWYoXCJAXCI9PShtP3QuY2hhckF0KDApOnRbMF0pKXJldHVybiB0LnNsaWNlKDEpO2lmKFwiW1wiPT10KXtmb3IoZT1bXTtcIl1cIiE9KHQ9TigpKTspbj9cIixcIj09dD9cIl1cIj09KHQ9TigpKSYmTCgpOkwoKTpuPSEwLFwiLFwiPT10JiZMKCksZS5wdXNoKEQodCkpO3JldHVybiBlfWlmKFwie1wiPT10KXtmb3IoZT17fTtcIn1cIiE9KHQ9TigpKTspbj9cIixcIj09dD9cIn1cIj09KHQ9TigpKSYmTCgpOkwoKTpuPSEwLFwiLFwiIT10JiZcInN0cmluZ1wiPT10eXBlb2YgdCYmXCJAXCI9PShtP3QuY2hhckF0KDApOnRbMF0pJiZcIjpcIj09TigpfHxMKCksZVt0LnNsaWNlKDEpXT1EKE4oKSk7cmV0dXJuIGV9TCgpfXJldHVybiB0fSxVPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1NKHQsZSxuKTt2b2lkIDA9PT1yP2RlbGV0ZSB0W2VdOnRbZV09cn0sTT1mdW5jdGlvbih0LGUsbil7dmFyIHIsaT10W2VdO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBpJiZpKWlmKFwiW29iamVjdCBBcnJheV1cIj09ZC5jYWxsKGkpKWZvcihyPWkubGVuZ3RoO3ItLTspVShkLHcsaSk7ZWxzZSB3KGksKGZ1bmN0aW9uKHQpe1UoaSx0LG4pfSkpO3JldHVybiBuLmNhbGwodCxlLGkpfTtlLnBhcnNlPWZ1bmN0aW9uKHQsZSl7dmFyIG4scjtyZXR1cm4gST0wLEM9XCJcIit0LG49RChOKCkpLFwiJFwiIT1OKCkmJkwoKSxJPUM9bnVsbCxlJiZcIltvYmplY3QgRnVuY3Rpb25dXCI9PWQuY2FsbChlKT9NKCgocj17fSlbXCJcIl09bixyKSxcIlwiLGUpOm59fX1yZXR1cm4gZS5ydW5JbkNvbnRleHQ9ZixlfWlmKCFjfHxjLmdsb2JhbCE9PWMmJmMud2luZG93IT09YyYmYy5zZWxmIT09Y3x8KHU9YykscyYmIW8pZih1LHMpO2Vsc2V7dmFyIGw9dS5KU09OLGg9dS5KU09OMyxwPSExLGQ9Zih1LHUuSlNPTjM9e25vQ29uZmxpY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gcHx8KHA9ITAsdS5KU09OPWwsdS5KU09OMz1oLGw9aD1udWxsKSxkfX0pO3UuSlNPTj17cGFyc2U6ZC5wYXJzZSxzdHJpbmdpZnk6ZC5zdHJpbmdpZnl9fW8mJih2b2lkIDA9PT0oaT1mdW5jdGlvbigpe3JldHVybiBkfS5jYWxsKGUsbixlLHQpKXx8KHQuZXhwb3J0cz1pKSl9KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLG4oMTI0KSh0KSxuKDYpKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPS9eaHR0cHM/OlxcL1xcLy87ZS5hPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10fHxyLnRlc3QodCk/dDpcImh0dHBzOi8vXCIuY29uY2F0KHQpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24uZChlLFwiY1wiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZChlLFwiYlwiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBhfSkpO24oMTQpLG4oOSksbigyNSksbigxMjUpLG4oMjEpLG4oMjYpO3ZhciByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuKXtzZXRUaW1lb3V0KChmdW5jdGlvbigpe24oZSl9KSx0KX0pKX07ZnVuY3Rpb24gaSh0KXtyZXR1cm5cInN0cmluZ1wiPT09dHlwZW9mIHR8fHQgaW5zdGFuY2VvZiBTdHJpbmd9ZnVuY3Rpb24gbyh0LGUpe3ZhciBuPWUuZXhlYyh0KTtyZXR1cm4gbj9wYXJzZUludChuWzFdKTpudWxsfWZ1bmN0aW9uIGEodCl7dmFyIGU9ZnVuY3Rpb24odCl7cmV0dXJuIG8odCwvI0VYVC1YLVRBUkdFVERVUkFUSU9OOihcXGQrKS9nKX0odCk7cmV0dXJuIGUmJihlPWUvMioxZTMpLGV9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtzZXRUaW1lb3V0KChmdW5jdGlvbigpe3Rocm93IHR9KSwwKX1uLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZChlLFwiYlwiLChmdW5jdGlvbigpe3JldHVybiBsfSkpO24oNzkpO2Z1bmN0aW9uIHIodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fWZ1bmN0aW9uIGkodCxlLG4pe3JldHVybiBlJiZyKHQucHJvdG90eXBlLGUpLG4mJnIodCxuKSx0fWZ1bmN0aW9uIG8odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXZhciBhPVwiSU5HRVNUXCIscz1cIlBFRVJcIix1PWZ1bmN0aW9uIHQoZSxuLHIpe28odGhpcyx0KSxPYmplY3QuYXNzaWduKHRoaXMse2lkOmUscG9zOm4sc2l6ZUJ5dGVzOnJ9KX0sYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuLHIsaSxhLHMsdSxjKXtvKHRoaXMsdCksdGhpcy50eXBlPWUsdGhpcy5ub2RlSWQ9bix0aGlzLnRlbmFudElkPXIsaSYmKHRoaXMuc291cmNlSWQ9aSksdGhpcy5jb250ZW50SWQ9YSx0aGlzLm9iamVjdElkPXMsdGhpcy50aW1lc3RhbXA9TWF0aC5mbG9vcih1KSx0aGlzLnJlcXVlc3RTdGFydD1NYXRoLmZsb29yKGMpfXJldHVybiBpKHQsW3trZXk6XCJzdGFydExvYWRpbmdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMubG9hZEluaXQ9TWF0aC5mbG9vcih0KSx0aGlzLnNvdXJjZUlkPXRoaXMuc291cmNlSWR8fGV9fSx7a2V5OlwiZmFpbFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt0aGlzLmxvYWRJbml0fHwodGhpcy5sb2FkSW5pdD0wKSxlJiYodGhpcy5zb3VyY2VJZD1lKSx0aGlzLmNvbXBvbmVudD1uZXcgdShcInBheWxvYWRcIiwwLDApLHRoaXMuc3RhdHVzPSExLHRoaXMuc3RhdHVzQ29kZT1ufHw1MDAsdGhpcy5yZXF1ZXN0RW5kPU1hdGguZmxvb3IodCl9fSx7a2V5Olwic3RvcFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5yZXF1ZXN0RW5kPU1hdGguZmxvb3IodCksdGhpcy5jb21wb25lbnQ9bmV3IHUoXCJwYXlsb2FkXCIsMCxlKSx0aGlzLnN0YXR1c0NvZGU9MjAwLHRoaXMuc3RhdHVzPSEwfX1dKSx0fSgpO2Z1bmN0aW9uIGYodCxlLG4scixpLG8pe3JldHVybiBuZXcgYyhzLHQsZSxuLHIsaSxEYXRlLm5vdygpLG8pfWZ1bmN0aW9uIGwodCxlLG4scixpLG8pe3JldHVybiBuZXcgYyhhLHQsZSxuLHIsaSxEYXRlLm5vdygpLG8pfXZhciBoPW5ldyhmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtvKHRoaXMsdCksdGhpcy5maXJzdFJlcXVlc3RUaW1lPW51bGwsdGhpcy5wZWVyUmVxdWVzdHM9W10sdGhpcy5zb3VyY2VSZXF1ZXN0cz1bXX1yZXR1cm4gaSh0LFt7a2V5OlwiY2xlYXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGVlclJlcXVlc3RzPVtdLHRoaXMuc291cmNlUmVxdWVzdHM9W119fSx7a2V5OlwiYWRkUGVlclJlcXVlc3RcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmZpcnN0UmVxdWVzdFRpbWV8fCh0aGlzLmZpcnN0UmVxdWVzdFRpbWU9dC50aW1lc3RhbXApLHRoaXMucGVlclJlcXVlc3RzLnB1c2godCl9fSx7a2V5OlwiYWRkU291cmNlUmVxdWVzdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZmlyc3RSZXF1ZXN0VGltZXx8KHRoaXMuZmlyc3RSZXF1ZXN0VGltZT10LnRpbWVzdGFtcCksdGhpcy5zb3VyY2VSZXF1ZXN0cy5wdXNoKHQpfX1dKSx0fSgpKTtlLmM9aH0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTYpLGk9bigxNDIpLG89big2NCksYT1uKDQxKSxzPW4oOTIpLHU9bigxOSksYz1uKDE4NCksZj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2UuZj1yP2Y6ZnVuY3Rpb24odCxlKXtpZih0PWEodCksZT1zKGUsITApLGMpdHJ5e3JldHVybiBmKHQsZSl9Y2F0Y2godCl7fWlmKHUodCxlKSlyZXR1cm4gbyghaS5mLmNhbGwodCxlKSx0W2VdKX19LGZ1bmN0aW9uKHQsZSl7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuLmNhbGwodCkuc2xpY2UoOCwtMSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxODcpLGk9big0KSxvPWZ1bmN0aW9uKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDp2b2lkIDB9O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDI/byhyW3RdKXx8byhpW3RdKTpyW3RdJiZyW3RdW2VdfHxpW3RdJiZpW3RdW2VdfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjQpLmYsaT1uKDE5KSxvPW4oNykoXCJ0b1N0cmluZ1RhZ1wiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3QmJiFpKHQ9bj90OnQucHJvdG90eXBlLG8pJiZyKHQsbyx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOmV9KX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDIpLGk9bigzKSxvPW4oMTExKSxhPW4oMTEpLHM9bigzNiksdT1uKDIwKSxjPW4oMTE2KSxmPW4oMTk1KSxsPW4oMTE3KSxoPW4oNykscD1uKDE1OSksZD1oKFwiaXNDb25jYXRTcHJlYWRhYmxlXCIpLHk9cD49NTF8fCFpKChmdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0W2RdPSExLHQuY29uY2F0KClbMF0hPT10fSkpLHY9bChcImNvbmNhdFwiKSxnPWZ1bmN0aW9uKHQpe2lmKCFhKHQpKXJldHVybiExO3ZhciBlPXRbZF07cmV0dXJuIHZvaWQgMCE9PWU/ISFlOm8odCl9O3Ioe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOiF5fHwhdn0se2NvbmNhdDpmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGE9cyh0aGlzKSxsPWYoYSwwKSxoPTA7Zm9yKGU9LTEscj1hcmd1bWVudHMubGVuZ3RoO2U8cjtlKyspaWYobz0tMT09PWU/YTphcmd1bWVudHNbZV0sZyhvKSl7aWYoaCsoaT11KG8ubGVuZ3RoKSk+OTAwNzE5OTI1NDc0MDk5MSl0aHJvdyBUeXBlRXJyb3IoXCJNYXhpbXVtIGFsbG93ZWQgaW5kZXggZXhjZWVkZWRcIik7Zm9yKG49MDtuPGk7bisrLGgrKyluIGluIG8mJmMobCxoLG9bbl0pfWVsc2V7aWYoaD49OTAwNzE5OTI1NDc0MDk5MSl0aHJvdyBUeXBlRXJyb3IoXCJNYXhpbXVtIGFsbG93ZWQgaW5kZXggZXhjZWVkZWRcIik7YyhsLGgrKyxvKX1yZXR1cm4gbC5sZW5ndGg9aCxsfX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyKSxpPW4oMzcpLm1hcCxvPW4oMTE3KSxhPW4oNDkpLHM9byhcIm1hcFwiKSx1PWEoXCJtYXBcIik7cih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IXN8fCF1fSx7bWFwOmZ1bmN0aW9uKHQpe3JldHVybiBpKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7dmFyIHI9big4MiksaT17fSxvPSExLGE9ZS5jaHJvbWUmJmUuY2hyb21lLmFwcCYmZS5jaHJvbWUuYXBwLnJ1bnRpbWU7dC5leHBvcnRzPXthdHRhY2hFdmVudDpmdW5jdGlvbih0LG4pe1widW5kZWZpbmVkXCIhPT10eXBlb2YgZS5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcih0LG4sITEpOmUuZG9jdW1lbnQmJmUuYXR0YWNoRXZlbnQmJihlLmRvY3VtZW50LmF0dGFjaEV2ZW50KFwib25cIit0LG4pLGUuYXR0YWNoRXZlbnQoXCJvblwiK3QsbikpfSxkZXRhY2hFdmVudDpmdW5jdGlvbih0LG4pe1widW5kZWZpbmVkXCIhPT10eXBlb2YgZS5hZGRFdmVudExpc3RlbmVyP2UucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4sITEpOmUuZG9jdW1lbnQmJmUuZGV0YWNoRXZlbnQmJihlLmRvY3VtZW50LmRldGFjaEV2ZW50KFwib25cIit0LG4pLGUuZGV0YWNoRXZlbnQoXCJvblwiK3QsbikpfSx1bmxvYWRBZGQ6ZnVuY3Rpb24odCl7aWYoYSlyZXR1cm4gbnVsbDt2YXIgZT1yLnN0cmluZyg4KTtyZXR1cm4gaVtlXT10LG8mJnNldFRpbWVvdXQodGhpcy50cmlnZ2VyVW5sb2FkQ2FsbGJhY2tzLDApLGV9LHVubG9hZERlbDpmdW5jdGlvbih0KXt0IGluIGkmJmRlbGV0ZSBpW3RdfSx0cmlnZ2VyVW5sb2FkQ2FsbGJhY2tzOmZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIGkpaVt0XSgpLGRlbGV0ZSBpW3RdfX07YXx8dC5leHBvcnRzLmF0dGFjaEV2ZW50KFwidW5sb2FkXCIsKGZ1bmN0aW9uKCl7b3x8KG89ITAsdC5leHBvcnRzLnRyaWdnZXJVbmxvYWRDYWxsYmFja3MoKSl9KSl9KS5jYWxsKHRoaXMsbig2KSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI3MiksaT1uKDIwNCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1lJiZufHwwO1wic3RyaW5nXCI9PXR5cGVvZiB0JiYoZT1cImJpbmFyeVwiPT09dD9uZXcgQXJyYXkoMTYpOm51bGwsdD1udWxsKTt2YXIgYT0odD10fHx7fSkucmFuZG9tfHwodC5ybmd8fHIpKCk7aWYoYVs2XT0xNSZhWzZdfDY0LGFbOF09NjMmYVs4XXwxMjgsZSlmb3IodmFyIHM9MDtzPDE2OysrcyllW28rc109YVtzXTtyZXR1cm4gZXx8aShhKX19LGZ1bmN0aW9uKHQsZSxuKXshZnVuY3Rpb24oZSxuKXt2YXIgcj17dmVyc2lvbjpcIjIuMTAuMFwiLGFyZWFzOnt9LGFwaXM6e30saW5oZXJpdDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiB0KWUuaGFzT3duUHJvcGVydHkobil8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pKTtyZXR1cm4gZX0sc3RyaW5naWZ5OmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10fHxcImZ1bmN0aW9uXCI9PT10eXBlb2YgdD90K1wiXCI6SlNPTi5zdHJpbmdpZnkodCl9LHBhcnNlOmZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZSh0KX1jYXRjaChlKXtyZXR1cm4gdH19LGZuOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIHIuc3RvcmVBUElbdF09ZSxyLmFwaXMpci5hcGlzW25dW3RdPWV9LGdldDpmdW5jdGlvbih0LGUpe3JldHVybiB0LmdldEl0ZW0oZSl9LHNldDpmdW5jdGlvbih0LGUsbil7dC5zZXRJdGVtKGUsbil9LHJlbW92ZTpmdW5jdGlvbih0LGUpe3QucmVtb3ZlSXRlbShlKX0sa2V5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQua2V5KGUpfSxsZW5ndGg6ZnVuY3Rpb24odCl7cmV0dXJuIHQubGVuZ3RofSxjbGVhcjpmdW5jdGlvbih0KXt0LmNsZWFyKCl9LFN0b3JlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1yLmluaGVyaXQoci5zdG9yZUFQSSwoZnVuY3Rpb24odCxlLG4pe3JldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD9pLmdldEFsbCgpOlwiZnVuY3Rpb25cIj09PXR5cGVvZiBlP2kudHJhbnNhY3QodCxlLG4pOnZvaWQgMCE9PWU/aS5zZXQodCxlLG4pOlwic3RyaW5nXCI9PT10eXBlb2YgdHx8XCJudW1iZXJcIj09PXR5cGVvZiB0P2kuZ2V0KHQpOlwiZnVuY3Rpb25cIj09PXR5cGVvZiB0P2kuZWFjaCh0KTp0P2kuc2V0QWxsKHQsZSk6aS5jbGVhcigpfSkpO2kuX2lkPXQ7dHJ5e2Uuc2V0SXRlbShcIl8tYmFkLV9cIixcIndvbGZcIiksaS5fYXJlYT1lLGUucmVtb3ZlSXRlbShcIl8tYmFkLV9cIil9Y2F0Y2godCl7fXJldHVybiBpLl9hcmVhfHwoaS5fYXJlYT1yLnN0b3JhZ2UoXCJmYWtlXCIpKSxpLl9ucz1ufHxcIlwiLHIuYXJlYXNbdF18fChyLmFyZWFzW3RdPWkuX2FyZWEpLHIuYXBpc1tpLl9ucytpLl9pZF18fChyLmFwaXNbaS5fbnMraS5faWRdPWkpLGl9LHN0b3JlQVBJOnthcmVhOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpc1t0XTtyZXR1cm4gbiYmbi5hcmVhfHwobj1yLlN0b3JlKHQsZSx0aGlzLl9ucyksdGhpc1t0XXx8KHRoaXNbdF09bikpLG59LG5hbWVzcGFjZTpmdW5jdGlvbih0LGUpe2lmKCF0KXJldHVybiB0aGlzLl9ucz90aGlzLl9ucy5zdWJzdHJpbmcoMCx0aGlzLl9ucy5sZW5ndGgtMSk6XCJcIjt2YXIgbj10LGk9dGhpc1tuXTtpZigoIWl8fCFpLm5hbWVzcGFjZSkmJihpPXIuU3RvcmUodGhpcy5faWQsdGhpcy5fYXJlYSx0aGlzLl9ucytuK1wiLlwiKSx0aGlzW25dfHwodGhpc1tuXT1pKSwhZSkpZm9yKHZhciBvIGluIHIuYXJlYXMpaS5hcmVhKG8sci5hcmVhc1tvXSk7cmV0dXJuIGl9LGlzRmFrZTpmdW5jdGlvbigpe3JldHVyblwiZmFrZVwiPT09dGhpcy5fYXJlYS5uYW1lfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwic3RvcmVcIisodGhpcy5fbnM/XCIuXCIrdGhpcy5uYW1lc3BhY2UoKTpcIlwiKStcIltcIit0aGlzLl9pZCtcIl1cIn0saGFzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hcmVhLmhhcz90aGlzLl9hcmVhLmhhcyh0aGlzLl9pbih0KSk6ISEodGhpcy5faW4odClpbiB0aGlzLl9hcmVhKX0sc2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmtleXMoKS5sZW5ndGh9LGVhY2g6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxpPXIubGVuZ3RoKHRoaXMuX2FyZWEpO248aTtuKyspe3ZhciBvPXRoaXMuX291dChyLmtleSh0aGlzLl9hcmVhLG4pKTtpZih2b2lkIDAhPT1vJiYhMT09PXQuY2FsbCh0aGlzLG8sdGhpcy5nZXQobyksZSkpYnJlYWs7aT5yLmxlbmd0aCh0aGlzLl9hcmVhKSYmKGktLSxuLS0pfXJldHVybiBlfHx0aGlzfSxrZXlzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVhY2goKGZ1bmN0aW9uKHQsZSxuKXtuLnB1c2godCl9KSx0fHxbXSl9LGdldDpmdW5jdGlvbih0LGUpe3ZhciBuPXIuZ2V0KHRoaXMuX2FyZWEsdGhpcy5faW4odCkpO3JldHVybiBudWxsIT09bj9yLnBhcnNlKG4pOmV8fG59LGdldEFsbDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lYWNoKChmdW5jdGlvbih0LGUsbil7blt0XT1lfSksdHx8e30pfSx0cmFuc2FjdDpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5nZXQodCxuKSxpPWUocik7cmV0dXJuIHRoaXMuc2V0KHQsdm9pZCAwPT09aT9yOmkpLHRoaXN9LHNldDpmdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5nZXQodCk7cmV0dXJuIG51bGwhPWkmJiExPT09bj9lOnIuc2V0KHRoaXMuX2FyZWEsdGhpcy5faW4odCksci5zdHJpbmdpZnkoZSksbil8fGl9LHNldEFsbDpmdW5jdGlvbih0LGUpe3ZhciBuLHI7Zm9yKHZhciBpIGluIHQpcj10W2ldLHRoaXMuc2V0KGkscixlKSE9PXImJihuPSEwKTtyZXR1cm4gbn0sYWRkOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXQodCk7aWYobiBpbnN0YW5jZW9mIEFycmF5KWU9bi5jb25jYXQoZSk7ZWxzZSBpZihudWxsIT09bil7dmFyIGk9dHlwZW9mIG47aWYoaT09PXR5cGVvZiBlJiZcIm9iamVjdFwiPT09aSl7Zm9yKHZhciBvIGluIGUpbltvXT1lW29dO2U9bn1lbHNlIGU9bitlfXJldHVybiByLnNldCh0aGlzLl9hcmVhLHRoaXMuX2luKHQpLHIuc3RyaW5naWZ5KGUpKSxlfSxyZW1vdmU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdldCh0LGUpO3JldHVybiByLnJlbW92ZSh0aGlzLl9hcmVhLHRoaXMuX2luKHQpKSxufSxjbGVhcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ucz90aGlzLmVhY2goKGZ1bmN0aW9uKHQpe3IucmVtb3ZlKHRoaXMuX2FyZWEsdGhpcy5faW4odCkpfSksMSk6ci5jbGVhcih0aGlzLl9hcmVhKSx0aGlzfSxjbGVhckFsbDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2FyZWE7Zm9yKHZhciBlIGluIHIuYXJlYXMpci5hcmVhcy5oYXNPd25Qcm9wZXJ0eShlKSYmKHRoaXMuX2FyZWE9ci5hcmVhc1tlXSx0aGlzLmNsZWFyKCkpO3JldHVybiB0aGlzLl9hcmVhPXQsdGhpc30sX2luOmZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCIhPT10eXBlb2YgdCYmKHQ9ci5zdHJpbmdpZnkodCkpLHRoaXMuX25zP3RoaXMuX25zK3Q6dH0sX291dDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbnM/dCYmMD09PXQuaW5kZXhPZih0aGlzLl9ucyk/dC5zdWJzdHJpbmcodGhpcy5fbnMubGVuZ3RoKTp2b2lkIDA6dH19LHN0b3JhZ2U6ZnVuY3Rpb24odCl7cmV0dXJuIHIuaW5oZXJpdChyLnN0b3JhZ2VBUEkse2l0ZW1zOnt9LG5hbWU6dH0pfSxzdG9yYWdlQVBJOntsZW5ndGg6MCxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaXRlbXMuaGFzT3duUHJvcGVydHkodCl9LGtleTpmdW5jdGlvbih0KXt2YXIgZT0wO2Zvcih2YXIgbiBpbiB0aGlzLml0ZW1zKWlmKHRoaXMuaGFzKG4pJiZ0PT09ZSsrKXJldHVybiBufSxzZXRJdGVtOmZ1bmN0aW9uKHQsZSl7dGhpcy5oYXModCl8fHRoaXMubGVuZ3RoKyssdGhpcy5pdGVtc1t0XT1lfSxyZW1vdmVJdGVtOmZ1bmN0aW9uKHQpe3RoaXMuaGFzKHQpJiYoZGVsZXRlIHRoaXMuaXRlbXNbdF0sdGhpcy5sZW5ndGgtLSl9LGdldEl0ZW06ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGFzKHQpP3RoaXMuaXRlbXNbdF06bnVsbH0sY2xlYXI6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5pdGVtcyl0aGlzLnJlbW92ZUl0ZW0odCl9fX0saT1yLlN0b3JlKFwibG9jYWxcIixmdW5jdGlvbigpe3RyeXtyZXR1cm4gbG9jYWxTdG9yYWdlfWNhdGNoKHQpe319KCkpO2kubG9jYWw9aSxpLl89cixpLmFyZWEoXCJzZXNzaW9uXCIsZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHNlc3Npb25TdG9yYWdlfWNhdGNoKHQpe319KCkpLGkuYXJlYShcInBhZ2VcIixyLnN0b3JhZ2UoXCJwYWdlXCIpKSxcImZ1bmN0aW9uXCI9PT10eXBlb2YgbiYmdm9pZCAwIT09bi5hbWQ/bihcInN0b3JlMlwiLFtdLChmdW5jdGlvbigpe3JldHVybiBpfSkpOnQuZXhwb3J0cz90LmV4cG9ydHM9aTooZS5zdG9yZSYmKHIuY29uZmxpY3Q9ZS5zdG9yZSksZS5zdG9yZT1pKX0odGhpcyx0aGlzJiZ0aGlzLmRlZmluZSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJue2VudW1lcmFibGU6ISgxJnQpLGNvbmZpZ3VyYWJsZTohKDImdCksd3JpdGFibGU6ISg0JnQpLHZhbHVlOmV9fX0sZnVuY3Rpb24odCxlKXt2YXIgbj1NYXRoLmNlaWwscj1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaXNOYU4odD0rdCk/MDoodD4wP3I6bikodCl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHIsaT1uKDE3KSxvPW4oMTkwKSxhPW4oMTQ4KSxzPW4oOTQpLHU9bigxOTEpLGM9bigxNDMpLGY9bigxMTApLGw9ZihcIklFX1BST1RPXCIpLGg9ZnVuY3Rpb24oKXt9LHA9ZnVuY3Rpb24odCl7cmV0dXJuXCI8c2NyaXB0PlwiK3QrXCI8XFwvc2NyaXB0PlwifSxkPWZ1bmN0aW9uKCl7dHJ5e3I9ZG9jdW1lbnQuZG9tYWluJiZuZXcgQWN0aXZlWE9iamVjdChcImh0bWxmaWxlXCIpfWNhdGNoKHQpe312YXIgdCxlO2Q9cj9mdW5jdGlvbih0KXt0LndyaXRlKHAoXCJcIikpLHQuY2xvc2UoKTt2YXIgZT10LnBhcmVudFdpbmRvdy5PYmplY3Q7cmV0dXJuIHQ9bnVsbCxlfShyKTooKGU9YyhcImlmcmFtZVwiKSkuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix1LmFwcGVuZENoaWxkKGUpLGUuc3JjPVN0cmluZyhcImphdmFzY3JpcHQ6XCIpLCh0PWUuY29udGVudFdpbmRvdy5kb2N1bWVudCkub3BlbigpLHQud3JpdGUocChcImRvY3VtZW50LkY9T2JqZWN0XCIpKSx0LmNsb3NlKCksdC5GKTtmb3IodmFyIG49YS5sZW5ndGg7bi0tOylkZWxldGUgZC5wcm90b3R5cGVbYVtuXV07cmV0dXJuIGQoKX07c1tsXT0hMCx0LmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbnVsbCE9PXQ/KGgucHJvdG90eXBlPWkodCksbj1uZXcgaCxoLnByb3RvdHlwZT1udWxsLG5bbF09dCk6bj1kKCksdm9pZCAwPT09ZT9uOm8obixlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDY4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2lmKHIodCksdm9pZCAwPT09ZSlyZXR1cm4gdDtzd2l0Y2gobil7Y2FzZSAwOnJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmNhbGwoZSl9O2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQuY2FsbChlLG4pfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIHQuY2FsbChlLG4scil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24obixyLGkpe3JldHVybiB0LmNhbGwoZSxuLHIsaSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcihTdHJpbmcodCkrXCIgaXMgbm90IGEgZnVuY3Rpb25cIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgVHlwZUVycm9yKFwiSW5jb3JyZWN0IFwiKyhuP24rXCIgXCI6XCJcIikrXCJpbnZvY2F0aW9uXCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTcpLGk9big2OCksbz1uKDcpKFwic3BlY2llc1wiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbixhPXIodCkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PWF8fHZvaWQgMD09KG49cihhKVtvXSk/ZTppKG4pfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMzgpLGk9bigxNyksbz1uKDMpLGE9bigyMDIpLHM9UmVnRXhwLnByb3RvdHlwZSx1PXMudG9TdHJpbmcsYz1vKChmdW5jdGlvbigpe3JldHVyblwiL2EvYlwiIT11LmNhbGwoe3NvdXJjZTpcImFcIixmbGFnczpcImJcIn0pfSkpLGY9XCJ0b1N0cmluZ1wiIT11Lm5hbWU7KGN8fGYpJiZyKFJlZ0V4cC5wcm90b3R5cGUsXCJ0b1N0cmluZ1wiLChmdW5jdGlvbigpe3ZhciB0PWkodGhpcyksZT1TdHJpbmcodC5zb3VyY2UpLG49dC5mbGFncztyZXR1cm5cIi9cIitlK1wiL1wiK1N0cmluZyh2b2lkIDA9PT1uJiZ0IGluc3RhbmNlb2YgUmVnRXhwJiYhKFwiZmxhZ3NcImluIHMpP2EuY2FsbCh0KTpuKX0pLHt1bnNhZmU6ITB9KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTYpLGk9bigyNCkuZixvPUZ1bmN0aW9uLnByb3RvdHlwZSxhPW8udG9TdHJpbmcscz0vXlxccypmdW5jdGlvbiAoW14gKF0qKS87IXJ8fFwibmFtZVwiaW4gb3x8aShvLFwibmFtZVwiLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBhLmNhbGwodGhpcykubWF0Y2gocylbMV19Y2F0Y2godCl7cmV0dXJuXCJcIn19fSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI4OSksaT1uKDI5NCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49aSh0LGUpO3JldHVybiByKG4pP246dm9pZCAwfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiByfSkpO3ZhciByPWZ1bmN0aW9uKCl7cmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIFN5bWJvbD9TeW1ib2woXCJyeFN1YnNjcmliZXJcIik6XCJAQHJ4U3Vic2NyaWJlcl9cIitNYXRoLnJhbmRvbSgpfSgpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZih2b2lkIDA9PXQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gXCIrdCk7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0hMX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNjUpLGk9TWF0aC5tYXgsbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj1yKHQpO3JldHVybiBuPDA/aShuK2UsMCk6byhuLGUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTkpLGk9bigzNiksbz1uKDExMCksYT1uKDE1NCkscz1vKFwiSUVfUFJPVE9cIiksdT1PYmplY3QucHJvdG90eXBlO3QuZXhwb3J0cz1hP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbih0KXtyZXR1cm4gdD1pKHQpLHIodCxzKT90W3NdOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY29uc3RydWN0b3ImJnQgaW5zdGFuY2VvZiB0LmNvbnN0cnVjdG9yP3QuY29uc3RydWN0b3IucHJvdG90eXBlOnQgaW5zdGFuY2VvZiBPYmplY3Q/dTpudWxsfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMiksaT1uKDIwNik7cih7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6T2JqZWN0LmFzc2lnbiE9PWl9LHthc3NpZ246aX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyKSxpPW4oMyksbz1uKDE5MikuZjtyKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDppKChmdW5jdGlvbigpe3JldHVybiFPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcygxKX0pKX0se2dldE93blByb3BlcnR5TmFtZXM6b30pfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dCYmXCJvYmplY3RcIj09dHlwZW9mIHR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigzNzEpO3QuZXhwb3J0cz17c3RyaW5nOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1cImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1XCIubGVuZ3RoLG49ci5yYW5kb21CeXRlcyh0KSxpPVtdLG89MDtvPHQ7bysrKWkucHVzaChcImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1XCIuc3Vic3RyKG5bb10lZSwxKSk7cmV0dXJuIGkuam9pbihcIlwiKX0sbnVtYmVyOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdCl9LG51bWJlclN0cmluZzpmdW5jdGlvbih0KXt2YXIgZT0oXCJcIisodC0xKSkubGVuZ3RoO3JldHVybihuZXcgQXJyYXkoZSsxKS5qb2luKFwiMFwiKSt0aGlzLm51bWJlcih0KSkuc2xpY2UoLWUpfX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDUpLGk9bigzOSksbz1uKDIzNCk7ZnVuY3Rpb24gYSh0LGUsbixyKXtvLmNhbGwodGhpcyx0LGUsZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXt2YXIgbz17fTtcInN0cmluZ1wiPT09dHlwZW9mIG4mJihvLmhlYWRlcnM9e1wiQ29udGVudC10eXBlXCI6XCJ0ZXh0L3BsYWluXCJ9KTt2YXIgYT1pLmFkZFBhdGgoZSxcIi94aHJfc2VuZFwiKSxzPW5ldyB0KFwiUE9TVFwiLGEsbixvKTtyZXR1cm4gcy5vbmNlKFwiZmluaXNoXCIsKGZ1bmN0aW9uKHQpe2lmKHM9bnVsbCwyMDAhPT10JiYyMDQhPT10KXJldHVybiByKG5ldyBFcnJvcihcImh0dHAgc3RhdHVzIFwiK3QpKTtyKCl9KSksZnVuY3Rpb24oKXtzLmNsb3NlKCkscz1udWxsO3ZhciB0PW5ldyBFcnJvcihcIkFib3J0ZWRcIik7dC5jb2RlPTFlMyxyKHQpfX19KHIpLG4scil9cihhLG8pLHQuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXt2YXIgZT10LnBsYXllckVsZW1lbnQoKTtyZXR1cm4gZSYmZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInZpZGVvXCIpWzBdfWZ1bmN0aW9uIGkodCl7dmFyIGU9dC5lbCgpO3JldHVybiBlJiZlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidmlkZW9cIilbMF19bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksbi5kKGUsXCJiXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuKDEzKSxuKDIyKSxuKDE1KSxuKDMxKSxuKDMyKSxuKDI4KSxuKDkpLG4oMjUpLG4oMTgpO3ZhciByPW4oODYpO2Z1bmN0aW9uIGkodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIG8odCxlLG4pe3JldHVybiBlIGluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbZV09bix0fWUuYT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsbil7T2JqZWN0KHIuYSkoZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/aShPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe28odCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOmkoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9KHt9LHQse29uU3VjY2VzczpmdW5jdGlvbih0LG4pe3JldHVybiBlKHtkYXRhOnQscmVxdWVzdDpufSl9LG9uRmFpbHVyZTpuLG9uVGltZW91dDpufSkpfSkpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbih0KXtuKDE1KSxuKDgwKSxuKDE4KSxuKDI3Nik7dmFyIHI9bigxODApLGk9bigyNTMpLG89bigxKTtlLmE9ZnVuY3Rpb24oZSl7dmFyIG49ZS5tZXRob2R8fFwiR0VUXCIsYT1lLnVybCtPYmplY3Qoci5zdHJpbmdpZnkpKGUucGFyYW1zLCEwKSxzPWUuaGVhZGVyc3x8e30sdT1udWxsPT1lLmV4cGVjdEpzb258fGUuZXhwZWN0SnNvbixjPW51bGw9PWUuanNvbkNvbnRlbnR8fGUuanNvbkNvbnRlbnQsZj1udWxsPT1lLmFzeW5jfHxlLmFzeW5jLGw9ZS5vblN1Y2Nlc3N8fG8uZCxoPWUub25GYWlsdXJlfHxvLmQscD1lLm9uVGltZW91dHx8by5kLGQ9ZS50aW1lb3V0fHwwLHk9ZS5ib2R5LHY9ZS5pZ25vcmVFZGdlVGltZW91dCxnPW5ldyBYTUxIdHRwUmVxdWVzdDtnLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKGcmJmcucmVhZHlTdGF0ZT09PVhNTEh0dHBSZXF1ZXN0LkRPTkUpaWYoZy5zdGF0dXM+PTIwMCYmZy5zdGF0dXM8NDAwKXt2YXIgZT11JiZnLnJlc3BvbnNlVGV4dD9KU09OLnBhcnNlKGcucmVzcG9uc2VUZXh0KTpnLnJlc3BvbnNlVGV4dDtsKGUsZyl9ZWxzZSBnLnN0YXR1cz49NDAwP2goZyk6Zy5zdGF0dXM8MTAwJiZ0KChmdW5jdGlvbigpe2cub25yZWFkeXN0YXRlY2hhbmdlJiZoKGcpfSkpfSxnLm9wZW4obixhLGYpLGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPU9iamVjdChpLmEpKCk7aWYoIShlPD0wfHxvJiZyKSl7dmFyIGE9ZnVuY3Rpb24oKXtvJiZ0LnJlYWR5U3RhdGU9PT1YTUxIdHRwUmVxdWVzdC5ET05FfHwodC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxvfHx0LmFib3J0KCksbih0KSl9O28/c2V0VGltZW91dChhLGUpOih0Lm9udGltZW91dD1hLHQudGltZW91dD1lKX19KGcsZCxwLHYpLGUud2l0aENyZWRlbnRpYWxzJiYoZy53aXRoQ3JlZGVudGlhbHM9ZS53aXRoQ3JlZGVudGlhbHMpLHUmJmcuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLFwiYXBwbGljYXRpb24vanNvblwiKSxcIkdFVFwiIT09biYmYyYmZy5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsXCJhcHBsaWNhdGlvbi9qc29uXCIpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHMpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2cuc2V0UmVxdWVzdEhlYWRlcih0LHNbdF0pfSkpLGcuc2VuZChKU09OLnN0cmluZ2lmeSh5KSl9fSkuY2FsbCh0aGlzLG4oMjczKS5zZXRJbW1lZGlhdGUpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7big1OSk7dmFyIHI9bigyMyksaT1uKDEpLG89big1MSksYT0obigyMiksbigxNSksbigxNCksbig2MCksbigxMDQpLG4oOSksbigyNSksbigyMSksbigxOCksbigyNiksbig0MCkpLHM9bi5uKGEpLHU9KG4oMTc0KSxuKDApKSxjPShuKDEzKSxuKDQ3KSxuKDQ4KSxuKDEyNyksbigyOCksbig3MSksbigxODMpKSxmPW4ubihjKTtmdW5jdGlvbiBsKHQpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxuPW5ldyBBcnJheSh0Lmxlbmd0aCk7ZTx0Lmxlbmd0aDtlKyspbltlXT10W2VdO3JldHVybiBufX0odCl8fGZ1bmN0aW9uKHQpe2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QodCl8fFwiW29iamVjdCBBcmd1bWVudHNdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpcmV0dXJuIEFycmF5LmZyb20odCl9KHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKX0oKX1mdW5jdGlvbiBoKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBwKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1mdW5jdGlvbiBkKHQsZSxuKXtyZXR1cm4gZSYmcCh0LnByb3RvdHlwZSxlKSxuJiZwKHQsbiksdH12YXIgeT0wLHY9MSxnPTIsYj0zLG09NCx3PVwiUEVORElOR1wiLEU9XCJFU1RBQkxJU0hFRFwiLHg9XCJGQUlMRURcIixPPVwiQ0xPU0VEXCIsVD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtoKHRoaXMsdCksdGhpcy5hcnI9W119cmV0dXJuIGQodCxbe2tleTpcInB1c2hcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmFyci51bnNoaWZ0KHQpfX0se2tleTpcInBvcEFsbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bCh0aGlzLmFycik7cmV0dXJuIHRoaXMuYXJyPVtdLHR9fV0pLHR9KCksUz1uZXcoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7aCh0aGlzLHQpLHRoaXMuc3RhdGU9eSx0aGlzLmRpc3BhdGNoUXVldWU9bmV3IFR9cmV0dXJuIGQodCxbe2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcyxpPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7b25jbG9zZTpmdW5jdGlvbigpe30sb25lcnJvcjpmdW5jdGlvbigpe30sb25vcGVuOmZ1bmN0aW9uKCl7fSxvbnJlY29ubmVjdDpmdW5jdGlvbigpe319O3RoaXMuY29uZmlnPWUsdGhpcy5lbmRwb2ludD10LHRoaXMucnBjRW5kcG9pbnQ9bix0aGlzLnRpY2soKTt2YXIgbz1pLm9uY2xvc2UsYT1pLm9uZXJyb3Iscz1pLm9ub3BlbixjPWkub25yZWNvbm5lY3Q7dGhpcy5oYW5kbGVycz1pLHRoaXMuaWRsZVRpbWVNcz1lLndlYnJ0Y19pZGxlX3NodXRkb3duX21zfHwxOGU0O3ZhciBsPXRoaXM7cmV0dXJuIHRoaXMuaWRsZVRpbWVyPXNldEludGVydmFsKChmdW5jdGlvbigpe2wubGFzdFVzZWQ/RGF0ZS5ub3coKS1sLmxhc3RVc2VkPmwuaWRsZVRpbWVNcyYmKHUuYS5pKFwiU29ja2V0IGlzIGlkbGUuIENsb3NpbmcuXCIpLGwuY2xvc2UoKSxsLnN0YXRlPW0sY2xlYXJUaW1lb3V0KGwuaWRsZVRpbWVyKSk6KHUuYS5pKFwibGFzdFVzZWQgd2FzIHVuc2V0IC0gXCIuY29uY2F0KGwubGFzdFVzZWQpLGwpLGwubGFzdFVzZWQ9RGF0ZS5ub3coKSl9KSwzZTQpLG5ldyBQcm9taXNlKChmdW5jdGlvbih0LGUpe3IuZWI9bmV3IGYuYShyLmVuZHBvaW50LHIuY29uZmlnKSxyLmViLmVuYWJsZVJlY29ubmVjdCghMCksci5lYi5vbm9wZW49ZnVuY3Rpb24oKXtzJiZyLmViLnN0YXRlPT09Zi5hLk9QRU4mJihzKCksci5zdGF0ZT12KSx0KCl9LHIuZWIub25yZWNvbm5lY3Q9ZnVuY3Rpb24oKXtyLnN0YXRlPWcsYyYmYygpLHIuZGlzcGF0Y2hRdWV1ZS5wb3BBbGwoKS5mb3JFYWNoKHIuZGlzcGF0Y2gpfSxyLmViLm9uZXJyb3I9ZnVuY3Rpb24odCl7ci5zdGF0ZT1iLHUuYS5lKHQpLGEmJmEoKSxlKCl9LHIuZWIub25jbG9zZT1mdW5jdGlvbigpe3Iuc3RhdGU9eSxvJiZvKCl9fSkpfX0se2tleTpcInRpY2tcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxhc3RVc2VkPURhdGUubm93KCksdGhpcy5sYXN0VXNlZH19LHtrZXk6XCJjbG9zZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT15LHRoaXMuZWIuY2xvc2UoKSx0aGlzLmViPW51bGx9fSx7a2V5Olwic2VuZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxuPWUudHlwZSxyPWUucGF5bG9hZDtyZXR1cm4gdGhpcy50aWNrKCksdGhpcy5zdGF0ZT09PXZ8fHRoaXMuc3RhdGU9PT1nP25ldyBQcm9taXNlKChmdW5jdGlvbihlLGkpe3QuZWIuc2VuZChuLHIsKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHQ/aSh0KTplKG4pfSkpfSkpOnRoaXMuc3RhdGU9PT1tP3RoaXMuX3Jlc3RhcnQoKS50aGVuKChmdW5jdGlvbigpe25ldyBQcm9taXNlKChmdW5jdGlvbihlLGkpe3QuZWIuc2VuZChuLHIsKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHQ/aSh0KTplKG4pfSkpfSkpfSkpOm5ldyBQcm9taXNlKChmdW5jdGlvbih0LGUpe2UoKX0pKX19LHtrZXk6XCJkaXNwYXRjaFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxuPWUudHlwZSxyPWUucGF5bG9hZDt0aGlzLnRpY2soKSx0aGlzLnN0YXRlPT09dnx8dGhpcy5zdGF0ZT09PWc/dGhpcy5lYi5zZW5kKG4scik6dGhpcy5zdGF0ZT09PW0/dGhpcy5fcmVzdGFydCgpLnRoZW4oKGZ1bmN0aW9uKCl7dC5kaXNwYXRjaFF1ZXVlLnBvcEFsbCgpLmZvckVhY2godC5kaXNwYXRjaCl9KSk6dGhpcy5kaXNwYXRjaFF1ZXVlLnB1c2goe3R5cGU6bixwYXlsb2FkOnJ9KX19LHtrZXk6XCJfY29uc3RydWN0TWVzc2FnZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJue3R5cGU6dGhpcy5ycGNFbmRwb2ludCxwYXlsb2FkOnt0eXBlOnQscGF5bG9hZDplfX19fSx7a2V5OlwiX3Jlc3RhcnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB1LmEuaShcIlJlc3RhcnRpbmcgdGhlIFNpZ25hbGxpbmcgY29ubmVjdGlvbi5cIiksdGhpcy5pbml0KHRoaXMuY29uZmlnLHRoaXMuZW5kcG9pbnQsdGhpcy5ycGNFbmRwb2ludCx0aGlzLmhhbmRsZXJzKX19LHtrZXk6XCJyZWdpc3RlckhhbmRsZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuZWIucmVnaXN0ZXJIYW5kbGVyKHQsZSl9fSx7a2V5OlwicHJvdmlkZU9mZmVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3RoaXMuZGlzcGF0Y2godGhpcy5fY29uc3RydWN0TWVzc2FnZShcIlBFRVJfT0ZGRVJcIix7ZnJvbTplLHRvOnQsb2ZmZXI6bn0pKX19LHtrZXk6XCJwcm92aWRlQW5zd2VyXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3RoaXMuZGlzcGF0Y2godGhpcy5fY29uc3RydWN0TWVzc2FnZShcIlBFRVJfQU5TV0VSXCIse2Zyb206ZSx0bzp0LGFuc3dlcjpufSkpfX0se2tleTpcInNlbmRJY2VDYW5kaWRhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dGhpcy5kaXNwYXRjaCh0aGlzLl9jb25zdHJ1Y3RNZXNzYWdlKFwiSUNFX0NBTkRJREFURVwiLHt0bzp0LGZyb206ZSxjYW5kaWRhdGU6bn0pKX19LHtrZXk6XCJmaW5kUGVlcnNcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIG49bnx8MTUsdGhpcy5zZW5kKHRoaXMuX2NvbnN0cnVjdE1lc3NhZ2UoXCJESVNDT1ZFUl9QRUVSU1wiLHtub2RlOnQsY29udGVudElkOmUsbGltaXQ6bn0pKX19LHtrZXk6XCJzZW5kUGVlckNvbm5lY3Rpb25FdmVudFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXtub2RlczpbdCxlXSxjb25uZWN0aW9uU3RhdGU6bn07cmV0dXJuIHImJihpLnJ0Y0RhdGE9ciksdGhpcy5kaXNwYXRjaCh0aGlzLl9jb25zdHJ1Y3RNZXNzYWdlKFwiUEVFUl9DT05ORUNUSU9OXCIsaSkpfX0se2tleTpcInJlZ2lzdGVySGFuZGxlcnNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO09iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2UuZWIucmVnaXN0ZXJIYW5kbGVyKG4sdFtuXSl9KSl9fSx7a2V5OlwidHJhbnNmZXJSZWNvcmRcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmRpc3BhdGNoKHRoaXMuX2NvbnN0cnVjdE1lc3NhZ2UoXCJUUkFOU0ZFUl9SRUNPUkRcIix0KSl9fSx7a2V5OlwiY29udGVudFN0YXR1c1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZGlzcGF0Y2godGhpcy5fY29uc3RydWN0TWVzc2FnZShcIkNPTlRFTlRfU1RBVFVTXCIsdCkpfX1dKSx0fSgpKSxrPShuKDM5NSksbigyNDkpLG4oMTIpKSxfPW4ubihrKSxqPW4oMTApLEE9big0MiksST1uKDMzKSxDPW4oNDYpLFA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7cmV0dXJuIEVycm9yLmNhbGwodGhpcyksdGhpcy5tZXNzYWdlPVwib2JqZWN0IHVuc3Vic2NyaWJlZFwiLHRoaXMubmFtZT1cIk9iamVjdFVuc3Vic2NyaWJlZEVycm9yXCIsdGhpc31yZXR1cm4gdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLHR9KCksUj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIHI9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLnN1YmplY3Q9ZSxyLnN1YnNjcmliZXI9bixyLmNsb3NlZD0hMSxyfXJldHVybiBqLmEoZSx0KSxlLnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbigpe2lmKCF0aGlzLmNsb3NlZCl7dGhpcy5jbG9zZWQ9ITA7dmFyIHQ9dGhpcy5zdWJqZWN0LGU9dC5vYnNlcnZlcnM7aWYodGhpcy5zdWJqZWN0PW51bGwsZSYmMCE9PWUubGVuZ3RoJiYhdC5pc1N0b3BwZWQmJiF0LmNsb3NlZCl7dmFyIG49ZS5pbmRleE9mKHRoaXMuc3Vic2NyaWJlcik7LTEhPT1uJiZlLnNwbGljZShuLDEpfX19LGV9KEMuYSksTD1uKDc0KSxOPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4uZGVzdGluYXRpb249ZSxufXJldHVybiBqLmEoZSx0KSxlfShJLmEpLEQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gZS5vYnNlcnZlcnM9W10sZS5jbG9zZWQ9ITEsZS5pc1N0b3BwZWQ9ITEsZS5oYXNFcnJvcj0hMSxlLnRocm93bkVycm9yPW51bGwsZX1yZXR1cm4gai5hKGUsdCksZS5wcm90b3R5cGVbTC5hXT1mdW5jdGlvbigpe3JldHVybiBuZXcgTih0aGlzKX0sZS5wcm90b3R5cGUubGlmdD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgVSh0aGlzLHRoaXMpO3JldHVybiBlLm9wZXJhdG9yPXQsZX0sZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbih0KXtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgUDtpZighdGhpcy5pc1N0b3BwZWQpZm9yKHZhciBlPXRoaXMub2JzZXJ2ZXJzLG49ZS5sZW5ndGgscj1lLnNsaWNlKCksaT0wO2k8bjtpKyspcltpXS5uZXh0KHQpfSxlLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbih0KXtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgUDt0aGlzLmhhc0Vycm9yPSEwLHRoaXMudGhyb3duRXJyb3I9dCx0aGlzLmlzU3RvcHBlZD0hMDtmb3IodmFyIGU9dGhpcy5vYnNlcnZlcnMsbj1lLmxlbmd0aCxyPWUuc2xpY2UoKSxpPTA7aTxuO2krKylyW2ldLmVycm9yKHQpO3RoaXMub2JzZXJ2ZXJzLmxlbmd0aD0wfSxlLnByb3RvdHlwZS5jb21wbGV0ZT1mdW5jdGlvbigpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBQO3RoaXMuaXNTdG9wcGVkPSEwO2Zvcih2YXIgdD10aGlzLm9ic2VydmVycyxlPXQubGVuZ3RoLG49dC5zbGljZSgpLHI9MDtyPGU7cisrKW5bcl0uY29tcGxldGUoKTt0aGlzLm9ic2VydmVycy5sZW5ndGg9MH0sZS5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt0aGlzLmlzU3RvcHBlZD0hMCx0aGlzLmNsb3NlZD0hMCx0aGlzLm9ic2VydmVycz1udWxsfSxlLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBQO3JldHVybiB0LnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlLmNhbGwodGhpcyxlKX0sZS5wcm90b3R5cGUuX3N1YnNjcmliZT1mdW5jdGlvbih0KXtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgUDtyZXR1cm4gdGhpcy5oYXNFcnJvcj8odC5lcnJvcih0aGlzLnRocm93bkVycm9yKSxDLmEuRU1QVFkpOnRoaXMuaXNTdG9wcGVkPyh0LmNvbXBsZXRlKCksQy5hLkVNUFRZKToodGhpcy5vYnNlcnZlcnMucHVzaCh0KSxuZXcgUih0aGlzLHQpKX0sZS5wcm90b3R5cGUuYXNPYnNlcnZhYmxlPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEEuYTtyZXR1cm4gdC5zb3VyY2U9dGhpcyx0fSxlLmNyZWF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgVSh0LGUpfSxlfShBLmEpLFU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZhciByPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5kZXN0aW5hdGlvbj1lLHIuc291cmNlPW4scn1yZXR1cm4gai5hKGUsdCksZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRlc3RpbmF0aW9uO2UmJmUubmV4dCYmZS5uZXh0KHQpfSxlLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRlc3RpbmF0aW9uO2UmJmUuZXJyb3ImJnRoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9LGUucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kZXN0aW5hdGlvbjt0JiZ0LmNvbXBsZXRlJiZ0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9LGUucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc291cmNlP3RoaXMuc291cmNlLnN1YnNjcmliZSh0KTpDLmEuRU1QVFl9LGV9KEQpO24oMTAxKSxuKDEyOSksbigzOTgpLG4oNDAzKSxuKDQwNSksbig0MDYpLG4oNDA3KSxuKDQwOCksbig0MDkpLG4oNDEwKSxuKDQxMSksbig0MTIpLG4oNDEzKSxuKDQxNCksbig0MTUpLG4oNDE3KSxuKDQxOCksbig0MTkpLG4oNDIwKSxuKDQyMSksbig0MjIpLG4oNDIzKSxuKDQyNCksbig0MjUpLG4oNDI2KSxuKDQyNyk7ZnVuY3Rpb24gTSh0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbDtpZighdHx8MD09PXQubGVuZ3RoKXJldHVybiBudWxsO3ZhciBuPWV8fHQucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiB0K2UuYnl0ZUxlbmd0aH0pLDApLHI9bmV3IFVpbnQ4QXJyYXkobik7cmV0dXJuIHQucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiByLnNldChuZXcgVWludDhBcnJheShlKSx0KSx0K2UuYnl0ZUxlbmd0aH0pLDApLHJ9big0MjgpO2Z1bmN0aW9uIEYodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIEIodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fWZ1bmN0aW9uIEgodCxlLG4pe3JldHVybiBlJiZCKHQucHJvdG90eXBlLGUpLG4mJkIodCxuKSx0fXZhciBxPU9iamVjdC5mcmVlemUoe0hBVkU6MSxTT1VSQ0lORzoyLFBFRVJJTkc6MyxFVklDVEVEOjR9KSx6PU9iamVjdC5mcmVlemUoe05PVElGWToxLFJFUVVFU1Q6MixBV0FJVDozLERBVEE6NCxURVhUOjUsREFUQV9TRU5USU5FTDo2LEZBSUxVUkU6NyxDQU5DRUw6OCxBQ0s6OSxDTE9TRToxMH0pLFY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7Rih0aGlzLHQpfXJldHVybiBIKHQsbnVsbCxbe2tleTpcImRlY29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPV8uYS53cmFwKHQpO3JldHVybntrZXk6ZS5yZWFkQ1N0cmluZygpLHN0YXRlOmUucmVhZEJ5dGUoKX19fSx7a2V5OlwiZW5jb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnEuSEFWRTtyZXR1cm4obmV3IF8uYSkud3JpdGVDU3RyaW5nKHQpLndyaXRlQnl0ZShlKS5mbGlwKCkuYnVmZmVyfX1dKSx0fSgpLEc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7Rih0aGlzLHQpfXJldHVybiBIKHQsbnVsbCxbe2tleTpcImRlY29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPV8uYS53cmFwKHQpLG49ZS5yZWFkSW50MzIoKTtyZXR1cm57a2V5OmUucmVhZENTdHJpbmcoKSx0eElkOm59fX0se2tleTpcImVuY29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuKG5ldyBfLmEpLndyaXRlSW50MzIodCkud3JpdGVDU3RyaW5nKGUpLmZsaXAoKS5idWZmZXJ9fV0pLHR9KCksVz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtGKHRoaXMsdCl9cmV0dXJuIEgodCxudWxsLFt7a2V5OlwiZGVjb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9Xy5hLndyYXAodCksbj1lLnJlYWRJbnQzMigpO3JldHVybntrZXk6ZS5yZWFkQ1N0cmluZygpLHR4SWQ6bn19fSx7a2V5OlwiZW5jb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4obmV3IF8uYSkud3JpdGVJbnQzMih0KS53cml0ZUNTdHJpbmcoZSkuZmxpcCgpLmJ1ZmZlcn19XSksdH0oKSxKPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe0YodGhpcyx0KX1yZXR1cm4gSCh0LG51bGwsW3trZXk6XCJkZWNvZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1fLmEud3JhcCh0KSxuPWUucmVhZEludDMyKCkscj1lLnJlYWRDU3RyaW5nKCk7cmV0dXJue2RhdGE6ZS50b0FycmF5QnVmZmVyKCksdHhJZDpuLGtleTpyfX19LHtrZXk6XCJlbmNvZGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuKG5ldyBfLmEpLndyaXRlSW50MzIodCkud3JpdGVDU3RyaW5nKGUpLmFwcGVuZChuKS5mbGlwKCkuYnVmZmVyfX1dKSx0fSgpLFk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7Rih0aGlzLHQpfXJldHVybiBIKHQsbnVsbCxbe2tleTpcImRlY29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPV8uYS53cmFwKHQpLG49ZS5yZWFkSW50MzIoKSxyPWUucmVhZENTdHJpbmcoKTtyZXR1cm57dGV4dDplLnJlYWRDU3RyaW5nKCksa2V5OnIsdHhJZDpufX19LHtrZXk6XCJlbmNvZGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuKG5ldyBfLmEpLndyaXRlSW50MzIodCkud3JpdGVDU3RyaW5nKGUpLndyaXRlQ1N0cmluZyhuKS5mbGlwKCkuYnVmZmVyfX1dKSx0fSgpLFo9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7Rih0aGlzLHQpfXJldHVybiBIKHQsbnVsbCxbe2tleTpcImRlY29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPV8uYS53cmFwKHQpO3JldHVybnt0eElkOmUucmVhZEludDMyKCksa2V5OmUucmVhZENTdHJpbmcoKSxvcmlnaW5hbFNpemVCeXRlczplLnJlYWRJbnQzMigpfX19LHtrZXk6XCJlbmNvZGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuKG5ldyBfLmEpLndyaXRlSW50MzIodCkud3JpdGVDU3RyaW5nKGUpLndyaXRlSW50MzIobikuZmxpcCgpLmJ1ZmZlcn19XSksdH0oKSxLPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe0YodGhpcyx0KX1yZXR1cm4gSCh0LG51bGwsW3trZXk6XCJkZWNvZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1fLmEud3JhcCh0KSxuPWUucmVhZEludDMyKCk7cmV0dXJue2tleTplLnJlYWRDU3RyaW5nKCksdHhJZDpuLHN0YXR1c0NvZGU6ZS5yZWFkSW50MzIoKX19fSx7a2V5OlwiZW5jb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybihuZXcgXy5hKS53cml0ZUludDMyKHQpLndyaXRlQ1N0cmluZyhlKS53cml0ZUludDMyKG4pLmZsaXAoKS5idWZmZXJ9fV0pLHR9KCksJD1uKDUyKTtmdW5jdGlvbiBYKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1mdW5jdGlvbiBRKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX12YXIgdHQ9d2luZG93LnBlcmZvcm1hbmNlLGV0PWZ1bmN0aW9uIHQoZSxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dHQubm93KCk7USh0aGlzLHQpLHRoaXMucGVlcklkPWUsdGhpcy5wYXlsb2FkPW4sdGhpcy50cz1yfTtmdW5jdGlvbiBudCh0LGUpe3JldHVybihuZXcgXy5hKS53cml0ZUJ5dGUodCkuYXBwZW5kKGUpLmZsaXAoKS5idWZmZXJ9ZnVuY3Rpb24gcnQodCl7cmV0dXJue2NhbmRpZGF0ZTp0LmNhbmRpZGF0ZSxjb21wb25lbnQ6dC5jb21wb25lbnQsZm91bmRhdGlvbjp0LmZvdW5kYXRpb24saXA6dC5pcCxwb3J0OnQucG9ydCxwcmlvcml0eTp0LnByaW9yaXR5LHByb3RvY29sOnQucHJvdG9jb2wscmVsYXRlZEFkZHJlc3M6dC5yZWxhdGVkQWRkcmVzcyxyZWxhdGVkUG9ydDp0LnJlbGF0ZWRQb3J0LHNkcE1pZDp0LnNkcE1pZCxzZHBNTGluZUluZGV4OnQuc2RwTUxpbmVJbmRleCx0Y3BUeXBlOnQudGNwVHlwZSx0eXBlOnQudHlwZSx1c2VybmFtZUZyYWdtZW50OnQudXNlcm5hbWVGcmFnbWVudH19ZnVuY3Rpb24gaXQodCl7dS5hLmkodCk7dmFyIGU9bmV3IFJUQ1BlZXJDb25uZWN0aW9uKHQucGVlckNvbmZpZ3VyYXRpb24sdC5jaGFubmVsT3B0aW9ucyk7ZS5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1mdW5jdGlvbihlKXtlLnRhcmdldC5pY2VDb25uZWN0aW9uU3RhdGUsXCJmYWlsZWRcIj09PWUudGFyZ2V0LmljZUNvbm5lY3Rpb25TdGF0ZSYmKHUuYS5pKFwiRmFpbGluZyBjb25uZWN0aW9uIGJlY2F1c2UgSUNFIGNvbm5lY3Rpb24gc3RhdGUgdHJhbnNpdGlvbmVkIHRvIFwiLmNvbmNhdChlLnRhcmdldC5pY2VDb25uZWN0aW9uU3RhdGUpLHQucGVlciksdC5mYWlsKCkpfSxlLm9uaWNlY2FuZGlkYXRlPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOntjYW5kaWRhdGU6bnVsbH0sbj1lLmNhbmRpZGF0ZTt1LmEuaShcImNhbmRpZGF0ZVwiLG4pLG4mJih0LmljZUNhbmRpZGF0ZXMucHVzaChuKSxTLnNlbmRJY2VDYW5kaWRhdGUodC5wZWVyLHQubm9kZSxydChuKSkpfTt2YXIgbj0hMSxyPSExO3JldHVybiBlLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2U9ZnVuY3Rpb24oaSl7dmFyIG89ZS5zaWduYWxpbmdTdGF0ZTtzd2l0Y2godS5hLmkoXCJzaWduYWxpbmcgc3RhdGUgXCIuY29uY2F0KG8pLGkpLG8pe2Nhc2VcInN0YWJsZVwiOihufHxyKSYmKHQuc2lnbmFsaW5nU3RhYmxlPSEwLHUuYS5pKFwic2lnbmFsaW5nIFNUQUJMRSBcIi5jb25jYXQobykpLHQuYWRkUGVuZGluZ0NhbmRpZGF0ZXMoKSk7YnJlYWs7Y2FzZVwiaGF2ZS1sb2NhbC1vZmZlclwiOmNhc2VcImhhdmUtcmVtb3RlLW9mZmVyXCI6dS5hLmkoXCJoYXZlIG9mZmVyXCIpLG49ITA7YnJlYWs7Y2FzZVwiaGF2ZS1sb2NhbC1wcmFuc3dlclwiOmNhc2VcImhhdmUtcmVtb3RlLXByYW5zd2VyXCI6dS5hLmkoXCJoYXZlIGFuc3dlclwiKSxyPSEwfX0sZS5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3N3aXRjaChlLmNvbm5lY3Rpb25TdGF0ZSl7Y2FzZVwiY29ubmVjdGVkXCI6YnJlYWs7Y2FzZVwiZGlzY29ubmVjdGVkXCI6Y2FzZVwiZmFpbGVkXCI6dS5hLmkoXCJGYWlsaW5nIGNvbm5lY3Rpb24gYmVjYXVzZSBjb25uZWN0aW9uU3RhdGUgdHJhbnNpdGlvbmQgdG8gXCIuY29uY2F0KGUuY29ubmVjdGlvblN0YXRlKSx0Lm5vZGUsdC5wZWVyKSx0LmZhaWwoKTticmVhaztjYXNlXCJjbG9zZWRcIjp1LmEuaShcIkNvbm5lY3Rpb24gc3RhdGUgdHJhbnNpdGlvbmQgdG8gXCIuY29uY2F0KGUuY29ubmVjdGlvblN0YXRlKSx0Lm5vZGUsdC5wZWVyKSx0LmNsb3NlKCl9fSxlfWZ1bmN0aW9uIG90KHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbixyOyhuPWUscj1uLmRhdGEsciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP1Byb21pc2UucmVzb2x2ZShyKTpcImZ1bmN0aW9uXCI9PT10eXBlb2Ygci5hcnJheUJ1ZmZlcj9yLmFycmF5QnVmZmVyKCk6UHJvbWlzZS5yZXNvbHZlKHIpKS50aGVuKChmdW5jdGlvbihlKXtpZihlKXtTLnRpY2soKTt2YXIgbj1fLmEud3JhcChlKSxyPW4ucmVhZEJ5dGUoKSxpPW4udG9BcnJheUJ1ZmZlcigpO3N3aXRjaChyKXtjYXNlIHouTk9USUZZOnZhciBvPVYuZGVjb2RlKGkpLGE9by5rZXkscz1vLnN0YXRlO3M9PT1xLkVWSUNURUQ/dC5wZWVyU3RhdGUuZGVsZXRlKGEpOnQucGVlclN0YXRlLnNldChhLHMpO2JyZWFrO2Nhc2Ugei5SRVFVRVNUOnZhciBjPUcuZGVjb2RlKGkpLGY9Yy5rZXksbD1jLnR4SWQsaD10LmNhY2hlLmdldChmKTt0LnJlc3BvbmQoZixoLGwpO2JyZWFrO2Nhc2Ugei5BV0FJVDp2YXIgcD1XLmRlY29kZShpKSxkPXAua2V5LHk9cC50eElkO1Byb21pc2UucmFjZShbdC5jYWNoZS5hd2FpdCh5LGQpLE9iamVjdCgkLmMpKDRlMyxudWxsKV0pLnRoZW4oKGZ1bmN0aW9uKGUpe3QucmVzcG9uZChkLGUseSl9KSk7YnJlYWs7Y2FzZSB6LkRBVEE6dmFyIHY9Si5kZWNvZGUoaSksZz12LmRhdGEsYj12LnR4SWQsbT1uZXcgZXQodC5wZWVyLm5vZGVJZCxnLHR0Lm5vdygpKSx3PXQucGVuZGluZ0NodW5rcy5nZXQoYil8fFtdO3cucHVzaChtKSx0LnBlbmRpbmdDaHVua3Muc2V0KGIsdyk7YnJlYWs7Y2FzZSB6LlRFWFQ6dmFyIEU9WS5kZWNvZGUoaSkseD1FLnRleHQsTz1FLnR4SWQsVD10LnBlbmRpbmdSZXNwb25zZS5nZXQoTyksaz1uZXcgZXQodC5wZWVyLm5vZGVJZCx4LHR0Lm5vdygpKTtULm5leHQoayksdC5wZW5kaW5nUmVzcG9uc2UuZGVsZXRlKE8pLFQuY29tcGxldGUoKTticmVhaztjYXNlIHouREFUQV9TRU5USU5FTDp2YXIgaj1aLmRlY29kZShpKSxBPXQucGVuZGluZ1Jlc3BvbnNlLmdldChqLnR4SWQpO3RyeXt2YXIgST10LmFnZ3JlZ2F0ZUNodW5rcyhqLnR4SWQpLEM9SS5kYXRhLFA9SS50cztpZihDLmJ5dGVMZW5ndGg9PT1qLm9yaWdpbmFsU2l6ZUJ5dGVzKXt2YXIgUj1uZXcgZXQodC5wZWVyLm5vZGVJZCxDLFApO0EubmV4dChSKX1lbHNle3ZhciBMPXtlcnJvcjp7bWVzc2FnZTpcIkludmFsaWQgc2l6ZSBhZnRlciB1bmNodW5raW5nXCIsc3RhdHVzQ29kZTo0NDR9LHBlZXJJZDp0LnBlZXIubm9kZUlkfTtBLmVycm9yKEwpfX1jYXRjaChlKXt2YXIgTj17ZXJyb3I6e21lc3NhZ2U6ZS5tZXNzYWdlLHN0YXR1c0NvZGU6NTAwfSxwZWVySWQ6dC5wZWVyLm5vZGVJZH07QS5lcnJvcihOKX1maW5hbGx5e3QucGVuZGluZ1Jlc3BvbnNlLmRlbGV0ZShqLnR4SWQpLEEuY29tcGxldGUoKX1icmVhaztjYXNlIHouRkFJTFVSRTp2YXIgRD1LLmRlY29kZShpKSxVPXQucGVuZGluZ1Jlc3BvbnNlLmdldChELnR4SWQpLE09e2Vycm9yOnttZXNzYWdlOlwiRmFpbGVkIHRvIFBlZXIgZGF0YVwiLGRhdGE6RCxzdGF0dXNDb2RlOkQuc3RhdHVzQ29kZX0scGVlcklkOnQucGVlci5ub2RlSWR9O1UuZXJyb3IoTSksdC5wZW5kaW5nUmVzcG9uc2UuZGVsZXRlKEQudHhJZCk7YnJlYWs7Y2FzZSB6LkNBTkNFTDpjYXNlIHouQUNLOmNhc2Ugei5DTE9TRTpicmVhaztkZWZhdWx0OnUuYS5pKFwidW5oYW5kbGVkIHBlZXIgbWVzc2FnZVwiKX19fSkpLmNhdGNoKChmdW5jdGlvbih0KXt1LmEuaShcImZhaWxlZCB0byBoYW5kbGUgZGF0YWNoYW5uZWwgbWVzc2FnZS5cIix0KX0pKX19dmFyIGF0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4scixpKXt2YXIgbz1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06e307USh0aGlzLHQpLHRoaXMuY2FjaGU9ZSx0aGlzLm5vZGU9bix0aGlzLnBlZXI9cix0aGlzLnBlZXJDb25maWd1cmF0aW9uPWksdGhpcy5jaGFubmVsT3B0aW9ucz1vLHRoaXMucGVlclN0YXRlPW5ldyBNYXAsdGhpcy5wZW5kaW5nQ2h1bmtzPW5ldyBNYXAsdGhpcy5wZW5kaW5nUmVzcG9uc2U9bmV3IE1hcCx0aGlzLnN0YXRlPXcsdGhpcy5pY2VDYW5kaWRhdGVzPVtdLHRoaXMucGVlckljZUNhbmRpZGF0ZXM9W10sdGhpcy5jb25uZWN0aW9uUmV0cmllcz0wLHRoaXMuY29ubmVjdGlvbk9mZmVyZWQ9ITEsdGhpcy5zaWduYWxpbmdTdGFibGU9ITF9dmFyIGUsbixyO3JldHVybiBlPXQsKG49W3trZXk6XCJfaW5jcmVtZW50UmV0cmllc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jb25uZWN0aW9uUmV0cmllcz10aGlzLmNvbm5lY3Rpb25SZXRyaWVzKzF9fSx7a2V5OlwiY2FuUmV0cnlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbm5lY3Rpb25PZmZlcmVkJiZ0aGlzLmNvbm5lY3Rpb25SZXRyaWVzPDN9fSx7a2V5OlwiX2J1aWxkUnRjRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5pY2VDYW5kaWRhdGVzLGU9dGhpcy5wZWVySWNlQ2FuZGlkYXRlcyxuPXRoaXMucGVlckNvbm5lY3Rpb24scj17aWNlQ2FuZGlkYXRlczp0LHBlZXJJY2VDYW5kaWRhdGVzOmUsbm9kZTp0aGlzLm5vZGUscGVlcjp0aGlzLnBlZXJ9O2lmKG4mJlwiY2xvc2VkXCIhPW4uc2lnbmFsaW5nU3RhdGUpe3ZhciBpPW4ubG9jYWxEZXNjcmlwdGlvbixvPW4ucmVtb3RlRGVzY3JpcHRpb24sYT1uLmN1cnJlbnRMb2NhbERlc2NyaXB0aW9uLHM9bi5jdXJyZW50UmVtb3RlRGVzY3JpcHRpb24sdT1uLnBlbmRpbmdMb2NhbERlc2NyaXB0aW9uLGM9bi5wZW5kaW5nUmVtb3RlRGVzY3JpcHRpb24sZj1uLnNpZ25hbGluZ1N0YXRlLGw9bi5pY2VDb25uZWN0aW9uU3RhdGU7aSYmKHIubG9jYWxEZXNjcmlwdGlvbj1pKSxvJiYoci5yZW1vdGVEZXNjcmlwdGlvbj1vKSxhJiYoci5jdXJyZW50TG9jYWxEZXNjcmlwdGlvbj1hKSxzJiYoci5jdXJyZW50UmVtb3RlRGVzY3JpcHRpb249cyksdSYmKHIucGVuZGluZ0xvY2FsRGVzY3JpcHRpb249dSksYyYmKHIucGVuZGluZ1JlbW90ZURlc2NyaXB0aW9uPWMpLGYmJihyLnNpZ25hbGluZ1N0YXRlPWYpLGwmJihyLmljZUNvbm5lY3Rpb25TdGF0ZT1sKX1lbHNlIHIuc2lnbmFsaW5nU3RhdGU9XCJjbG9zZWRcIjtyZXR1cm4gcn19LHtrZXk6XCJvbmNsb3NlXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5Olwib25vcGVuXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5Olwib2ZmZXJDb25uZWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9pbmNyZW1lbnRSZXRyaWVzKCksdGhpcy5jb25uZWN0aW9uT2ZmZXJlZD0hMCxTLnNlbmRQZWVyQ29ubmVjdGlvbkV2ZW50KHRoaXMubm9kZSx0aGlzLnBlZXIsdyx0aGlzLl9idWlsZFJ0Y0RhdGEoKSksdGhpcy5wZWVyQ29ubmVjdGlvbj1pdCh0aGlzKSx0aGlzLmRhdGFDaGFubmVsPXRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWwodGhpcy5ub2RlLm5vZGVJZCx0aGlzLmNoYW5uZWxPcHRpb25zKSx0aGlzLnNldHVwRGF0YUNoYW5uZWwoKSx0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIHQucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihlKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciBlPXQucGVlckNvbm5lY3Rpb24sbj1lLmxvY2FsRGVzY3JpcHRpb247Uy5wcm92aWRlT2ZmZXIodC5wZWVyLHQubm9kZSxuKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe2UucmVtb3RlRGVzY3JpcHRpb258fCh1LmEuaShcIk5vIHJlbW90ZSBkZXNjcmlwdGlvbiBzZXQuIEFzc3VtaW5nIHRoZSBjbGllbnQgbmV2ZXIgcmVjZWl2ZWQgYW4gYW5zd2VyLCBjbG9zaW5nLlwiKSx0LmNsb3NlKCkpfSksMWU0KX0pKX19LHtrZXk6XCJoYW5kbGVBbnN3ZXJcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO1Muc2VuZFBlZXJDb25uZWN0aW9uRXZlbnQodGhpcy5ub2RlLHRoaXMucGVlcix3LHRoaXMuX2J1aWxkUnRjRGF0YSgpKSx0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHQpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUucGVlckNvbm5lY3Rpb24ubG9jYWxEZXNjcmlwdGlvbn0pLChmdW5jdGlvbih0KXt1LmEuZSh0KX0pKX19LHtrZXk6XCJhbnN3ZXJDb25uZWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLnBlZXJDb25uZWN0aW9uPWl0KHRoaXMpLHRoaXMucGVlckNvbm5lY3Rpb24ub25kYXRhY2hhbm5lbD1mdW5jdGlvbih0KXtlLmRhdGFDaGFubmVsPXQuY2hhbm5lbCxlLnNldHVwRGF0YUNoYW5uZWwoKX0sdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih0KS50aGVuKChmdW5jdGlvbigpe2UucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCkudGhlbigoZnVuY3Rpb24odCl7ZS5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHQpLFMucHJvdmlkZUFuc3dlcihlLnBlZXIsZS5ub2RlLHQpfSksKGZ1bmN0aW9uKHQpe3UuYS5lKHQpfSkpfSkpfX0se2tleTpcImFkZFBlbmRpbmdDYW5kaWRhdGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMucGVlckljZUNhbmRpZGF0ZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQucGVlckNvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKGUpfSkpfX0se2tleTpcImhhbmRsZUljZUNhbmRpZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKG51bGwhPT10KXRyeXt0aGlzLnBlZXJDb25uZWN0aW9uPyh0aGlzLnBlZXJJY2VDYW5kaWRhdGVzLnB1c2godCksdGhpcy5zaWduYWxpbmdTdGFibGUmJnRoaXMucGVlckNvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKHQpKTp1LmEuZShcIlJlY2VpdmVkIGljZUNhbmRpZGF0ZSB3aGVuIHBlZXJDb25uZWN0aW9uIHdhcyBudWxsLlwiLHQpfWNhdGNoKHQpe3UuYS5pKFwiZmFpbGVkIHRvIGFkZCBpY2UgY2FuZGlkYXRlXCIsdCl9fX0se2tleTpcIl9jbGVhbnVwUmVzb3VyY2VzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLmRhdGFDaGFubmVsJiZ0aGlzLmRhdGFDaGFubmVsLmNsb3NlKCksdGhpcy5wZWVyQ29ubmVjdGlvbiYmdGhpcy5wZWVyQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMucGVuZGluZ1Jlc3BvbnNlJiZ0aGlzLnBlbmRpbmdSZXNwb25zZS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj1cIlBlZXIgY29ubmVjdGlvbiBcIi5jb25jYXQodD9cImZhaWxlZFwiOlwiY2xvc2VkXCIpO24uZXJyb3Ioe2Vycm9yOnttZXNzYWdlOnJ9LHBlZXJJZDplLnBlZXIubm9kZUlkfSl9KSl9fSx7a2V5OlwiX3JldHJ5T3JDbG9zZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jYW5SZXRyeSgpPyh1LmEuaShcIlJldHJ5aW5nIGNvbm5lY3Rpb24uIFwiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25SZXRyaWVzLFwiIHByZXZpb3VzIGF0dGVtcHRzLlwiKSx0aGlzLm5vZGUsdGhpcy5wZWVyKSx0aGlzLm9mZmVyQ29ubmVjdGlvbigpKToodS5hLmkoXCJDbG9zaW5nIGNvbm5lY3Rpb24uXCIsdGhpcy5ub2RlLHRoaXMucGVlciksdGhpcy5vbmNsb3NlKCkpfX0se2tleTpcImZhaWxcIix2YWx1ZTpmdW5jdGlvbigpe3UuYS5pKFwiRmFpbGluZyBQZWVyQ2hhbm5lbCBmb3IgcGVlcjogXCIrdGhpcy5wZWVyLm5vZGVJZCx0aGlzLnBlZXIpLHRoaXMuX2NsZWFudXBSZXNvdXJjZXMoITApLFMuc2VuZFBlZXJDb25uZWN0aW9uRXZlbnQodGhpcy5ub2RlLHRoaXMucGVlcix4LHRoaXMuX2J1aWxkUnRjRGF0YSgpKSx0aGlzLl9yZXRyeU9yQ2xvc2UoKX19LHtrZXk6XCJjbG9zZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB1LmEuaShcIkNsb3NpbmcgUGVlckNoYW5uZWwgZm9yIHBlZXI6IFwiK3RoaXMucGVlci5ub2RlSWQsdGhpcy5wZWVyKSx0aGlzLl9jbGVhbnVwUmVzb3VyY2VzKCExKSxTLnNlbmRQZWVyQ29ubmVjdGlvbkV2ZW50KHRoaXMubm9kZSx0aGlzLnBlZXIsTyx0aGlzLl9idWlsZFJ0Y0RhdGEoKSksdD92b2lkIDA6dm9pZCB0aGlzLl9yZXRyeU9yQ2xvc2UoKX19LHtrZXk6XCJzZXR1cERhdGFDaGFubmVsXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLmRhdGFDaGFubmVsLm9ub3Blbj0odD10aGlzLGZ1bmN0aW9uKCl7dC5zdGF0ZT1FLHQub25vcGVuKCksdC5jYWNoZS5rZXlzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5ub3RpZnkoZSxxLkhBVkUpfSkpLFMuc2VuZFBlZXJDb25uZWN0aW9uRXZlbnQodC5ub2RlLHQucGVlcix0LnN0YXRlLHQuX2J1aWxkUnRjRGF0YSgpKX0pLHRoaXMuZGF0YUNoYW5uZWwub25lcnJvcj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dS5hLmkoXCJkYXRhIGNoYW5uZWwgZXJyb3JcIixlLHQpLHQuY2xvc2UoKX19KHRoaXMpLHRoaXMuZGF0YUNoYW5uZWwub25jbG9zZT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXt1LmEuaShcImRhdGEgY2hhbm5lbCBjbG9zZWRcIix0KSx0LmNsb3NlKCl9fSh0aGlzKSx0aGlzLmRhdGFDaGFubmVsLm9ubWVzc2FnZT1vdCh0aGlzKX19LHtrZXk6XCJnZXRTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBlZXJTdGF0ZS5nZXQodCl9fSx7a2V5Olwibm90aWZ5XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1udCh6Lk5PVElGWSxWLmVuY29kZSh0LGUpKTt0cnl7dGhpcy5kYXRhQ2hhbm5lbFNlbmQobil9Y2F0Y2godCl7dS5hLmkodGhpcyx0KX19fSx7a2V5OlwiZGF0YUNoYW5uZWxTZW5kXCIsdmFsdWU6ZnVuY3Rpb24odCl7dHJ5e3RoaXMuZGF0YUNoYW5uZWwuc2VuZCh0KX1jYXRjaCh0KXtpZih1LmEuaShcIkZhaWxlZCB0byBzZW5kIG9uIGRhdGEgY2hhbm5lbCB0byBwZWVyOiBcIit0aGlzLnBlZXIubm9kZUlkLHQpLHRoaXMuZGF0YUNoYW5uZWwpc3dpdGNoKHRoaXMuZGF0YUNoYW5uZWwucmVhZHlTdGF0ZSl7Y2FzZVwiY29ubmVjdGluZ1wiOmNhc2VcImNsb3NpbmdcIjpjYXNlXCJjbG9zZWRcIjpyZXR1cm4gdS5hLmkoXCJDbG9zaW5nIGNvbm5lY3Rpb24gZHVlIHRvIERhdGFDaGFubmVsIHJlYWR5U3RhdGUgXCIuY29uY2F0KHRoaXMuZGF0YUNoYW5uZWwucmVhZHlTdGF0ZSksdGhpcy5kYXRhQ2hhbm5lbCksdm9pZCB0aGlzLmNsb3NlKCl9aWYodGhpcy5wZWVyQ29ubmVjdGlvbilzd2l0Y2godGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGUpe2Nhc2VcImRpc2Nvbm5lY3RlZFwiOmNhc2VcImZhaWxlZFwiOmNhc2VcImNsb3NlZFwiOnJldHVybiB1LmEuaShcIkNsb3NpbmcgY29ubmVjdGlvbiB3aXRoIFBlZXJDb25uZWN0aW9uLmNvbm5lY3Rpb25TdGF0ZSBcIi5jb25jYXQodGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGUpLHRoaXMucGVlckNvbm5lY3Rpb24pLHZvaWQgdGhpcy5jbG9zZSgpfX19fSx7a2V5OlwiYXdhaXREYXRhXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRUeElkKCksbj1udCh6LkFXQUlULFcuZW5jb2RlKGUsdCkpO3RoaXMuZGF0YUNoYW5uZWxTZW5kKG4pO3ZhciByPW5ldyBEO3JldHVybiB0aGlzLnBlbmRpbmdSZXNwb25zZS5zZXQoZSxyKSxyfX0se2tleTpcImZldGNoRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0VHhJZCgpLG49bnQoei5SRVFVRVNULEcuZW5jb2RlKGUsdCkpO3RoaXMuZGF0YUNoYW5uZWxTZW5kKG4pO3ZhciByPW5ldyBEO3JldHVybiB0aGlzLnBlbmRpbmdSZXNwb25zZS5zZXQoZSxyKSxyfX0se2tleTpcImFnZ3JlZ2F0ZUNodW5rc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucGVuZGluZ0NodW5rcy5nZXQodCk7cmV0dXJuIHRoaXMucGVuZGluZ0NodW5rcy5kZWxldGUodCkse2RhdGE6TShlLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQucGF5bG9hZH0pKSksdHM6ZVswXS50c319fSx7a2V5OlwicmVzcG9uZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzO2lmKGUpaWYoT2JqZWN0KCQuYikoZSkpe3ZhciBpPW50KHouVEVYVCxZLmVuY29kZShuLHQsZSkpO3RoaXMuZGF0YUNoYW5uZWxTZW5kKGkpfWVsc2UgQS5hLmNyZWF0ZSgoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTo2NTUzNixyPXQuYnl0ZUxlbmd0aCxpPTA7aTxyO2krPW4pe3ZhciBvPXQuc2xpY2UoaSxpK24pO2Uobyl9fShlLChmdW5jdGlvbihlKXtyZXR1cm4gdC5uZXh0KGUpfSksMzI3NjgpLHQuY29tcGxldGUoKX0pKS5zdWJzY3JpYmUoe25leHQ6ZnVuY3Rpb24oZSl7dmFyIGk9bnQoei5EQVRBLEouZW5jb2RlKG4sdCxlKSk7ci5kYXRhQ2hhbm5lbFNlbmQoaSl9LGVycm9yOmZ1bmN0aW9uKCl7dmFyIGk9bnQoei5EQVRBX1NFTlRJTkVMLFouZW5jb2RlKG4sdCxlLmJ5dGVMZW5ndGgpKTtyLmRhdGFDaGFubmVsU2VuZChpKX0sY29tcGxldGU6ZnVuY3Rpb24oKXt2YXIgaT1udCh6LkRBVEFfU0VOVElORUwsWi5lbmNvZGUobix0LGUuYnl0ZUxlbmd0aCkpO3IuZGF0YUNoYW5uZWxTZW5kKGkpfX0pO2Vsc2V7dmFyIG89bnQoei5GQUlMVVJFLEsuZW5jb2RlKG4sdCw0MDgpKTt0aGlzLmRhdGFDaGFubmVsU2VuZChvKX19fSx7a2V5OlwiZ2V0VHhJZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHhJZHx8KHRoaXMudHhJZD0xKSx0aGlzLnR4SWQrK319XSkmJlgoZS5wcm90b3R5cGUsbiksciYmWChlLHIpLHR9KCk7big3OSk7dmFyIHN0PWZ1bmN0aW9uIHQoZSl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSxPYmplY3QuYXNzaWduKHRoaXMsZSl9O24oNDI5KTtmdW5jdGlvbiB1dCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19dmFyIGN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLE9iamVjdC5hc3NpZ24odGhpcyxlLHtub2RlOm5ldyBzdChlLm5vZGUpLHBlZXJMaW1pdDplLnBlZXJMaW1pdHx8MTV9KX12YXIgZSxuLHI7cmV0dXJuIGU9dCwobj1be2tleTpcInNpZ25hbGluZ0NvbmZpZ1wiLGdldDpmdW5jdGlvbigpe3JldHVybntzZXJ2ZXI6dGhpcy5ub2RlLm5vZGVJZCx0cmFuc3BvcnRzOltcIndlYnNvY2tldFwiXX19fSx7a2V5OlwiZXZlbnRCdXNFbmRwb2ludFVSTFwiLGdldDpmdW5jdGlvbigpe3JldHVybiBuZXcgVVJMKHRoaXMuZXZlbnRCdXNFbmRwb2ludCx0aGlzLmJhc2VVcmwpfX0se2tleTpcImxvY2FsRXZlbnRCdXNBZGRyZXNzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZUFkZHJlc3N9fSx7a2V5OlwiYmFzZVVybFwiLGdldDpmdW5jdGlvbigpe3JldHVybiBPYmplY3Qoby5hKSh0aGlzLmhvc3RuYW1lKX19XSkmJnV0KGUucHJvdG90eXBlLG4pLHImJnV0KGUsciksdH0oKTtmdW5jdGlvbiBmdCh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gbHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fWZ1bmN0aW9uIGh0KHQpe3JldHVybiB0P1wic3RyaW5nXCI9PT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIFN0cmluZz8obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUodCkuYnl0ZUxlbmd0aDp0LmJ5dGVMZW5ndGg/dC5ieXRlTGVuZ3RoOnQubGVuZ3RoP3QubGVuZ3RoOjA6MH12YXIgcHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjI1NmU2O2Z0KHRoaXMsdCksdGhpcy5tYXhCeXRlcz1lLHRoaXMuY2FjaGVkQnl0ZXM9MCx0aGlzLmNhY2hlPW5ldyBNYXB9dmFyIGUsbixyO3JldHVybiBlPXQsKG49W3trZXk6XCJnZXRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNhY2hlLmdldCh0KTtyZXR1cm4gZSYmKHRoaXMuY2FjaGUuZGVsZXRlKHQpLHRoaXMuY2FjaGUuc2V0KHQsZSkpLGV9fSx7a2V5Olwic2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1odChlKTtpZihuPnRoaXMubWF4Qnl0ZXMpdS5hLmUoXCJwYXlsb2FkIGZvciBcIi5jb25jYXQodCxcIiBpcyB0b28gbGFyZ2UgYXQgXCIpLmNvbmNhdChuLFwiIGJ5dGVzLlwiKSk7ZWxzZXtmb3IodGhpcy5jYWNoZS5oYXModCkmJnRoaXMuY2FjaGUuZGVsZXRlKHQpO3RoaXMuY2FjaGVkQnl0ZXMrbj50aGlzLm1heEJ5dGVzOyl7dmFyIHI9dGhpcy5jYWNoZS5rZXlzKCkubmV4dCgpLnZhbHVlO3RoaXMuZGVsZXRlKHIpfXRoaXMuY2FjaGVkQnl0ZXM9dGhpcy5jYWNoZWRCeXRlcytuLHRoaXMuY2FjaGUuc2V0KHQsZSl9fX0se2tleTpcImhhc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNhY2hlLmhhcyh0KX19LHtrZXk6XCJrZXlzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYWNoZS5rZXlzKCl9fSx7a2V5OlwiZGVsZXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jYWNoZS5nZXQodCk7cmV0dXJuIHRoaXMuY2FjaGVkQnl0ZXM9dGhpcy5jYWNoZWRCeXRlcy1odChlKSx0aGlzLmNhY2hlLmRlbGV0ZSh0KX19LHtrZXk6XCJvbkV2aWN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt9fV0pJiZsdChlLnByb3RvdHlwZSxuKSxyJiZsdChlLHIpLHR9KCk7ZnVuY3Rpb24gZHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fWZ1bmN0aW9uIHl0KHQsZSxuKXt0LmdldChlKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdChudWxsLG4pfSkpLHQuZGVsZXRlKGUpfXZhciB2dD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuY2FjaGU9bmV3IHB0LHRoaXMub25QdXQ9ZSx0aGlzLm9uRXZpY3Q9bix0aGlzLmF3YWl0cz1uZXcgTWFwLHRoaXMuc291cmNlPW51bGx9dmFyIGUsbixyO3JldHVybiBlPXQsKG49W3trZXk6XCJrZXlzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmNhY2hlLmtleXMoKSl9fSx7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2FjaGUuZ2V0KHQpfX0se2tleTpcImF3YWl0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmF3YWl0cztyZXR1cm4gdGhpcy5jYWNoZS5oYXMoZSk/UHJvbWlzZS5yZXNvbHZlKHRoaXMuY2FjaGUuZ2V0KGUpKTpuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxyKXt2YXIgaT1uLmdldChlKXx8W107aS5wdXNoKChmdW5jdGlvbihlLG4pe2UmJnIoZSksdChuKX0pKSxuLnNldChlLGkpfSkpfX0se2tleTpcInB1dFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5zb3VyY2V8fCh0aGlzLnNvdXJjZT10KSx0aGlzLmNhY2hlLnNldCh0LGUpLHRoaXMub25QdXQodCxlKSx0aGlzLmF3YWl0cy5oYXModCkmJnl0KHRoaXMuYXdhaXRzLHQsZSl9fSx7a2V5OlwiZXZpY3RcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNhY2hlLmdldCh0KTt0aGlzLmNhY2hlLmRlbGV0ZSh0KSx0aGlzLm9uRXZpY3QodCxlKSx0aGlzLmF3YWl0cy5oYXModCkmJnl0KHRoaXMuYXdhaXRzLHQsbnVsbCl9fSx7a2V5OlwiY2xlYXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY2FjaGU9bmV3IHB0fX1dKSYmZHQoZS5wcm90b3R5cGUsbiksciYmZHQoZSxyKSx0fSgpO3ZhciBndD1cIkNBQ0hFRFwiLGJ0PVwiRVZJQ1RFRFwiLG10PWZ1bmN0aW9uIHQoZSxuLHIsaSxvLGEpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksT2JqZWN0LmFzc2lnbih0aGlzLHtub2RlSWQ6ZSxjb250ZW50SWQ6bixvYmplY3RJZDpyLHN0YXR1czppLHRpbWVzdGFtcDpvLHRvdGFsQnl0ZXM6YX0pfTtmdW5jdGlvbiB3dCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19ZnVuY3Rpb24gRXQodCxlLG4scixpLG8sYSl7dHJ5e3ZhciBzPXRbb10oYSksdT1zLnZhbHVlfWNhdGNoKHQpe3JldHVybiB2b2lkIG4odCl9cy5kb25lP2UodSk6UHJvbWlzZS5yZXNvbHZlKHUpLnRoZW4ocixpKX1mdW5jdGlvbiB4dCh0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49YXJndW1lbnRzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixpKXt2YXIgbz10LmFwcGx5KGUsbik7ZnVuY3Rpb24gYSh0KXtFdChvLHIsaSxhLHMsXCJuZXh0XCIsdCl9ZnVuY3Rpb24gcyh0KXtFdChvLHIsaSxhLHMsXCJ0aHJvd1wiLHQpfWEodm9pZCAwKX0pKX19ZnVuY3Rpb24gT3QodCxlKXtyZXR1cm4gVHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFR0KCl7cmV0dXJuKFR0PXh0KHMuYS5tYXJrKChmdW5jdGlvbiB0KGUsbil7dmFyIHI7cmV0dXJuIHMuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5wcmV2PTAsdC5uZXh0PTMsZmV0Y2goZSx7bWV0aG9kOlwiR0VUXCIsbW9kZTpcImNvcnNcIixjcmVkZW50aWFsczpcImluY2x1ZGVcIixoZWFkZXJzOntBdXRob3JpemF0aW9uOlwiQmVhcmVyIFwiLmNvbmNhdChuKSxcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luXCI6XCIqXCJ9fSk7Y2FzZSAzOnJldHVybiByPXQuc2VudCx0Lm5leHQ9NixyLmpzb24oKTtjYXNlIDY6cmV0dXJuIHQuYWJydXB0KFwicmV0dXJuXCIsdC5zZW50KTtjYXNlIDk6cmV0dXJuIHQucHJldj05LHQudDA9dC5jYXRjaCgwKSx0LmFicnVwdChcInJldHVyblwiLHtlcnJvcjp0LnQwfSk7Y2FzZSAxMjpjYXNlXCJlbmRcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCxudWxsLFtbMCw5XV0pfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBTdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuLHIpe3ZhciBpPXRoaXM7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLnRlbmFudElkPW4sdGhpcy50b2tlbj1yLHRoaXMuY2FjaGU9bmV3IHZ0KChmdW5jdGlvbih0LGUpe2lmKGUpe3ZhciBuPU9iamVjdCgkLmIpKGUpP2UubGVuZ3RoOmUuYnl0ZUxlbmd0aDtpLnNlbmRDYWNoZWQodCxuKX1lbHNlIGkuc2VuZENhY2hlZCh0LDApfSksKGZ1bmN0aW9uKHQsZSl7aWYoZSl7dmFyIG49T2JqZWN0KCQuYikoZSk/ZS5sZW5ndGg6ZS5ieXRlTGVuZ3RoO2kuc2VuZEV2aWN0ZWQodCxuKX1lbHNlIGkuc2VuZEV2aWN0ZWQodCwwKX0pKSx0aGlzLmNvbmZpZ1VybD1lLHRoaXMucGVlckNvbm5lY3Rpb25zPW5ldyBNYXAsdGhpcy5pbml0UHJvbWlzZT1udWxsLHRoaXMuaW5pdGlhbGl6ZWQ9ITEsdGhpcy5ub3RpZnlQZWVycy5iaW5kKHRoaXMpfXZhciBlLG4scixpO3JldHVybiBlPXQsKG49W3trZXk6XCJjb25maWd1cmVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnBlZXJDb25maWc9dCx0aGlzLnBlZXJDb25maWcmJih0aGlzLm5vZGU9dGhpcy5wZWVyQ29uZmlnLm5vZGUpfX0se2tleTpcInNldHVwUGVlclwiLHZhbHVlOihpPXh0KHMuYS5tYXJrKChmdW5jdGlvbiB0KGUpe3ZhciBuLHIsaSxvLGE9dGhpcztyZXR1cm4gcy5hLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKHRoaXMucGVlckNvbmZpZyl7dC5uZXh0PTY7YnJlYWt9cmV0dXJuIHQubmV4dD0zLE90KHRoaXMuY29uZmlnVXJsLHRoaXMudG9rZW4pO2Nhc2UgMzpuPXQuc2VudCxyPW5ldyBjdChuKSx0aGlzLmNvbmZpZ3VyZShyKTtjYXNlIDY6cmV0dXJuIGUmJmUodGhpcy5ub2RlKSxpPXRoaXMucGVlckNvbmZpZy5sb2NhbEV2ZW50QnVzQWRkcmVzcyxvPXRoaXMucGVlckhhbmRsZXIuYmluZCh0aGlzKSx0LmFicnVwdChcInJldHVyblwiLFMuaW5pdCh0aGlzLnBlZXJDb25maWcuZXZlbnRCdXNFbmRwb2ludFVSTCx0aGlzLnBlZXJDb25maWcuc2lnbmFsaW5nQ29uZmlnLHRoaXMucGVlckNvbmZpZy5ldmVudEJ1c0FkZHJlc3Mse29ub3BlbjpmdW5jdGlvbigpe1MucmVnaXN0ZXJIYW5kbGVyKGksbyl9LG9ucmVjb25uZWN0OmZ1bmN0aW9uKCl7YS5maW5kUGVlcnMoKS50aGVuKChmdW5jdGlvbih0KXthLmFkZFBlZXJzKHQpfSkpfX0pKTtjYXNlIDEwOmNhc2VcImVuZFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxmdW5jdGlvbih0KXtyZXR1cm4gaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcIlwiLGU9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7aWYoIXRoaXMuY29uZmlnVXJsKXJldHVybiB1LmEuZShcIlJlcXVpcmVzIGEgQ29uZmlnIHVybCB0byBpbml0aWFsaXplIHBlZXJpbmdcIiksUHJvbWlzZS5yZXNvbHZlKHRoaXMpO2lmKCF0aGlzLmNvbnRlbnR8fHRoaXMuY29udGVudC5pZCE9PXQuaWQpe3RoaXMuY29udGVudD10O3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMuaW5pdFByb21pc2V8fCh0aGlzLmluaXRQcm9taXNlPXRoaXMuc2V0dXBQZWVyKGUpKSx0JiZ0LmlkP3RoaXMuaW5pdFByb21pc2UudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbi5pbml0aWFsaXplZD0hMCxuLmZpbmRQZWVycygpfSksKGZ1bmN0aW9uKHQpe3JldHVybiB1LmEuaSh0KX0pKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gbi5hZGRQZWVycyh0KSxufSkpOnRoaXMuaW5pdFByb21pc2V9cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzKX19LHtrZXk6XCJwZWVySGFuZGxlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodCl1LmEuZSh0KTtlbHNle3UuYS5pKFwicGVlcmhhbmRsZXIsIFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShlKSkpO3ZhciBuLHI9ZS5ib2R5LGk9ci50eXBlLG89ci5wYXlsb2FkLGE9by5mcm9tO3N3aXRjaChhLm5vZGVJZD09PXRoaXMubm9kZS5ub2RlSWQmJnUuYS5lKFwicmVjZWl2ZWQgYSBtZXNzYWdlIGZyb20gc2VsZlwiKSxpKXtjYXNlXCJQRUVSX09GRkVSXCI6Uy50aWNrKCksdS5hLmkoXCJjcmVhdGluZyBhIGNvbm5lY3Rpb24gZm9yIHBlZXI6IFwiK2Eubm9kZUlkKSx0aGlzLmNyZWF0ZVBlZXJDb25uZWN0aW9uKGEsby5vZmZlcik7YnJlYWs7Y2FzZVwiUEVFUl9BTlNXRVJcIjpTLnRpY2soKSwobj10aGlzLmdldFBlZXJDb25uZWN0aW9uKGEpKSYmbi5oYW5kbGVBbnN3ZXIoby5hbnN3ZXIpO2JyZWFrO2Nhc2VcIklDRV9DQU5ESURBVEVcIjpTLnRpY2soKSwobj10aGlzLmdldFBlZXJDb25uZWN0aW9uKGEpKSYmbi5oYW5kbGVJY2VDYW5kaWRhdGUoby5jYW5kaWRhdGUpO2JyZWFrO2RlZmF1bHQ6dS5hLmUoXCJoYW5kbGVkIHVuZXhwZWN0ZWQgbWVzc2FnZSB0eXBlOiBcIitvLnR5cGUpfX19fSx7a2V5OlwiZmluZFBlZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gUy5maW5kUGVlcnModGhpcy5ub2RlLHRoaXMuY29udGVudC5pZCx0aGlzLnBlZXJDb25maWcucGVlckxpbWl0KS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdC5ib2R5fSksKGZ1bmN0aW9uKHQpe3JldHVybiB1LmEuaSh0KSxbXX0pKX19LHtrZXk6XCJhZGRQZWVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTtlLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBzdCh0KX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiF0LnBlZXJDb25uZWN0aW9ucy5oYXMoZS5ub2RlSWQpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuY3JlYXRlUGVlckNvbm5lY3Rpb24oZSl9KSl9fSx7a2V5OlwiZ2V0UGVlckNvbm5lY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5ub2RlSWQ9PT10aGlzLm5vZGUubm9kZUlkPyh1LmEuZShcIllvdSBjYW5ub3QgcGVlciB3aXRoIHlvdXJzZWxmIVwiKSxudWxsKToodGhpcy5wZWVyQ29ubmVjdGlvbnMuaGFzKHQubm9kZUlkKXx8dS5hLmkoXCJjb25uZWN0aW9uIG5vdCBpbnRpYWxpemVkXCIpLHRoaXMucGVlckNvbm5lY3Rpb25zLmdldCh0Lm5vZGVJZCkpfX0se2tleTpcImNyZWF0ZVBlZXJDb25uZWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0Lm5vZGVJZCE9PXRoaXMubm9kZS5ub2RlSWQpe2lmKCF0aGlzLnBlZXJDb25uZWN0aW9ucy5oYXModC5ub2RlSWQpKXt2YXIgbj1uZXcgYXQodGhpcy5jYWNoZSx0aGlzLm5vZGUsdCx0aGlzLnBlZXJDb25maWcucGVlckNvbmZpZ3VyYXRpb24pLHI9dGhpcztuLm9uY2xvc2U9ZnVuY3Rpb24oKXtyLnBlZXJDb25uZWN0aW9ucy5kZWxldGUodC5ub2RlSWQpLHIucGVlckNvbm5lY3Rpb25zLnNpemV9LGU/bi5hbnN3ZXJDb25uZWN0aW9uKGUpOm4ub2ZmZXJDb25uZWN0aW9uKCksci5wZWVyQ29ubmVjdGlvbnMuc2V0KHQubm9kZUlkLG4pfX1lbHNlIHUuYS5lKFwiZ2V0dGluZyBvZmZlciBmcm9tIHNlbGZcIil9fSx7a2V5OlwiZ2V0U291cmNlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2FjaGUuc291cmNlP3RoaXMuY2FjaGUuc291cmNlOnR9fSx7a2V5OlwicHV0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7dGhpcy5jYWNoZS5wdXQodCxlKSx0aGlzLm5vdGlmeUhhdmUodCksbiYmbj4wJiZzZXRUaW1lb3V0KChmdW5jdGlvbigpe3IuY2FjaGUuZXZpY3QodCksci5ub3RpZnlFdmljdGVkKHQpfSksbil9fSx7a2V5OlwibG9va3VwXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IE1hcChbW3EuSEFWRSxbXV0sW3EuU09VUkNJTkcsW11dLFtxLlBFRVJJTkcsW11dXSk7dGhpcy5wZWVyQ29ubmVjdGlvbnMuZm9yRWFjaCgoZnVuY3Rpb24obil7aWYobi5zdGF0ZT09PUUpe3ZhciByPW4uZ2V0U3RhdGUodCk7aWYocil7dmFyIGk9ZS5nZXQocik7aS5wdXNoKG4pLGUuc2V0KHIsaSl9fX0pKTt2YXIgbj1lLmdldChxLkhBVkUpO2lmKG4ubGVuZ3RoPjApcmV0dXJuIG5bMF0uZmV0Y2hEYXRhKHQpO3ZhciByPWUuZ2V0KHEuUEVFUklORyk7aWYoci5sZW5ndGg+MClyZXR1cm4gclswXS5hd2FpdERhdGEodCk7dmFyIGk9ZS5nZXQocS5TT1VSQ0lORyk7cmV0dXJuIGkubGVuZ3RoPjAmJmlbMF0uYXdhaXREYXRhKHQpfX0se2tleTpcIm5vdGlmeVBlZXJpbmdcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLm5vdGlmeVBlZXJzKHQscS5QRUVSSU5HKX19LHtrZXk6XCJub3RpZnlTb3VyY2luZ1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMubm90aWZ5UGVlcnModCxxLlNPVVJDSU5HKX19LHtrZXk6XCJub3RpZnlIYXZlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5ub3RpZnlQZWVycyh0LHEuSEFWRSl9fSx7a2V5Olwibm90aWZ5RXZpY3RlZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMubm90aWZ5UGVlcnModCxxLkVWSUNURUQpfX0se2tleTpcIm5vdGlmeVBlZXJzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLnBlZXJDb25uZWN0aW9ucy5mb3JFYWNoKChmdW5jdGlvbihuKXtuJiZuLnN0YXRlPT09RSYmbi5ub3RpZnkodCxlKX0pKX19LHtrZXk6XCJhd2FpdERhdGFcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyKXtuLnBlZXJDb25uZWN0aW9ucy5nZXQodC5ub2RlSWQpLmF3YWl0RGF0YShlKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gcih0KX0pKX0pKX19LHtrZXk6XCJzZW5kVHJhbnNmZXJSZWNvcmRcIix2YWx1ZTpmdW5jdGlvbih0KXt0cnl7Uy50cmFuc2ZlclJlY29yZCh0KX1jYXRjaCh0KXt1LmEuaSh0KX19fSx7a2V5Olwic2VuZENhY2hlZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IG10KHRoaXMubm9kZS5ub2RlSWQsdGhpcy5jb250ZW50LmlkLHQsZ3QsRGF0ZS5ub3coKSxlKTt0aGlzLnNlbmRDb250ZW50U3RhdHVzKG4pfX0se2tleTpcInNlbmRFdmljdGVkXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgbXQodGhpcy5ub2RlLm5vZGVJZCx0aGlzLmNvbnRlbnQuaWQsdCxidCxEYXRlLm5vdygpLGUpO3RoaXMuc2VuZENvbnRlbnRTdGF0dXMobil9fSx7a2V5Olwic2VuZENvbnRlbnRTdGF0dXNcIix2YWx1ZTpmdW5jdGlvbih0KXt0cnl7Uy5jb250ZW50U3RhdHVzKHQpfWNhdGNoKHQpe3UuYS5pKHQpfX19LHtrZXk6XCJzaHV0ZG93blwiLHZhbHVlOmZ1bmN0aW9uKCl7dS5hLmkoXCJTaHV0dGluZyBkb3duIHRoZSBwZWVyIG1hbmFnZXJcIiksdGhpcy5pbml0aWFsaXplZD0hMSx0aGlzLnBlZXJDb25uZWN0aW9ucy5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jbG9zZSghMCl9KSksdGhpcy5wZWVyQ29ubmVjdGlvbnMuY2xlYXIoKSxTLmNsb3NlKCksdGhpcy5jYWNoZS5jbGVhcigpfX1dKSYmd3QoZS5wcm90b3R5cGUsbiksciYmd3QoZSxyKSx0fSgpLGt0PW4oMjcpO2Z1bmN0aW9uIF90KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1uLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4ganR9KSk7dmFyIGp0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4peyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksT2JqZWN0KHIuYSkodGhpcyk7dmFyIGE9bi5jb250ZW50LHM9YS5pZCx1PWEudGVuYW50SWQsYz1hLnRva2VuLGY9bi5kZXRlY3Rpb25Tb3VyY2UudXJsO2lmKHRoaXMuYmluZFdlYlJUQz1uLmJpbmRXZWJSVEN8fGkuZCx0aGlzLnBlZXJNYW5hZ2VyPXQucGVlck1hbmFnZXJzW3NdLHRoaXMucGVlck1hbmFnZXIpdGhpcy5wZWVyTWFuYWdlci5pbml0aWFsaXplZHx8KHRoaXMuaW5pdFByb21pc2U9dGhpcy5wZWVyTWFuYWdlci5pbml0KHtpZDpzLHVybDpmfSkpO2Vsc2V7dmFyIGw9T2JqZWN0KG8uYSkobi5jb25maWcuc2dofHxuLnNpZ25hbEhvc3R8fFwic2lnbmFsLmtvbGxlY3RpdmUuYXBwXCIpLGg9XCJcIi5jb25jYXQobCxcIi9hcGkvcnRjL1wiKS5jb25jYXQodSxcIi9cIikuY29uY2F0KHMpLHA9bmV3IFN0KGgsdSxjKTt0LnBlZXJNYW5hZ2Vyc1tzXT1wLHRoaXMuaW5pdFByb21pc2U9cC5pbml0KHtpZDpzLHVybDpmfSwoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5ub2RlSWQscj1lLmNsaWVudElkLGk9ZS52ZXJzaW9ufHxcIjEuMC4wXCI7dC5zZXQoe3dlYnJ0Yzp7djppLG5vZGVJZDpuLGFnZW50SWQ6cn19LGt0LmEuU2VjdGlvbnMuRUNETjExKX0oZSx0KX0pKSx0aGlzLnBlZXJNYW5hZ2VyPXB9fXZhciBlLG4sYTtyZXR1cm4gZT10LChuPVt7a2V5OlwiaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5pdFByb21pc2V9fSx7a2V5Olwic3RhcnREZWxpdmVyeVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMucGxheWVyQmluZGluZz10aGlzLmJpbmRXZWJSVEModCx0aGlzLnBlZXJNYW5hZ2VyKX19LHtrZXk6XCJzdG9wXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBsYXllckJpbmRpbmcmJnRoaXMucGxheWVyQmluZGluZy5zdG9wKCksdGhpcy5wZWVyTWFuYWdlciYmdGhpcy5wZWVyTWFuYWdlci5zaHV0ZG93bigpfX1dKSYmX3QoZS5wcm90b3R5cGUsbiksYSYmX3QoZSxhKSx0fSgpO2p0LnBlZXJNYW5hZ2Vycz17fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjc3KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIodCw1KX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLmQoZSxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKTt2YXIgcj1mdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5vYnNlcnZhYmxlfHxcIkBAb2JzZXJ2YWJsZVwifSgpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHI9bigzNCksaT1uKDUzKSxvPXtjbG9zZWQ6ITAsbmV4dDpmdW5jdGlvbih0KXt9LGVycm9yOmZ1bmN0aW9uKHQpe2lmKHIuYS51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKXRocm93IHQ7T2JqZWN0KGkuYSkodCl9LGNvbXBsZXRlOmZ1bmN0aW9uKCl7fX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMpLGk9big1Niksbz1cIlwiLnNwbGl0O3QuZXhwb3J0cz1yKChmdW5jdGlvbigpe3JldHVybiFPYmplY3QoXCJ6XCIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApfSkpP2Z1bmN0aW9uKHQpe3JldHVyblwiU3RyaW5nXCI9PWkodCk/by5jYWxsKHQsXCJcIik6T2JqZWN0KHQpfTpPYmplY3R9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDExKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZighcih0KSlyZXR1cm4gdDt2YXIgbixpO2lmKGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mKG49dC50b1N0cmluZykmJiFyKGk9bi5jYWxsKHQpKSlyZXR1cm4gaTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZihuPXQudmFsdWVPZikmJiFyKGk9bi5jYWxsKHQpKSlyZXR1cm4gaTtpZighZSYmXCJmdW5jdGlvblwiPT10eXBlb2Yobj10LnRvU3RyaW5nKSYmIXIoaT1uLmNhbGwodCkpKXJldHVybiBpO3Rocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKX19LGZ1bmN0aW9uKHQsZSl7dmFyIG49MCxyPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwiU3ltYm9sKFwiK1N0cmluZyh2b2lkIDA9PT10P1wiXCI6dCkrXCIpX1wiKygrK24rcikudG9TdHJpbmcoMzYpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e319LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE4OCksaT1uKDE0OCkuY29uY2F0KFwibGVuZ3RoXCIsXCJwcm90b3R5cGVcIik7ZS5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbih0KXtyZXR1cm4gcih0LGkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDEpLGk9bigyMCksbz1uKDc3KSxhPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4sYSl7dmFyIHMsdT1yKGUpLGM9aSh1Lmxlbmd0aCksZj1vKGEsYyk7aWYodCYmbiE9bil7Zm9yKDtjPmY7KWlmKChzPXVbZisrXSkhPXMpcmV0dXJuITB9ZWxzZSBmb3IoO2M+ZjtmKyspaWYoKHR8fGYgaW4gdSkmJnVbZl09PT1uKXJldHVybiB0fHxmfHwwO3JldHVybiF0JiYtMX19O3QuZXhwb3J0cz17aW5jbHVkZXM6YSghMCksaW5kZXhPZjphKCExKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXt9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNyksaT1uKDI2Mik7dC5leHBvcnRzPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8KFwiX19wcm90b19fXCJpbnt9P2Z1bmN0aW9uKCl7dmFyIHQsZT0hMSxuPXt9O3RyeXsodD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5wcm90b3R5cGUsXCJfX3Byb3RvX19cIikuc2V0KS5jYWxsKG4sW10pLGU9biBpbnN0YW5jZW9mIEFycmF5fWNhdGNoKHQpe31yZXR1cm4gZnVuY3Rpb24obixvKXtyZXR1cm4gcihuKSxpKG8pLGU/dC5jYWxsKG4sbyk6bi5fX3Byb3RvX189byxufX0oKTp2b2lkIDApfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNTUpLGk9big1Niksbz1uKDcpKFwidG9TdHJpbmdUYWdcIiksYT1cIkFyZ3VtZW50c1wiPT1pKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPXI/aTpmdW5jdGlvbih0KXt2YXIgZSxuLHI7cmV0dXJuIHZvaWQgMD09PXQ/XCJVbmRlZmluZWRcIjpudWxsPT09dD9cIk51bGxcIjpcInN0cmluZ1wiPT10eXBlb2Yobj1mdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4gdFtlXX1jYXRjaCh0KXt9fShlPU9iamVjdCh0KSxvKSk/bjphP2koZSk6XCJPYmplY3RcIj09KHI9aShlKSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY2FsbGVlP1wiQXJndW1lbnRzXCI6cn19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDk5KSxpPW4oOTcpLG89big3KShcIml0ZXJhdG9yXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZih2b2lkIDAhPXQpcmV0dXJuIHRbb118fHRbXCJAQGl0ZXJhdG9yXCJdfHxpW3IodCldfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMiksaT1uKDE2MSkubGVmdCxvPW4oMTAyKSxhPW4oNDkpLHM9byhcInJlZHVjZVwiKSx1PWEoXCJyZWR1Y2VcIix7MTowfSk7cih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IXN8fCF1fSx7cmVkdWNlOmZ1bmN0aW9uKHQpe3JldHVybiBpKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMyk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49W11bdF07cmV0dXJuISFuJiZyKChmdW5jdGlvbigpe24uY2FsbChudWxsLGV8fGZ1bmN0aW9uKCl7dGhyb3cgMX0sMSl9KSl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10eXBlb2YgdDtyZXR1cm4gbnVsbCE9dCYmKFwib2JqZWN0XCI9PWV8fFwiZnVuY3Rpb25cIj09ZSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigzNjYpLGk9bigzNjcpO3QuZXhwb3J0cz1yKFwiTWFwXCIsKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0KHRoaXMsYXJndW1lbnRzLmxlbmd0aD9hcmd1bWVudHNbMF06dm9pZCAwKX19KSxpKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oNSksaT1uKDIzNSk7ZnVuY3Rpb24gbyh0LGUsbil7aS5jYWxsKHRoaXMsdCxlLG4se25vQ3JlZGVudGlhbHM6ITB9KX1yKG8saSksby5lbmFibGVkPWkuZW5hYmxlZCx0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXt0LmV4cG9ydHM9e2lzT3BlcmE6ZnVuY3Rpb24oKXtyZXR1cm4gZS5uYXZpZ2F0b3ImJi9vcGVyYS9pLnRlc3QoZS5uYXZpZ2F0b3IudXNlckFnZW50KX0saXNLb25xdWVyb3I6ZnVuY3Rpb24oKXtyZXR1cm4gZS5uYXZpZ2F0b3ImJi9rb25xdWVyb3IvaS50ZXN0KGUubmF2aWdhdG9yLnVzZXJBZ2VudCl9LGhhc0RvbWFpbjpmdW5jdGlvbigpe2lmKCFlLmRvY3VtZW50KXJldHVybiEwO3RyeXtyZXR1cm4hIWUuZG9jdW1lbnQuZG9tYWlufWNhdGNoKHQpe3JldHVybiExfX19fSkuY2FsbCh0aGlzLG4oNikpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe3ZhciByPW4oNjEpLGk9big1MCksbz1uKDEwNik7dC5leHBvcnRzPXtXUHJlZml4OlwiX2pwXCIsY3VycmVudFdpbmRvd0lkOm51bGwscG9sbHV0ZUdsb2JhbE5hbWVzcGFjZTpmdW5jdGlvbigpe3QuZXhwb3J0cy5XUHJlZml4IGluIGV8fChlW3QuZXhwb3J0cy5XUHJlZml4XT17fSl9LHBvc3RNZXNzYWdlOmZ1bmN0aW9uKG4scil7ZS5wYXJlbnQhPT1lJiZlLnBhcmVudC5wb3N0TWVzc2FnZShpLnN0cmluZ2lmeSh7d2luZG93SWQ6dC5leHBvcnRzLmN1cnJlbnRXaW5kb3dJZCx0eXBlOm4sZGF0YTpyfHxcIlwifSksXCIqXCIpfSxjcmVhdGVJZnJhbWU6ZnVuY3Rpb24odCxuKXt2YXIgaSxvLGE9ZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpLHM9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoaSk7dHJ5e2Eub25sb2FkPW51bGx9Y2F0Y2godCl7fWEub25lcnJvcj1udWxsfSx1PWZ1bmN0aW9uKCl7YSYmKHMoKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe2EmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKSxhPW51bGx9KSwwKSxyLnVubG9hZERlbChvKSl9LGM9ZnVuY3Rpb24odCl7YSYmKHUoKSxuKHQpKX07cmV0dXJuIGEuc3JjPXQsYS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGEuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGEub25lcnJvcj1mdW5jdGlvbigpe2MoXCJvbmVycm9yXCIpfSxhLm9ubG9hZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dChpKSxpPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7YyhcIm9ubG9hZCB0aW1lb3V0XCIpfSksMmUzKX0sZS5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpLGk9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtjKFwidGltZW91dFwiKX0pLDE1ZTMpLG89ci51bmxvYWRBZGQodSkse3Bvc3Q6ZnVuY3Rpb24odCxlKXtzZXRUaW1lb3V0KChmdW5jdGlvbigpe3RyeXthJiZhLmNvbnRlbnRXaW5kb3cmJmEuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh0LGUpfWNhdGNoKHQpe319KSwwKX0sY2xlYW51cDp1LGxvYWRlZDpzfX0sY3JlYXRlSHRtbGZpbGU6ZnVuY3Rpb24obixpKXt2YXIgbyxhLHMsdT1bXCJBY3RpdmVcIl0uY29uY2F0KFwiT2JqZWN0XCIpLmpvaW4oXCJYXCIpLGM9bmV3IGVbdV0oXCJodG1sZmlsZVwiKSxmPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KG8pLHMub25lcnJvcj1udWxsfSxsPWZ1bmN0aW9uKCl7YyYmKGYoKSxyLnVubG9hZERlbChhKSxzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocykscz1jPW51bGwsQ29sbGVjdEdhcmJhZ2UoKSl9LGg9ZnVuY3Rpb24odCl7YyYmKGwoKSxpKHQpKX07Yy5vcGVuKCksYy53cml0ZSgnPGh0bWw+PHNjcmlwdD5kb2N1bWVudC5kb21haW49XCInK2UuZG9jdW1lbnQuZG9tYWluKydcIjs8XFwvc2NyaXB0PjwvaHRtbD4nKSxjLmNsb3NlKCksYy5wYXJlbnRXaW5kb3dbdC5leHBvcnRzLldQcmVmaXhdPWVbdC5leHBvcnRzLldQcmVmaXhdO3ZhciBwPWMuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gYy5ib2R5LmFwcGVuZENoaWxkKHApLHM9Yy5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpLHAuYXBwZW5kQ2hpbGQocykscy5zcmM9bixzLm9uZXJyb3I9ZnVuY3Rpb24oKXtoKFwib25lcnJvclwiKX0sbz1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2goXCJ0aW1lb3V0XCIpfSksMTVlMyksYT1yLnVubG9hZEFkZChsKSx7cG9zdDpmdW5jdGlvbih0LGUpe3RyeXtzZXRUaW1lb3V0KChmdW5jdGlvbigpe3MmJnMuY29udGVudFdpbmRvdyYmcy5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHQsZSl9KSwwKX1jYXRjaCh0KXt9fSxjbGVhbnVwOmwsbG9hZGVkOmZ9fX0sdC5leHBvcnRzLmlmcmFtZUVuYWJsZWQ9ITEsZS5kb2N1bWVudCYmKHQuZXhwb3J0cy5pZnJhbWVFbmFibGVkPShcImZ1bmN0aW9uXCI9PT10eXBlb2YgZS5wb3N0TWVzc2FnZXx8XCJvYmplY3RcIj09PXR5cGVvZiBlLnBvc3RNZXNzYWdlKSYmIW8uaXNLb25xdWVyb3IoKSl9KS5jYWxsKHRoaXMsbig2KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDIpLGk9bigzNykuZmluZCxvPW4oMTUyKSxhPW4oNDkpLHM9ITAsdT1hKFwiZmluZFwiKTtcImZpbmRcImluW10mJkFycmF5KDEpLmZpbmQoKGZ1bmN0aW9uKCl7cz0hMX0pKSxyKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDpzfHwhdX0se2ZpbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIGkodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxvKFwiZmluZFwiKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIHR9bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE0NiksaT1uKDkzKSxvPXIoXCJrZXlzXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gb1t0XXx8KG9bdF09aSh0KSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big1Nik7dC5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVyblwiQXJyYXlcIj09cih0KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE4OCksaT1uKDE0OCk7dC5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gcih0LGkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzgpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpIGluIGUpcih0LGksZVtpXSxuKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDU3KSxpPW4oMjQpLG89big3KSxhPW4oMTYpLHM9byhcInNwZWNpZXNcIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXIodCksbj1pLmY7YSYmZSYmIWVbc10mJm4oZSxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big3KShcIml0ZXJhdG9yXCIpLGk9ITE7dHJ5e3ZhciBvPTAsYT17bmV4dDpmdW5jdGlvbigpe3JldHVybntkb25lOiEhbysrfX0scmV0dXJuOmZ1bmN0aW9uKCl7aT0hMH19O2Fbcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sQXJyYXkuZnJvbShhLChmdW5jdGlvbigpe3Rocm93IDJ9KSl9Y2F0Y2godCl7fXQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFlJiYhaSlyZXR1cm4hMTt2YXIgbj0hMTt0cnl7dmFyIG89e307b1tyXT1mdW5jdGlvbigpe3JldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6bj0hMH19fX0sdChvKX1jYXRjaCh0KXt9cmV0dXJuIG59fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big5MiksaT1uKDI0KSxvPW4oNjQpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dmFyIGE9cihlKTthIGluIHQ/aS5mKHQsYSxvKDAsbikpOnRbYV09bn19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMpLGk9big3KSxvPW4oMTU5KSxhPWkoXCJzcGVjaWVzXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbz49NTF8fCFyKChmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybihlLmNvbnN0cnVjdG9yPXt9KVthXT1mdW5jdGlvbigpe3JldHVybntmb286MX19LDEhPT1lW3RdKEJvb2xlYW4pLmZvb30pKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI3OSksaT1uKDI4MCksbz1uKDI4MSksYT1uKDI4Mikscz1uKDI4Myk7ZnVuY3Rpb24gdSh0KXt2YXIgZT0tMSxuPW51bGw9PXQ/MDp0Lmxlbmd0aDtmb3IodGhpcy5jbGVhcigpOysrZTxuOyl7dmFyIHI9dFtlXTt0aGlzLnNldChyWzBdLHJbMV0pfX11LnByb3RvdHlwZS5jbGVhcj1yLHUucHJvdG90eXBlLmRlbGV0ZT1pLHUucHJvdG90eXBlLmdldD1vLHUucHJvdG90eXBlLmhhcz1hLHUucHJvdG90eXBlLnNldD1zLHQuZXhwb3J0cz11fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMDcpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aDtuLS07KWlmKHIodFtuXVswXSxlKSlyZXR1cm4gbjtyZXR1cm4tMX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE2MyksaT1uKDI5MCksbz1uKDI5MSksYT1yP3IudG9TdHJpbmdUYWc6dm9pZCAwO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD92b2lkIDA9PT10P1wiW29iamVjdCBVbmRlZmluZWRdXCI6XCJbb2JqZWN0IE51bGxdXCI6YSYmYSBpbiBPYmplY3QodCk/aSh0KTpvKHQpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNzMpKE9iamVjdCxcImNyZWF0ZVwiKTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzA0KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10Ll9fZGF0YV9fO3JldHVybiByKGUpP25bXCJzdHJpbmdcIj09dHlwZW9mIGU/XCJzdHJpbmdcIjpcImhhc2hcIl06bi5tYXB9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMTEpLGk9bigyMTIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixvKXt2YXIgYT0hbjtufHwobj17fSk7Zm9yKHZhciBzPS0xLHU9ZS5sZW5ndGg7KytzPHU7KXt2YXIgYz1lW3NdLGY9bz9vKG5bY10sdFtjXSxjLG4sdCk6dm9pZCAwO3ZvaWQgMD09PWYmJihmPXRbY10pLGE/aShuLGMsZik6cihuLGMsZil9cmV0dXJuIG59fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdC53ZWJwYWNrUG9seWZpbGx8fCh0LmRlcHJlY2F0ZT1mdW5jdGlvbigpe30sdC5wYXRocz1bXSx0LmNoaWxkcmVufHwodC5jaGlsZHJlbj1bXSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJsb2FkZWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiaWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5pfX0pLHQud2VicGFja1BvbHlmaWxsPTEpLHR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyKSxpPW4oMTI2KTtyKHt0YXJnZXQ6XCJSZWdFeHBcIixwcm90bzohMCxmb3JjZWQ6Ly4vLmV4ZWMhPT1pfSx7ZXhlYzppfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpLG89bigyMDIpLGE9bigzNDQpLHM9UmVnRXhwLnByb3RvdHlwZS5leGVjLHU9U3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlLGM9cyxmPShyPS9hLyxpPS9iKi9nLHMuY2FsbChyLFwiYVwiKSxzLmNhbGwoaSxcImFcIiksMCE9PXIubGFzdEluZGV4fHwwIT09aS5sYXN0SW5kZXgpLGw9YS5VTlNVUFBPUlRFRF9ZfHxhLkJST0tFTl9DQVJFVCxoPXZvaWQgMCE9PS8oKT8/Ly5leGVjKFwiXCIpWzFdOyhmfHxofHxsKSYmKGM9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksYT10aGlzLGM9bCYmYS5zdGlja3kscD1vLmNhbGwoYSksZD1hLnNvdXJjZSx5PTAsdj10O3JldHVybiBjJiYoLTE9PT0ocD1wLnJlcGxhY2UoXCJ5XCIsXCJcIikpLmluZGV4T2YoXCJnXCIpJiYocCs9XCJnXCIpLHY9U3RyaW5nKHQpLnNsaWNlKGEubGFzdEluZGV4KSxhLmxhc3RJbmRleD4wJiYoIWEubXVsdGlsaW5lfHxhLm11bHRpbGluZSYmXCJcXG5cIiE9PXRbYS5sYXN0SW5kZXgtMV0pJiYoZD1cIig/OiBcIitkK1wiKVwiLHY9XCIgXCIrdix5KyspLG49bmV3IFJlZ0V4cChcIl4oPzpcIitkK1wiKVwiLHApKSxoJiYobj1uZXcgUmVnRXhwKFwiXlwiK2QrXCIkKD8hXFxcXHMpXCIscCkpLGYmJihlPWEubGFzdEluZGV4KSxyPXMuY2FsbChjP246YSx2KSxjP3I/KHIuaW5wdXQ9ci5pbnB1dC5zbGljZSh5KSxyWzBdPXJbMF0uc2xpY2UoeSksci5pbmRleD1hLmxhc3RJbmRleCxhLmxhc3RJbmRleCs9clswXS5sZW5ndGgpOmEubGFzdEluZGV4PTA6ZiYmciYmKGEubGFzdEluZGV4PWEuZ2xvYmFsP3IuaW5kZXgrclswXS5sZW5ndGg6ZSksaCYmciYmci5sZW5ndGg+MSYmdS5jYWxsKHJbMF0sbiwoZnVuY3Rpb24oKXtmb3IoaT0xO2k8YXJndW1lbnRzLmxlbmd0aC0yO2krKyl2b2lkIDA9PT1hcmd1bWVudHNbaV0mJihyW2ldPXZvaWQgMCl9KSkscn0pLHQuZXhwb3J0cz1jfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyKSxpPW4oMjI4KTtyKHt0YXJnZXQ6XCJBcnJheVwiLHN0YXQ6ITAsZm9yY2VkOiFuKDExNSkoKGZ1bmN0aW9uKHQpe0FycmF5LmZyb20odCl9KSl9LHtmcm9tOml9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMiksaT1uKDk2KS5pbmRleE9mLG89bigxMDIpLGE9big0OSkscz1bXS5pbmRleE9mLHU9ISFzJiYxL1sxXS5pbmRleE9mKDEsLTApPDAsYz1vKFwiaW5kZXhPZlwiKSxmPWEoXCJpbmRleE9mXCIse0FDQ0VTU09SUzohMCwxOjB9KTtyKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDp1fHwhY3x8IWZ9LHtpbmRleE9mOmZ1bmN0aW9uKHQpe3JldHVybiB1P3MuYXBwbHkodGhpcyxhcmd1bWVudHMpfHwwOmkodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMiksaT1uKDExKSxvPW4oMTExKSxhPW4oNzcpLHM9bigyMCksdT1uKDQxKSxjPW4oMTE2KSxmPW4oNyksbD1uKDExNyksaD1uKDQ5KSxwPWwoXCJzbGljZVwiKSxkPWgoXCJzbGljZVwiLHtBQ0NFU1NPUlM6ITAsMDowLDE6Mn0pLHk9ZihcInNwZWNpZXNcIiksdj1bXS5zbGljZSxnPU1hdGgubWF4O3Ioe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOiFwfHwhZH0se3NsaWNlOmZ1bmN0aW9uKHQsZSl7dmFyIG4scixmLGw9dSh0aGlzKSxoPXMobC5sZW5ndGgpLHA9YSh0LGgpLGQ9YSh2b2lkIDA9PT1lP2g6ZSxoKTtpZihvKGwpJiYoXCJmdW5jdGlvblwiIT10eXBlb2Yobj1sLmNvbnN0cnVjdG9yKXx8biE9PUFycmF5JiYhbyhuLnByb3RvdHlwZSk/aShuKSYmbnVsbD09PShuPW5beV0pJiYobj12b2lkIDApOm49dm9pZCAwLG49PT1BcnJheXx8dm9pZCAwPT09bikpcmV0dXJuIHYuY2FsbChsLHAsZCk7Zm9yKHI9bmV3KHZvaWQgMD09PW4/QXJyYXk6bikoZyhkLXAsMCkpLGY9MDtwPGQ7cCsrLGYrKylwIGluIGwmJmMocixmLGxbcF0pO3JldHVybiByLmxlbmd0aD1mLHJ9fSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDUpLGk9bigyOSkuRXZlbnRFbWl0dGVyO2Z1bmN0aW9uIG8odCxlKXtpLmNhbGwodGhpcyk7dmFyIG49dGhpczt0aGlzLmJ1ZmZlclBvc2l0aW9uPTAsdGhpcy54bz1uZXcgZShcIlBPU1RcIix0LG51bGwpLHRoaXMueG8ub24oXCJjaHVua1wiLHRoaXMuX2NodW5rSGFuZGxlci5iaW5kKHRoaXMpKSx0aGlzLnhvLm9uY2UoXCJmaW5pc2hcIiwoZnVuY3Rpb24odCxlKXtuLl9jaHVua0hhbmRsZXIodCxlKSxuLnhvPW51bGw7dmFyIHI9MjAwPT09dD9cIm5ldHdvcmtcIjpcInBlcm1hbmVudFwiO24uZW1pdChcImNsb3NlXCIsbnVsbCxyKSxuLl9jbGVhbnVwKCl9KSl9cihvLGkpLG8ucHJvdG90eXBlLl9jaHVua0hhbmRsZXI9ZnVuY3Rpb24odCxlKXtpZigyMDA9PT10JiZlKWZvcih2YXIgbj0tMTs7dGhpcy5idWZmZXJQb3NpdGlvbis9bisxKXt2YXIgcj1lLnNsaWNlKHRoaXMuYnVmZmVyUG9zaXRpb24pO2lmKC0xPT09KG49ci5pbmRleE9mKFwiXFxuXCIpKSlicmVhazt2YXIgaT1yLnNsaWNlKDAsbik7aSYmdGhpcy5lbWl0KFwibWVzc2FnZVwiLGkpfX0sby5wcm90b3R5cGUuX2NsZWFudXA9ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpfSxvLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe3RoaXMueG8mJih0aGlzLnhvLmNsb3NlKCksdGhpcy5lbWl0KFwiY2xvc2VcIixudWxsLFwidXNlclwiKSx0aGlzLnhvPW51bGwpLHRoaXMuX2NsZWFudXAoKX0sdC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDUpLGk9bigyMzUpO2Z1bmN0aW9uIG8odCxlLG4scil7aS5jYWxsKHRoaXMsdCxlLG4scil9cihvLGkpLG8uZW5hYmxlZD1pLmVuYWJsZWQmJmkuc3VwcG9ydHNDT1JTLHQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bigxMjUpLG4oMjI2KTt2YXIgcj1uKDApLGk9bigyNTQpO2UuYT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCl7dHJ5e3JldHVybiBKU09OLnBhcnNlKGkuQmFzZTY0LmRlY29kZSh0KSl9Y2F0Y2goZSl7ci5hLmUoXCJmYWlsZWQgdG8gcGFyc2Ugand0IGlucHV0OlwiLHQsZSl9fSh0LnNwbGl0KFwiLlwiKVsxXSl8fHt9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMSk7ZnVuY3Rpb24gaSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19dmFyIG89bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCl9dmFyIGUsbixvO3JldHVybiBlPXQsKG49W3trZXk6XCJkZXRlY3RcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0odHx8e30pLmNhbGxiYWNrOyhlPWV8fHIuZCkoe2ZhaWx1cmVzOltdfSl9fV0pJiZpKGUucHJvdG90eXBlLG4pLG8mJmkoZSxvKSx0fSgpKTtlLmE9b30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXt2YXIgcj1uKDM2NSksaT1uKDE4MCksbz0vXltBLVphLXpdW0EtWmEtejAtOSstLl0qOlxcL1xcLy8sYT0vXihbYS16XVthLXowLTkuKy1dKjopPyhcXC9cXC8pPyhbXFxTXFxzXSopL2kscz1uZXcgUmVnRXhwKFwiXltcXFxceDA5XFxcXHgwQVxcXFx4MEJcXFxceDBDXFxcXHgwRFxcXFx4MjBcXFxceEEwXFxcXHUxNjgwXFxcXHUxODBFXFxcXHUyMDAwXFxcXHUyMDAxXFxcXHUyMDAyXFxcXHUyMDAzXFxcXHUyMDA0XFxcXHUyMDA1XFxcXHUyMDA2XFxcXHUyMDA3XFxcXHUyMDA4XFxcXHUyMDA5XFxcXHUyMDBBXFxcXHUyMDJGXFxcXHUyMDVGXFxcXHUzMDAwXFxcXHUyMDI4XFxcXHUyMDI5XFxcXHVGRUZGXStcIik7ZnVuY3Rpb24gdSh0KXtyZXR1cm4odHx8XCJcIikudG9TdHJpbmcoKS5yZXBsYWNlKHMsXCJcIil9dmFyIGM9W1tcIiNcIixcImhhc2hcIl0sW1wiP1wiLFwicXVlcnlcIl0sZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZShcIlxcXFxcIixcIi9cIil9LFtcIi9cIixcInBhdGhuYW1lXCJdLFtcIkBcIixcImF1dGhcIiwxXSxbTmFOLFwiaG9zdFwiLHZvaWQgMCwxLDFdLFsvOihcXGQrKSQvLFwicG9ydFwiLHZvaWQgMCwxXSxbTmFOLFwiaG9zdG5hbWVcIix2b2lkIDAsMSwxXV0sZj17aGFzaDoxLHF1ZXJ5OjF9O2Z1bmN0aW9uIGwodCl7dmFyIG4scj0oXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZT9lOlwidW5kZWZpbmVkXCIhPT10eXBlb2Ygc2VsZj9zZWxmOnt9KS5sb2NhdGlvbnx8e30saT17fSxhPXR5cGVvZih0PXR8fHIpO2lmKFwiYmxvYjpcIj09PXQucHJvdG9jb2wpaT1uZXcgcCh1bmVzY2FwZSh0LnBhdGhuYW1lKSx7fSk7ZWxzZSBpZihcInN0cmluZ1wiPT09YSlmb3IobiBpbiBpPW5ldyBwKHQse30pLGYpZGVsZXRlIGlbbl07ZWxzZSBpZihcIm9iamVjdFwiPT09YSl7Zm9yKG4gaW4gdCluIGluIGZ8fChpW25dPXRbbl0pO3ZvaWQgMD09PWkuc2xhc2hlcyYmKGkuc2xhc2hlcz1vLnRlc3QodC5ocmVmKSl9cmV0dXJuIGl9ZnVuY3Rpb24gaCh0KXt0PXUodCk7dmFyIGU9YS5leGVjKHQpO3JldHVybntwcm90b2NvbDplWzFdP2VbMV0udG9Mb3dlckNhc2UoKTpcIlwiLHNsYXNoZXM6ISFlWzJdLHJlc3Q6ZVszXX19ZnVuY3Rpb24gcCh0LGUsbil7aWYodD11KHQpLCEodGhpcyBpbnN0YW5jZW9mIHApKXJldHVybiBuZXcgcCh0LGUsbik7dmFyIG8sYSxzLGYsZCx5LHY9Yy5zbGljZSgpLGc9dHlwZW9mIGUsYj10aGlzLG09MDtmb3IoXCJvYmplY3RcIiE9PWcmJlwic3RyaW5nXCIhPT1nJiYobj1lLGU9bnVsbCksbiYmXCJmdW5jdGlvblwiIT09dHlwZW9mIG4mJihuPWkucGFyc2UpLGU9bChlKSxvPSEoYT1oKHR8fFwiXCIpKS5wcm90b2NvbCYmIWEuc2xhc2hlcyxiLnNsYXNoZXM9YS5zbGFzaGVzfHxvJiZlLnNsYXNoZXMsYi5wcm90b2NvbD1hLnByb3RvY29sfHxlLnByb3RvY29sfHxcIlwiLHQ9YS5yZXN0LGEuc2xhc2hlc3x8KHZbM109Wy8oLiopLyxcInBhdGhuYW1lXCJdKTttPHYubGVuZ3RoO20rKylcImZ1bmN0aW9uXCIhPT10eXBlb2YoZj12W21dKT8ocz1mWzBdLHk9ZlsxXSxzIT09cz9iW3ldPXQ6XCJzdHJpbmdcIj09PXR5cGVvZiBzP34oZD10LmluZGV4T2YocykpJiYoXCJudW1iZXJcIj09PXR5cGVvZiBmWzJdPyhiW3ldPXQuc2xpY2UoMCxkKSx0PXQuc2xpY2UoZCtmWzJdKSk6KGJbeV09dC5zbGljZShkKSx0PXQuc2xpY2UoMCxkKSkpOihkPXMuZXhlYyh0KSkmJihiW3ldPWRbMV0sdD10LnNsaWNlKDAsZC5pbmRleCkpLGJbeV09Ylt5XXx8byYmZlszXSYmZVt5XXx8XCJcIixmWzRdJiYoYlt5XT1iW3ldLnRvTG93ZXJDYXNlKCkpKTp0PWYodCk7biYmKGIucXVlcnk9bihiLnF1ZXJ5KSksbyYmZS5zbGFzaGVzJiZcIi9cIiE9PWIucGF0aG5hbWUuY2hhckF0KDApJiYoXCJcIiE9PWIucGF0aG5hbWV8fFwiXCIhPT1lLnBhdGhuYW1lKSYmKGIucGF0aG5hbWU9ZnVuY3Rpb24odCxlKXtpZihcIlwiPT09dClyZXR1cm4gZTtmb3IodmFyIG49KGV8fFwiL1wiKS5zcGxpdChcIi9cIikuc2xpY2UoMCwtMSkuY29uY2F0KHQuc3BsaXQoXCIvXCIpKSxyPW4ubGVuZ3RoLGk9bltyLTFdLG89ITEsYT0wO3ItLTspXCIuXCI9PT1uW3JdP24uc3BsaWNlKHIsMSk6XCIuLlwiPT09bltyXT8obi5zcGxpY2UociwxKSxhKyspOmEmJigwPT09ciYmKG89ITApLG4uc3BsaWNlKHIsMSksYS0tKTtyZXR1cm4gbyYmbi51bnNoaWZ0KFwiXCIpLFwiLlwiIT09aSYmXCIuLlwiIT09aXx8bi5wdXNoKFwiXCIpLG4uam9pbihcIi9cIil9KGIucGF0aG5hbWUsZS5wYXRobmFtZSkpLHIoYi5wb3J0LGIucHJvdG9jb2wpfHwoYi5ob3N0PWIuaG9zdG5hbWUsYi5wb3J0PVwiXCIpLGIudXNlcm5hbWU9Yi5wYXNzd29yZD1cIlwiLGIuYXV0aCYmKGY9Yi5hdXRoLnNwbGl0KFwiOlwiKSxiLnVzZXJuYW1lPWZbMF18fFwiXCIsYi5wYXNzd29yZD1mWzFdfHxcIlwiKSxiLm9yaWdpbj1iLnByb3RvY29sJiZiLmhvc3QmJlwiZmlsZTpcIiE9PWIucHJvdG9jb2w/Yi5wcm90b2NvbCtcIi8vXCIrYi5ob3N0OlwibnVsbFwiLGIuaHJlZj1iLnRvU3RyaW5nKCl9cC5wcm90b3R5cGU9e3NldDpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcztzd2l0Y2godCl7Y2FzZVwicXVlcnlcIjpcInN0cmluZ1wiPT09dHlwZW9mIGUmJmUubGVuZ3RoJiYoZT0obnx8aS5wYXJzZSkoZSkpLG9bdF09ZTticmVhaztjYXNlXCJwb3J0XCI6b1t0XT1lLHIoZSxvLnByb3RvY29sKT9lJiYoby5ob3N0PW8uaG9zdG5hbWUrXCI6XCIrZSk6KG8uaG9zdD1vLmhvc3RuYW1lLG9bdF09XCJcIik7YnJlYWs7Y2FzZVwiaG9zdG5hbWVcIjpvW3RdPWUsby5wb3J0JiYoZSs9XCI6XCIrby5wb3J0KSxvLmhvc3Q9ZTticmVhaztjYXNlXCJob3N0XCI6b1t0XT1lLC86XFxkKyQvLnRlc3QoZSk/KGU9ZS5zcGxpdChcIjpcIiksby5wb3J0PWUucG9wKCksby5ob3N0bmFtZT1lLmpvaW4oXCI6XCIpKTooby5ob3N0bmFtZT1lLG8ucG9ydD1cIlwiKTticmVhaztjYXNlXCJwcm90b2NvbFwiOm8ucHJvdG9jb2w9ZS50b0xvd2VyQ2FzZSgpLG8uc2xhc2hlcz0hbjticmVhaztjYXNlXCJwYXRobmFtZVwiOmNhc2VcImhhc2hcIjppZihlKXt2YXIgYT1cInBhdGhuYW1lXCI9PT10P1wiL1wiOlwiI1wiO29bdF09ZS5jaGFyQXQoMCkhPT1hP2ErZTplfWVsc2Ugb1t0XT1lO2JyZWFrO2RlZmF1bHQ6b1t0XT1lfWZvcih2YXIgcz0wO3M8Yy5sZW5ndGg7cysrKXt2YXIgdT1jW3NdO3VbNF0mJihvW3VbMV1dPW9bdVsxXV0udG9Mb3dlckNhc2UoKSl9cmV0dXJuIG8ub3JpZ2luPW8ucHJvdG9jb2wmJm8uaG9zdCYmXCJmaWxlOlwiIT09by5wcm90b2NvbD9vLnByb3RvY29sK1wiLy9cIitvLmhvc3Q6XCJudWxsXCIsby5ocmVmPW8udG9TdHJpbmcoKSxvfSx0b1N0cmluZzpmdW5jdGlvbih0KXt0JiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgdHx8KHQ9aS5zdHJpbmdpZnkpO3ZhciBlLG49dGhpcyxyPW4ucHJvdG9jb2w7ciYmXCI6XCIhPT1yLmNoYXJBdChyLmxlbmd0aC0xKSYmKHIrPVwiOlwiKTt2YXIgbz1yKyhuLnNsYXNoZXM/XCIvL1wiOlwiXCIpO3JldHVybiBuLnVzZXJuYW1lJiYobys9bi51c2VybmFtZSxuLnBhc3N3b3JkJiYobys9XCI6XCIrbi5wYXNzd29yZCksbys9XCJAXCIpLG8rPW4uaG9zdCtuLnBhdGhuYW1lLChlPVwib2JqZWN0XCI9PT10eXBlb2Ygbi5xdWVyeT90KG4ucXVlcnkpOm4ucXVlcnkpJiYobys9XCI/XCIhPT1lLmNoYXJBdCgwKT9cIj9cIitlOmUpLG4uaGFzaCYmKG8rPW4uaGFzaCksb319LHAuZXh0cmFjdFByb3RvY29sPWgscC5sb2NhdGlvbj1sLHAudHJpbUxlZnQ9dSxwLnFzPWksdC5leHBvcnRzPXB9KS5jYWxsKHRoaXMsbig2KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE0MCksaT1mdW5jdGlvbih0LGUpe3JldHVybiB0KCk/bmV3IHIuYShlKCkpOm5ldyBYTUxIdHRwUmVxdWVzdH07ZS5hPWZ1bmN0aW9uKHQsZSxuKXt0LnNldFhtbEh0dHBSZXF1ZXN0RmFjdG9yeShpLmJpbmQobnVsbCxlLG4pKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24odCl7bigxMyksbigyMiksbigxMDgpLG4oMTUpLG4oNzIpLG4oMzEpLG4oMzIpLG4oODApLG4oMjgpLG4oOSksbigyNSksbigxOCk7dmFyIHI9big0MCksaT1uLm4ociksbz0obigxNzQpLG4oMCkpLGE9bigyMykscz1uKDEzNyksdT1uKDEpLGM9bigxMzgpLGY9big4NCksbD1uKDEzNSksaD1uKDg3KSxwPW4oMjU4KSxkPW4oMzApLHk9bigyNTkpO2Z1bmN0aW9uIHYodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIGcodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/dihPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe2IodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOnYoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9ZnVuY3Rpb24gYih0LGUsbil7cmV0dXJuIGUgaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9ZnVuY3Rpb24gbSh0LGUsbixyLGksbyxhKXt0cnl7dmFyIHM9dFtvXShhKSx1PXMudmFsdWV9Y2F0Y2godCl7cmV0dXJuIHZvaWQgbih0KX1zLmRvbmU/ZSh1KTpQcm9taXNlLnJlc29sdmUodSkudGhlbihyLGkpfWZ1bmN0aW9uIHcodCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxuPWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsaSl7dmFyIG89dC5hcHBseShlLG4pO2Z1bmN0aW9uIGEodCl7bShvLHIsaSxhLHMsXCJuZXh0XCIsdCl9ZnVuY3Rpb24gcyh0KXttKG8scixpLGEscyxcInRocm93XCIsdCl9YSh2b2lkIDApfSkpfX1mdW5jdGlvbiBFKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX12YXIgeD11LmMuREFTSCxPPXUuYy5ITFMsVD11LmMuU01PT1RILFM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbil7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSxPYmplY3QoYS5hKSh0aGlzKSx0aGlzLnNka0NvbmZpZz1uLHRoaXMucGxheWVyPXQsdGhpcy5wbGF5UmVhZHk9ITEsdGhpcy5zZG5QbGF5YmFja0ZhaWxlZD0hMSx0aGlzLmNvbmZpZ1Byb21pc2U9UHJvbWlzZS5yZXNvbHZlKG51bGwpLHRoaXMuc2V0dXBQbGF5ZXIodCl9dmFyIG4scix2LGIsbTtyZXR1cm4gbj1lLChyPVt7a2V5OlwiZ2V0Q29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2RrQ29uZmlnLmludGVncmF0aW9uLm5hbWV9fSx7a2V5OlwiZ2V0U2RuTmFtZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGQuYn19LHtrZXk6XCJpbml0Q29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcInByZXBhcmVSZXBvcnRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcInNldHVwUGxheWVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIG49dGhpczt0aGlzLmluaXRDb250ZXh0KCksZS5hZGRFdmVudExpc3RlbmVyKHQuYW1wLmV2ZW50TmFtZS5zb3VyY2VzZXQsKGZ1bmN0aW9uKCl7aWYobi5zZG5QbGF5YmFja0ZhaWxlZClyZXR1cm4gbi5wbGF5UmVhZHk9ITAsdm9pZCBvLmEuZihuLmdldENvbnRleHQoKStcIjpzZG4ucGxheWJhY2suZmFpbGVkXCIpO24uY2RuU291cmNlTGlzdD1lLm9wdGlvbnNfLnNvdXJjZUxpc3Qsbi5jb25maWdQcm9taXNlJiZuLmNvbmZpZ1Byb21pc2UudGhlbihmdW5jdGlvbigpe3ZhciB0PXcoaS5hLm1hcmsoKGZ1bmN0aW9uIHQoZSl7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gbi5jb25maWc9ZSxvLmEuaShuLmdldENvbnRleHQoKStcIjpzZG4uY29uZmlnXCIsZSksbi5wcmVwYXJlUmVwb3J0ZXIoKSx0Lm5leHQ9NSxuLnN0YXJ0RGVsaXZlcnkoKTtjYXNlIDU6Y2FzZVwiZW5kXCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSkuY2F0Y2goKGZ1bmN0aW9uKHQpe28uYS5mKG4uZ2V0Q29udGV4dCgpK1wiOnNkbi5wbGF5YmFjay5mYWlsZWRcIix0KSxuLnBsYXllci50cmlnZ2VyKHt0eXBlOmQuYy5zZG5Jbml0RmFpbHVyZX0sXCJuby5jZmdcIix0KSxuLnBsYXlSZWFkeT0hMH0pKX0pKTt2YXIgcj1lLmN1cnJlbnRUZWNoTmFtZSgpO3RoaXMucGxheWVyU291cmNlVHlwZT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkLmEpLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiBkLmFbdF0udGVjaD09PXJ9KSksdGhpcy5jb21wYXRpYmxlRGVsaXZlcnlNb2Rlcz1mdW5jdGlvbigpe3ZhciB0PXUuYS5FQ0ROMTAsZT11LmEuRUNETjExLHI9dS5hLldFQlJUQztzd2l0Y2gobi5wbGF5ZXJTb3VyY2VUeXBlKXtjYXNlIHg6cmV0dXJuO2Nhc2UgTzpyZXR1cm5bZSxyXTtjYXNlIFQ6cmV0dXJuW3RdO2RlZmF1bHQ6cmV0dXJuW119fSgpLE9iamVjdChsLmEpKGUsKGZ1bmN0aW9uKCl7cmV0dXJuIG4uZW5hYmxlV2ViUlRDfSksKGZ1bmN0aW9uKCl7cmV0dXJuIG4ucGxheWJhY2tNb2R1bGUucGVlck1hbmFnZXJ9KSl9fSx7a2V5OlwiZ2V0VmlkZW9FbGVtZW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGYuYSkodGhpcy5wbGF5ZXIpfX0se2tleTpcInByZXBhcmVTb3VyY2VJbmZvXCIsdmFsdWU6KG09dyhpLmEubWFyaygoZnVuY3Rpb24gdCgpe3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHQuYWJydXB0KFwicmV0dXJuXCIse3NvdXJjZXM6dGhpcy5jZG5Tb3VyY2VMaXN0fSk7Y2FzZSAxOmNhc2VcImVuZFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxmdW5jdGlvbigpe3JldHVybiBtLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwicHJlcGFyZVB1Ymxpc2hpbmdJbmZvXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJue2RldGVjdGlvbjp0fX19LHtrZXk6XCJzdGFydERlbGl2ZXJ5XCIsdmFsdWU6KGI9dyhpLmEubWFyaygoZnVuY3Rpb24gdCgpe3ZhciBlLG4scixvLGEsdT10aGlzO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHQubmV4dD0yLHRoaXMucHJlcGFyZVNvdXJjZUluZm8oKTtjYXNlIDI6aWYodGhpcy5zb3VyY2VJbmZvPXQuc2VudCxlPU9iamVjdCh5LmEpKHRoaXMuY2RuU291cmNlTGlzdCkpe3QubmV4dD04O2JyZWFrfXJldHVybiB0aGlzLmZhbGxiYWNrVG9DRE4oKSx0aGlzLnBsYXlSZWFkeT0hMCx0LmFicnVwdChcInJldHVyblwiKTtjYXNlIDg6bj10aGlzLnJlcG9ydGVyLHI9dGhpcy5jb25maWcsbz10aGlzLmNvbXBhdGlibGVEZWxpdmVyeU1vZGVzLGE9e3VybDplLHNvdXJjZVR5cGU6eH0sT2JqZWN0KHMuYSkobixhLHIsbykudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHUucHJlcGFyZVB1Ymxpc2hpbmdJbmZvKHQpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBQcm9taXNlLnJlc29sdmUoT2JqZWN0KGMuYSkodC5kZXRlY3Rpb24ubW9kZSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciByPWU9PT1oLmE7dS5lbmFibGVXZWJSVEM9cjt2YXIgaT11LmNvbmZpZyxvPXUuc3dpdGNoVG9DRE4scz11LnBsYXllclNvdXJjZVR5cGU7dS5wbGF5YmFja01vZHVsZT1uZXcgZShuLGcoe30sdCx7ZGV0ZWN0aW9uU291cmNlOmEsc291cmNlVHlwZTpzLGNvbmZpZzppLHN3aXRjaFRvQ0ROOm99KSx1LnNka0NvbmZpZyl9KSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdS5wbGF5YmFja01vZHVsZS5pbml0KCl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdS5wbGF5YmFja01vZHVsZS5zdGFydERlbGl2ZXJ5KHUuc291cmNlSW5mbyl9KSkudGhlbih0aGlzLnBsYXlLb2xsZWN0aXZlKS5jYXRjaCh0aGlzLmZhbGxiYWNrVG9DRE4pLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIHQ9dS5nZXRWaWRlb0VsZW1lbnQoKTt0Pyh1LnJlcG9ydGVyLmF0dGFjaFZpZGVvRWxlbWVudCh0KSx1LnBsYXlSZWFkeT0hMCk6KHUucmVwb3J0ZXIuYXR0YWNoQW1wUGxheWVyKHUucGxheWVyKSx1LnBsYXlSZWFkeT0hMCl9KSkuY2F0Y2godGhpcy5mYWxsYmFja1RvQ0ROKTtjYXNlIDExOmNhc2VcImVuZFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxmdW5jdGlvbigpe3JldHVybiBiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5Olwic3dpdGNoVG9DRE5cIix2YWx1ZTpmdW5jdGlvbih0KXtvLmEuZSh0aGlzLmdldENvbnRleHQoKStcIjpzd2l0Y2gyY2RuOlwiK3QpLHRoaXMuc2RuUGxheWJhY2tGYWlsZWQ9ITAsdGhpcy5jZG5Tb3VyY2VMaXN0JiZ0aGlzLnBsYXllci5zcmModGhpcy5jZG5Tb3VyY2VMaXN0KX19LHtrZXk6XCJmYWxsYmFja1RvQ0ROXCIsdmFsdWU6ZnVuY3Rpb24odCl7by5hLmUodGhpcy5nZXRDb250ZXh0KCkrXCI6ZmFsbGJhY2syY2RuOlwiK3QpLHRoaXMucGxheWJhY2tNb2R1bGUmJnRoaXMucGxheWJhY2tNb2R1bGUuc3RvcCgpLHRoaXMuc2RuUGxheWJhY2tGYWlsZWQ9ITAsdGhpcy5wbGF5ZXIub3B0aW9uc18uc291cmNlTGlzdD10aGlzLmNkblNvdXJjZUxpc3QsdGhpcy5wbGF5ZXIub3B0aW9uc18uc2RuLm5hbWU9bnVsbH19LHtrZXk6XCJwbGF5S29sbGVjdGl2ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMucGxheWVyLm9wdGlvbnNfLnNvdXJjZUxpc3Q9T2JqZWN0KHAuYSkodCx0aGlzLmNkblNvdXJjZUxpc3QpLHRoaXMucGxheWVyLm9wdGlvbnNfLnNkbi5uYW1lPXRoaXMuZ2V0U2RuTmFtZSgpfX0se2tleTpcInN0b3BcIix2YWx1ZTpmdW5jdGlvbigpe28uYS5pKFwiU3RvcHBpbmcgS29sbGVjdGl2ZSBTREsgcGx1Z2luXCIpLHRoaXMucGxheWJhY2tNb2R1bGUmJnRoaXMucGxheWJhY2tNb2R1bGUuc3RvcCgpLHRoaXMucmVwb3J0ZXImJnRoaXMucmVwb3J0ZXIuY2xlYW51cCgpfX1dKSYmRShuLnByb3RvdHlwZSxyKSx2JiZFKG4sdiksZX0oKTtlLmE9U30pLmNhbGwodGhpcyxuKDYpKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24oMTMpLG4oNDcpLG4oNDgpLG4oMjIpLG4oMTUpLG4oMTQpLG4oMzEpLG4oMzIpLG4oMjgpLG4oOSksbigyNSksbig3MSksbigyMSksbigxOCksbigyNik7dmFyIHI9bigyNTYpLGk9bi5uKHIpLG89bigxKSxhPShuKDEwMSksbigyNykpO2Z1bmN0aW9uIHModCxlLG4pe3JldHVybiBlIGluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbZV09bix0fXZhciB1PW8uYS5FQ0ROMTAsYz1vLmEuRUNETjExLGY9by5hLldFQlJUQyxsPW8uYi5MaXZlLGg9by5iLlZPRCxwPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpPWV8fHt9LG89aS50cGUscD1pLmVhZSxkPWkud2VsLHk9aS53ZXYsdj1pLndwbCxnPWkud3B2O289bnVsbD09b3x8ISFvO3ZhciBiPShufHxbdSxjLGZdKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbZV09ITAsdH0pLHt9KSxtPWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbjtyZXR1cm4hKCF0fHwhdC5wcm90b3R5cGUuY3JlYXRlRGF0YUNoYW5uZWwpfWNhdGNoKHQpe3JldHVybiExfX0oKSx3PWJbZl0sRT1iW3VdJiZvLHg9YltjXSYmcCxPPSEhdixUPSEhZyxTPXcmJmQsaz13JiZ5O218fCFTJiYha3x8dC5hZGQoe3R5cGU6YS5hLlR5cGUuV0VCUlRDLHN1Y2Nlc3M6ITEscmVhc29uOmEuYS5FcnJvci5VTlNVUFBPUlRFRH0pLFM9UyYmbSxrPWsmJm07dmFyIF89cHx8ZHx8eXx8IW87cmV0dXJue21vZGVPcmRlcjoocj17fSxzKHIsbCxbeCYmYyxPJiZTJiZmLEUmJnUsIU8mJlMmJmZdLmZpbHRlcihCb29sZWFuKSkscyhyLGgsW3gmJmMsVCYmayYmZixFJiZ1LCFUJiZrJiZmXS5maWx0ZXIoQm9vbGVhbikpLHIpLHBsYXRmb3JtOl8/Yzp1fX0sZD1vLmEuRUNETjEwLHk9by5hLkVDRE4xMSx2PW4oMjU3KSxnPW4ubih2KTtmdW5jdGlvbiBiKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBtKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP2IoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXt3KHQsZSxuW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpiKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkpfSkpfXJldHVybiB0fWZ1bmN0aW9uIHcodCxlLG4pe3JldHVybiBlIGluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbZV09bix0fXZhciBFPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSxzKXtlLmRldGVjdChtKHtjYWxsYmFjazpmdW5jdGlvbihlKXt2YXIgbj1lLnN1Y2Nlc3MsdT1lLmZhaWx1cmVzO2lmKHI9PT1vLmEuRUNETjEwKXt2YXIgYz1hLmEuVHlwZS5FQ0ROMTA7aWYoKHV8fFtdKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLnN0YXJ0LHI9ZS50LGk9ZS5wcm90b2NvbCxvPWUucmVxdWVzdC5zdGF0dXM7dC5hZGQoe3R5cGU6YyxtZXRob2Q6aSx0Om59KSx0LmFkZCh7dHlwZTpjLG1ldGhvZDppLHQ6cixzdGF0dXM6byxzdWNjZXNzOiExfSl9KSksbil7dmFyIGY9bi5zdGFydCxsPW4ucHJvdG9jb2wsaD1uLmRhdGEscD1oLnZlcnNpb24sZD1oLmJsYWNrb3V0O2lmKHQuYWRkKHt0eXBlOmMsbWV0aG9kOmwsdDpmfSksdC5hZGQobSh7dHlwZTpjLG1ldGhvZDpsLHN1Y2Nlc3M6ITAsdjpwfSxkJiZ7YmxhY2tvdXQ6ZH0pKSxnKCkoaC52ZXJzaW9uLFwiMTAuNlwiKTwwKXJldHVybiB2b2lkIHMoKX19bj9pKG4uZGF0YSk6cygpfX0sbiksdCl9KSl9LHg9big0MyksTz1uKDEzMyk7ZnVuY3Rpb24gVCh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gUyh0LGUsbil7cmV0dXJuIGUgaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9dmFyIGs9by5hLkVDRE4xMCxfPW8uYS5FQ0ROMTEsaj1vLmEuV0VCUlRDLEE9ZnVuY3Rpb24odCxlLG4pe3N3aXRjaChlKXtjYXNlIGo6cmV0dXJuIHQuYWRkKHt0eXBlOmEuYS5UeXBlLldFQlJUQyxzdWNjZXNzOiEwfSksUHJvbWlzZS5yZXNvbHZlKHttb2RlOmV9KTtjYXNlIF86cmV0dXJuIEUodCxPLmEsbikudGhlbigoZnVuY3Rpb24odCl7cmV0dXJue21vZGU6ZSxkYXRhOnR9fSkpO2Nhc2UgazpyZXR1cm4gRSh0LHguYSxuLGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciByPXQudm9kX29wdG91dCxpPTE9PXJ8fDA9PXI/cjpuLnZvbyxvPXttb2RlOmUsZGF0YTp0fTtyZXR1cm4gaT9mdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9UKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Uyh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6VChPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH0oe30sbyx7dm9kT3B0T3V0Oml9KTpvfSkpO2RlZmF1bHQ6cmV0dXJuIFByb21pc2UucmVqZWN0KHttb2RlOm51bGx9KX19LEk9bigxNDEpO2Z1bmN0aW9uIEModCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIFAodCxlLG4pe3JldHVybiBlIGluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbZV09bix0fWZ1bmN0aW9uIFIodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH0odCl8fGZ1bmN0aW9uKHQsZSl7aWYoIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpfHxcIltvYmplY3QgQXJndW1lbnRzXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKSlyZXR1cm47dmFyIG49W10scj0hMCxpPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIGEscz10W1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KGE9cy5uZXh0KCkpLmRvbmUpJiYobi5wdXNoKGEudmFsdWUpLCFlfHxuLmxlbmd0aCE9PWUpO3I9ITApO31jYXRjaCh0KXtpPSEwLG89dH1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgb319cmV0dXJuIG59KHQsZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIil9KCl9bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIER9KSk7dmFyIEw9by5iLkxpdmUsTj1vLmIuVk9EO2Z1bmN0aW9uIEQodCxlLG4scil7dmFyIG89cCh0LG4scikscz1vLm1vZGVPcmRlcix1PW8ucGxhdGZvcm07cmV0dXJuIGZ1bmN0aW9uIHIoaSxvKXt2YXIgYT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUob3x8T2JqZWN0KEkuYSkoZSkpfSxzPVIoaS5zaGlmdCgpfHxbXSwyKSx1PXNbMF0sYz1zWzFdO3JldHVybiB1PT09Y3x8bz9BKHQsbz09PUw/dTpjLG4pLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZvZE9wdE91dD9hKCkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1MP3ttb2RlOnQubW9kZSxkYXRhOnQuZGF0YSxwbGF5VHlwZTplfTpQcm9taXNlLnJlamVjdChlKX0pKTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9DKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7UCh0LGUsbltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6QyhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH0oe30sdCx7cGxheVR5cGU6b30pfSkpLmNhdGNoKChmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgdDtyZXR1cm4gdCYmbnVsbD09PXQubW9kZT90OnIoaSx0fHxvKX0pKTphKCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIGkudW5zaGlmdChbdSxjXSkscihpLHQpfSkpfShpKCkoc1tMXSxzW05dKSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGxhdGZvcm09dSxmdW5jdGlvbih0LGUpe3ZhciBuPWUubW9kZSxyPWUucGxhdGZvcm0saT1lLmRhdGE7c3dpdGNoKHQucGxhdGZvcm09cixuKXtjYXNlIGQ6dmFyIG89e3Y6aS52ZXJzaW9uLG5vZGVJZDppLm5vZGVfaWQsbWFjaGluZU5hbWU6aS5tYWNoaW5lX25hbWUsbWFjaGluZVVzZXJHdWlkOmkubWFjaGluZV91c2VyX2d1aWR9O3Quc2V0KHthZ2VudDpvfSxhLmEuU2VjdGlvbnMuRUNETjEwKTticmVhaztjYXNlIHk6ZGVmYXVsdDo7fX0odCxlKSxlfSkpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24oOSksbigyNSksbigxMyksbigyMiksbigxMDgpLG4oMTUpLG4oMTQpLG4oNjApLG4oNzIpLG4oNzkpLG4oMzEpLG4oMzIpLG4oMjgpLG4oMjEpLG4oMTgpLG4oMjYpO3ZhciByPW4oMCksaT1uKDIzKSxvPW4oMSksYT1uKDQzKSxzPVwibWFuaWZlc3RQcm9ncmVzc1wiLHU9XCJoYW5kbGVFcnJvclwiLGM9XCJodHRwRXJyb3JcIixmPVwiY2FuY2VsU3RyZWFtXCIsbD1cInN3aXRjaFRvQ0ROXCIsaD1cImFydFN0YXR1c1wiLHA9XCIxMDBcIixkPTQwNCx5PVwiZW5kZWRcIix2PVwic2h1dGRvd25cIixnPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY21kLG49dC5wYXJhbXMsaT10Lm9uUHJvZ3Jlc3Msbz10Lm9uUmVhZHksYT10LnN3aXRjaFRvQ0ROO3N3aXRjaChlKXtjYXNlIHM6cmV0dXJuIHZvaWQobiYmKG4ucGVyY2VudD09PXA/bygpOmkocGFyc2VJbnQobi5wZXJjZW50KSkpKTtjYXNlIHU6Y2FzZSBjOnJldHVybiB2b2lkKG4mJm4uY29kZT09PWQmJihyLmEuZihcImVjZG4xMDpwYWMuZm5mOlwiKyhuLm1lc3NhZ2U/bi5tZXNzYWdlOlwiXCIpKSxhKCkpKTtjYXNlIGY6cmV0dXJuIHIuYS5mKFwiZWNkbjEwOnBhYy5jczpcIisobiYmbi5tZXNzYWdlP24ubWVzc2FnZTpcIlwiKSksdm9pZCBhKCk7Y2FzZSBsOnJldHVybiByLmEuZihcImVjZG4xMDpwYWMuczJjZG46XCIrKG4mJm4ubWVzc2FnZT9uLm1lc3NhZ2U6XCJcIikpLHZvaWQgYSgpO2Nhc2UgaDpyZXR1cm4gdm9pZChuJiYobi5zdGF0dXMhPT15JiZuLnN0YXR1cyE9PXZ8fChyLmEuZihcImVjZG4xMDpwYWMuYXJ0OlwiK24uc3RhdHVzKSxhKCkpKSk7ZGVmYXVsdDpyZXR1cm59fSxiPW4oMTQxKTtmdW5jdGlvbiBtKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX12YXIgdz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49dGhpczshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMudGltZW91dD1lLnRhc3x8OGU0LHRoaXMudGltZW91dExpdmU9ZS50bGV8fHRoaXMudGltZW91dCx0aGlzLnRpbWVvdXRWT0Q9ZS50dmR8fHRoaXMudGltZW91dCx0aGlzLnByb21pc2U9bmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsZSl7bi5yZWplY3Q9ZX0pKX12YXIgZSxuLHI7cmV0dXJuIGU9dCwobj1be2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT10aGlzO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy50aW1lb3V0TGl2ZT09PXRoaXMudGltZW91dFZPRD90aGlzLnRpbWVvdXRMaXZlOlByb21pc2UucmVzb2x2ZShudWxsIT1lP2U6T2JqZWN0KGIuYSkoe3VybDpuLHNvdXJjZVR5cGU6cn0pKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdD09PW8uYi5MaXZlP2kudGltZW91dExpdmU6aS50aW1lb3V0Vk9EfSkpLmNhdGNoKChmdW5jdGlvbigpe3JldHVybiBNYXRoLm1pbihpLnRpbWVvdXRMaXZlLGkudGltZW91dFZPRCl9KSkpLnRoZW4oKGZ1bmN0aW9uKGUpe2U9TWF0aC5tYXgoMCxlLXQpLHNldFRpbWVvdXQoaS5yZWplY3QsZSxcInQuYS5zXCIpfSkpfX0se2tleTpcImdldFByb21pc2VcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb21pc2V9fV0pJiZtKGUucHJvdG90eXBlLG4pLHImJm0oZSxyKSx0fSgpO2Z1bmN0aW9uIEUodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIHgodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/RShPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe08odCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOkUoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9ZnVuY3Rpb24gTyh0LGUsbil7cmV0dXJuIGUgaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9ZnVuY3Rpb24gVCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19dmFyIFM9W3ttaW1lOlwiYXBwbGljYXRpb24vdm5kLm1zLXNzdHIreG1sXCIsdHlwZTpvLmMuU01PT1RIfSx7bWltZTpcImFwcGxpY2F0aW9uL2Rhc2greG1sXCIsdHlwZTpvLmMuREFTSH0se21pbWU6XCJhcHBsaWNhdGlvbi92bmQuYXBwbGUubXBlZ3VybFwiLHR5cGU6by5jLkhMU31dLGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbixyKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLE9iamVjdChpLmEpKHRoaXMpO3ZhciBvPW4uY29udGVudCxhPW4uZGV0ZWN0aW9uLHM9bi5kZXRlY3Rpb25Tb3VyY2UsdT1uLnNvdXJjZVR5cGUsYz1uLnN3aXRjaFRvQ0ROLGY9bi5yZWFsbUlkLGw9bi5yZWFsbVRpY2tldCxoPW4uY29uZmlnO3RoaXMudXJuPW8udXJuLHRoaXMuc291cmNlVHlwZT11LHRoaXMuc3dpdGNoVG9DRE49Yyx0aGlzLmt0b2tlbj1hLmRhdGEua3Rva2VuLHRoaXMuYXV0aFBhcmFtcz17cmVhbG1JZDpmLHJlYWxtVGlja2V0OmwsYXBwQ29udGV4dDpyLmludGVncmF0aW9uLm5hbWV9LHRoaXMudHM9MCx0aGlzLnByb2dyZXNzPTAsdGhpcy5sb25ncG9sbFN0b3BwZWQ9ITE7dmFyIHA9bmV3IHcoaCk7cC5pbml0KGUudGltZXN0YW1wKCksYS5wbGF5VHlwZSxzLnVybCx1KSx0aGlzLndpdGhUaW1lb3V0PWZ1bmN0aW9uKHQpe3JldHVybiBQcm9taXNlLnJhY2UoW3AuZ2V0UHJvbWlzZSgpLHRdKX19dmFyIGUsbixvO3JldHVybiBlPXQsKG49W3trZXk6XCJpbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLndpdGhUaW1lb3V0KG5ldyBQcm9taXNlKChmdW5jdGlvbihlLG4pe2EuYS5zdGFydFNlc3Npb24oe2JvZHk6T2JqZWN0LmFzc2lnbih7a3Rva2VuOnQua3Rva2VufSx0LmF1dGhQYXJhbXMpLG9uU3VjY2VzczpmdW5jdGlvbih0LG4pe3JldHVybiBlKHtkYXRhOnQscmVxdWVzdDpufSl9LG9uRmFpbHVyZTpuLG9uVGltZW91dDpufSl9KSkpfX0se2tleTpcInN0YXJ0RGVsaXZlcnlcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0aGlzLmxvbmdwb2xsU3RvcHBlZD0hMSx0aGlzLndpdGhUaW1lb3V0KG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe2EuYS5wcmVmZXRjaCh7dXJuOmUudXJuLHN0cmVhbVR5cGU6ZS5zb3VyY2VUeXBlLHBhcmFtczp7a3Rva2VuOmUua3Rva2VufSxvblN1Y2Nlc3M6ZnVuY3Rpb24oKXtyZXR1cm4gbihlLmxvbmdwb2xsUHJvbWlzZSh0KSl9LG9uRmFpbHVyZTpmdW5jdGlvbihpKXtyZXR1cm4gZS5oYW5kbGVQcmVmZXRjaEZhaWx1cmUoaSx0LG4scil9LG9uVGltZW91dDpmdW5jdGlvbigpe3JldHVybiBuKGUubG9uZ3BvbGxQcm9taXNlKHQpKX19KX0pKSl9fSx7a2V5OlwiaGFuZGxlUHJlZmV0Y2hGYWlsdXJlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scil7dCYmdC5zdGF0dXM+PTQwMCYmdC5zdGF0dXM8NTAwP24odGhpcy5sb25ncG9sbFByb21pc2UoZSkpOnIoKX19LHtrZXk6XCJsb25ncG9sbFByb21pc2VcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXtlLmxvbmdwb2xsKHQsbixyKX0pKX19LHtrZXk6XCJsb25ncG9sbFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzO2EuYS5sb25ncG9sbCh7cGFyYW1zOntrdG9rZW46dGhpcy5rdG9rZW4sdHM6dGhpcy50c30sb25TdWNjZXNzOmZ1bmN0aW9uKG8pe3ZhciBhPW8udHMscz1vLmNtZCx1PW8ucGFyYW1zO2kudHM9YSxnKHtjbWQ6cyxwYXJhbXM6dSxvblJlYWR5OmZ1bmN0aW9uKCl7ci5hLmkoXCJlY2RuMTA6YS5yZWFkeVwiKSxlKGkucHJlcGFyZVNvdXJjZXModCkpLGkubGlzdGVuVG9BZ2VudENvbW1hbmRzKCl9LG9uUHJvZ3Jlc3M6ZnVuY3Rpb24obyl7ci5hLmkoXCJlY2RuMTA6YS5wcm9ncmVzcz1cIitvKSxpLnByb2dyZXNzPjAmJjA9PW8/aS5zdG9wKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gaS5zdGFydERlbGl2ZXJ5KHQpfSkpOihpLnByb2dyZXNzPW8saS5sb25ncG9sbCh0LGUsbikpfSxzd2l0Y2hUb0NETjppLnByb2Nlc3NTd2l0Y2hUb0NETn0pfSxvbkZhaWx1cmU6ZnVuY3Rpb24odCl7ci5hLmYoXCJlY2RuMTA6YS5scC5mPVwiK3Quc3RhdHVzKSxuKCl9LG9uVGltZW91dDpmdW5jdGlvbigpe3IuYS5pKFwiZWNkbjEwOmEubHAudG9cIiksaS5sb25ncG9sbCh0LGUsbil9fSl9fSx7a2V5OlwibGlzdGVuVG9BZ2VudENvbW1hbmRzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMubG9uZ3BvbGxTdG9wcGVkfHxhLmEubG9uZ3BvbGwoe3BhcmFtczp7a3Rva2VuOnRoaXMua3Rva2VuLHRzOnRoaXMudHN9LG9uU3VjY2VzczpmdW5jdGlvbihlKXt2YXIgbj1lLnRzLHI9ZS5jbWQsaT1lLnBhcmFtczt0LnRzPW4sZyh7Y21kOnIscGFyYW1zOmksc3dpdGNoVG9DRE46dC5wcm9jZXNzU3dpdGNoVG9DRE59KSx0Lmxpc3RlblRvQWdlbnRDb21tYW5kcygpfSxvbkZhaWx1cmU6ZnVuY3Rpb24odCl7ci5hLmYoXCJlY2RuMTA6YS5hYy5mPVwiK3Quc3RhdHVzKX0sb25UaW1lb3V0OmZ1bmN0aW9uKCl7ci5hLmkoXCJlY2RuMTA6YS5hYy50b1wiKSx0Lmxpc3RlblRvQWdlbnRDb21tYW5kcygpfX0pfX0se2tleTpcInByb2Nlc3NTd2l0Y2hUb0NETlwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdG9wKCksdGhpcy5zd2l0Y2hUb0NETiYmdGhpcy5zd2l0Y2hUb0NETigpfX0se2tleTpcInByZXBhcmVTb3VyY2VzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0JiZ0LnNvdXJjZXMpe3ZhciBuPXQuc291cmNlcy5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBuPWEuYS5jcmVhdGVTdHJlYW1VUkwoZS51cm4sUy5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5taW1lPT09dC5taW1lfSkpLnR5cGUpO3JldHVybiB4KHt9LHQse2t1cmw6bn0pfSkpO3JldHVybiB4KHt9LHQse3NvdXJjZXM6bn0pfXJldHVybiB0fX0se2tleTpcInN0b3BcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMucHJvZ3Jlc3M9MCx0aGlzLmxvbmdwb2xsU3RvcHBlZD0hMCxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7YS5hLnN0b3BTdHJlYW0oe3BhcmFtczpPYmplY3QuYXNzaWduKHt1cm46dC51cm59LHQuYXV0aFBhcmFtcyksb25TdWNjZXNzOmUsb25GYWlsdXJlOmUsb25UaW1lb3V0OmV9KX0pKX19XSkmJlQoZS5wcm90b3R5cGUsbiksbyYmVChlLG8pLHR9KCk7ZnVuY3Rpb24gXyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19dmFyIGo9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KX12YXIgZSxuLHI7cmV0dXJuIGU9dCwobj1be2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJzdGFydERlbGl2ZXJ5XCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5Olwic3RvcFwiLHZhbHVlOmZ1bmN0aW9uKCl7fX1dKSYmXyhlLnByb3RvdHlwZSxuKSxyJiZfKGUsciksdH0oKSxBPW4oODcpLEk9by5hLkVDRE4xMCxDPW8uYS5FQ0ROMTEsUD1vLmEuV0VCUlRDO2UuYT1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSBQOnJldHVybiBBLmE7Y2FzZSBJOnJldHVybiBrO2Nhc2UgQzpyZXR1cm4gajtkZWZhdWx0OnJldHVybiBQcm9taXNlLnJlamVjdChcIm5vLnBcIil9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIG51bGwhPT10JiZcIm9iamVjdFwiPT09dHlwZW9mIHR9bi5kKGUsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuKDU5KSxuKDE1KSxuKDEyOSk7dmFyIHI9bigwKSxpPW4oMjMpLG89bigxMCksYT1uKDMzKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3JldHVybiBFcnJvci5jYWxsKHRoaXMpLHRoaXMubWVzc2FnZT1cImFyZ3VtZW50IG91dCBvZiByYW5nZVwiLHRoaXMubmFtZT1cIkFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yXCIsdGhpc31yZXR1cm4gdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLHR9KCksdT1uKDQyKSxjPW5ldyB1LmEoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbXBsZXRlKCl9KSk7ZnVuY3Rpb24gZih0KXtyZXR1cm4gdD9mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHUuYSgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2NoZWR1bGUoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuY29tcGxldGUoKX0pKX0pKX0odCk6Y312YXIgbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7aWYodGhpcy50b3RhbD10LHRoaXMudG90YWw8MCl0aHJvdyBuZXcgc31yZXR1cm4gdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbih0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgaCh0LHRoaXMudG90YWwpKX0sdH0oKSxoPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgcj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gci50b3RhbD1uLHIucmluZz1uZXcgQXJyYXksci5jb3VudD0wLHJ9cmV0dXJuIG8uYShlLHQpLGUucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmluZyxuPXRoaXMudG90YWwscj10aGlzLmNvdW50Kys7ZS5sZW5ndGg8bj9lLnB1c2godCk6ZVtyJW5dPXR9LGUucHJvdG90eXBlLl9jb21wbGV0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZGVzdGluYXRpb24sZT10aGlzLmNvdW50O2lmKGU+MClmb3IodmFyIG49dGhpcy5jb3VudD49dGhpcy50b3RhbD90aGlzLnRvdGFsOnRoaXMuY291bnQscj10aGlzLnJpbmcsaT0wO2k8bjtpKyspe3ZhciBvPWUrKyVuO3QubmV4dChyW29dKX10LmNvbXBsZXRlKCl9LGV9KGEuYSkscD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIHI9dC5jYWxsKHRoaXMsZSxuKXx8dGhpcztyZXR1cm4gci5zY2hlZHVsZXI9ZSxyLndvcms9bixyLnBlbmRpbmc9ITEscn1yZXR1cm4gby5hKGUsdCksZS5wcm90b3R5cGUuc2NoZWR1bGU9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT0wKSx0aGlzLmNsb3NlZClyZXR1cm4gdGhpczt0aGlzLnN0YXRlPXQ7dmFyIG49dGhpcy5pZCxyPXRoaXMuc2NoZWR1bGVyO3JldHVybiBudWxsIT1uJiYodGhpcy5pZD10aGlzLnJlY3ljbGVBc3luY0lkKHIsbixlKSksdGhpcy5wZW5kaW5nPSEwLHRoaXMuZGVsYXk9ZSx0aGlzLmlkPXRoaXMuaWR8fHRoaXMucmVxdWVzdEFzeW5jSWQocix0aGlzLmlkLGUpLHRoaXN9LGUucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49MCksc2V0SW50ZXJ2YWwodC5mbHVzaC5iaW5kKHQsdGhpcyksbil9LGUucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkPWZ1bmN0aW9uKHQsZSxuKXtpZih2b2lkIDA9PT1uJiYobj0wKSxudWxsIT09biYmdGhpcy5kZWxheT09PW4mJiExPT09dGhpcy5wZW5kaW5nKXJldHVybiBlO2NsZWFySW50ZXJ2YWwoZSl9LGUucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmNsb3NlZClyZXR1cm4gbmV3IEVycm9yKFwiZXhlY3V0aW5nIGEgY2FuY2VsbGVkIGFjdGlvblwiKTt0aGlzLnBlbmRpbmc9ITE7dmFyIG49dGhpcy5fZXhlY3V0ZSh0LGUpO2lmKG4pcmV0dXJuIG47ITE9PT10aGlzLnBlbmRpbmcmJm51bGwhPXRoaXMuaWQmJih0aGlzLmlkPXRoaXMucmVjeWNsZUFzeW5jSWQodGhpcy5zY2hlZHVsZXIsdGhpcy5pZCxudWxsKSl9LGUucHJvdG90eXBlLl9leGVjdXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49ITEscj12b2lkIDA7dHJ5e3RoaXMud29yayh0KX1jYXRjaCh0KXtuPSEwLHI9ISF0JiZ0fHxuZXcgRXJyb3IodCl9aWYobilyZXR1cm4gdGhpcy51bnN1YnNjcmliZSgpLHJ9LGUucHJvdG90eXBlLl91bnN1YnNjcmliZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuaWQsZT10aGlzLnNjaGVkdWxlcixuPWUuYWN0aW9ucyxyPW4uaW5kZXhPZih0aGlzKTt0aGlzLndvcms9bnVsbCx0aGlzLnN0YXRlPW51bGwsdGhpcy5wZW5kaW5nPSExLHRoaXMuc2NoZWR1bGVyPW51bGwsLTEhPT1yJiZuLnNwbGljZShyLDEpLG51bGwhPXQmJih0aGlzLmlkPXRoaXMucmVjeWNsZUFzeW5jSWQoZSx0LG51bGwpKSx0aGlzLmRlbGF5PW51bGx9LGV9KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXtyZXR1cm4gdC5jYWxsKHRoaXMpfHx0aGlzfXJldHVybiBvLmEoZSx0KSxlLnByb3RvdHlwZS5zY2hlZHVsZT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0wKSx0aGlzfSxlfShuKDQ2KS5hKSksZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXt2b2lkIDA9PT1uJiYobj10Lm5vdyksdGhpcy5TY2hlZHVsZXJBY3Rpb249ZSx0aGlzLm5vdz1ufXJldHVybiB0LnByb3RvdHlwZS5zY2hlZHVsZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLG5ldyB0aGlzLlNjaGVkdWxlckFjdGlvbih0aGlzLHQpLnNjaGVkdWxlKG4sZSl9LHQubm93PWZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCl9LHR9KCkseT1uZXcoZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShuLHIpe3ZvaWQgMD09PXImJihyPWQubm93KTt2YXIgaT10LmNhbGwodGhpcyxuLChmdW5jdGlvbigpe3JldHVybiBlLmRlbGVnYXRlJiZlLmRlbGVnYXRlIT09aT9lLmRlbGVnYXRlLm5vdygpOnIoKX0pKXx8dGhpcztyZXR1cm4gaS5hY3Rpb25zPVtdLGkuYWN0aXZlPSExLGkuc2NoZWR1bGVkPXZvaWQgMCxpfXJldHVybiBvLmEoZSx0KSxlLnByb3RvdHlwZS5zY2hlZHVsZT1mdW5jdGlvbihuLHIsaSl7cmV0dXJuIHZvaWQgMD09PXImJihyPTApLGUuZGVsZWdhdGUmJmUuZGVsZWdhdGUhPT10aGlzP2UuZGVsZWdhdGUuc2NoZWR1bGUobixyLGkpOnQucHJvdG90eXBlLnNjaGVkdWxlLmNhbGwodGhpcyxuLHIsaSl9LGUucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYWN0aW9ucztpZih0aGlzLmFjdGl2ZSllLnB1c2godCk7ZWxzZXt2YXIgbjt0aGlzLmFjdGl2ZT0hMDtkb3tpZihuPXQuZXhlY3V0ZSh0LnN0YXRlLHQuZGVsYXkpKWJyZWFrfXdoaWxlKHQ9ZS5zaGlmdCgpKTtpZih0aGlzLmFjdGl2ZT0hMSxuKXtmb3IoO3Q9ZS5zaGlmdCgpOyl0LnVuc3Vic2NyaWJlKCk7dGhyb3cgbn19fSxlfShkKSkocCksdj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gRXJyb3IuY2FsbCh0aGlzKSx0aGlzLm1lc3NhZ2U9XCJUaW1lb3V0IGhhcyBvY2N1cnJlZFwiLHRoaXMubmFtZT1cIlRpbWVvdXRFcnJvclwiLHRoaXN9cmV0dXJuIHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSx0fSgpO3ZhciBnPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBvLmEoZSx0KSxlLnByb3RvdHlwZS5ub3RpZnlOZXh0PWZ1bmN0aW9uKHQsZSxuLHIsaSl7dGhpcy5kZXN0aW5hdGlvbi5uZXh0KGUpfSxlLnByb3RvdHlwZS5ub3RpZnlFcnJvcj1mdW5jdGlvbih0LGUpe3RoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9LGUucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlPWZ1bmN0aW9uKHQpe3RoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX0sZX0oYS5hKSxiPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIpe3ZhciBpPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gaS5wYXJlbnQ9ZSxpLm91dGVyVmFsdWU9bixpLm91dGVySW5kZXg9cixpLmluZGV4PTAsaX1yZXR1cm4gby5hKGUsdCksZS5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24odCl7dGhpcy5wYXJlbnQubm90aWZ5TmV4dCh0aGlzLm91dGVyVmFsdWUsdCx0aGlzLm91dGVySW5kZXgsdGhpcy5pbmRleCsrLHRoaXMpfSxlLnByb3RvdHlwZS5fZXJyb3I9ZnVuY3Rpb24odCl7dGhpcy5wYXJlbnQubm90aWZ5RXJyb3IodCx0aGlzKSx0aGlzLnVuc3Vic2NyaWJlKCl9LGUucHJvdG90eXBlLl9jb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMucGFyZW50Lm5vdGlmeUNvbXBsZXRlKHRoaXMpLHRoaXMudW5zdWJzY3JpYmUoKX0sZX0oYS5hKSxtPW4oNTMpO2Z1bmN0aW9uIHcoKXtyZXR1cm5cImZ1bmN0aW9uXCI9PT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3I/U3ltYm9sLml0ZXJhdG9yOlwiQEBpdGVyYXRvclwifXZhciBFPXcoKSx4PW4oODkpO3ZhciBPPW4oMTM5KSxUPWZ1bmN0aW9uKHQpe2lmKHQmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiB0W3guYV0pcmV0dXJuIG89dCxmdW5jdGlvbih0KXt2YXIgZT1vW3guYV0oKTtpZihcImZ1bmN0aW9uXCIhPT10eXBlb2YgZS5zdWJzY3JpYmUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByb3ZpZGVkIG9iamVjdCBkb2VzIG5vdCBjb3JyZWN0bHkgaW1wbGVtZW50IFN5bWJvbC5vYnNlcnZhYmxlXCIpO3JldHVybiBlLnN1YnNjcmliZSh0KX07aWYoKGk9dCkmJlwibnVtYmVyXCI9PT10eXBlb2YgaS5sZW5ndGgmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBpKXJldHVybiByPXQsZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj1yLmxlbmd0aDtlPG4mJiF0LmNsb3NlZDtlKyspdC5uZXh0KHJbZV0pO3QuY29tcGxldGUoKX07aWYoZnVuY3Rpb24odCl7cmV0dXJuISF0JiZcImZ1bmN0aW9uXCIhPT10eXBlb2YgdC5zdWJzY3JpYmUmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiB0LnRoZW59KHQpKXJldHVybiBuPXQsZnVuY3Rpb24odCl7cmV0dXJuIG4udGhlbigoZnVuY3Rpb24oZSl7dC5jbG9zZWR8fCh0Lm5leHQoZSksdC5jb21wbGV0ZSgpKX0pLChmdW5jdGlvbihlKXtyZXR1cm4gdC5lcnJvcihlKX0pKS50aGVuKG51bGwsbS5hKSx0fTtpZih0JiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgdFtFXSlyZXR1cm4gZT10LGZ1bmN0aW9uKHQpe2Zvcih2YXIgbj1lW0VdKCk7Oyl7dmFyIHI9bi5uZXh0KCk7aWYoci5kb25lKXt0LmNvbXBsZXRlKCk7YnJlYWt9aWYodC5uZXh0KHIudmFsdWUpLHQuY2xvc2VkKWJyZWFrfXJldHVyblwiZnVuY3Rpb25cIj09PXR5cGVvZiBuLnJldHVybiYmdC5hZGQoKGZ1bmN0aW9uKCl7bi5yZXR1cm4mJm4ucmV0dXJuKCl9KSksdH07dmFyIGUsbixyLGksbyxhPU9iamVjdChPLmEpKHQpP1wiYW4gaW52YWxpZCBvYmplY3RcIjpcIidcIit0K1wiJ1wiO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJZb3UgcHJvdmlkZWQgXCIrYStcIiB3aGVyZSBhIHN0cmVhbSB3YXMgZXhwZWN0ZWQuIFlvdSBjYW4gcHJvdmlkZSBhbiBPYnNlcnZhYmxlLCBQcm9taXNlLCBBcnJheSwgb3IgSXRlcmFibGUuXCIpfTtmdW5jdGlvbiBTKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49eSksZnVuY3Rpb24ocil7dmFyIGksbz0oaT10KWluc3RhbmNlb2YgRGF0ZSYmIWlzTmFOKCtpKSxhPW8/K3Qtbi5ub3coKTpNYXRoLmFicyh0KTtyZXR1cm4gci5saWZ0KG5ldyBrKGEsbyxlLG4pKX19dmFyIGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIpe3RoaXMud2FpdEZvcj10LHRoaXMuYWJzb2x1dGVUaW1lb3V0PWUsdGhpcy53aXRoT2JzZXJ2YWJsZT1uLHRoaXMuc2NoZWR1bGVyPXJ9cmV0dXJuIHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IF8odCx0aGlzLmFic29sdXRlVGltZW91dCx0aGlzLndhaXRGb3IsdGhpcy53aXRoT2JzZXJ2YWJsZSx0aGlzLnNjaGVkdWxlcikpfSx0fSgpLF89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scixpLG8pe3ZhciBhPXQuY2FsbCh0aGlzLGUpfHx0aGlzO3JldHVybiBhLmFic29sdXRlVGltZW91dD1uLGEud2FpdEZvcj1yLGEud2l0aE9ic2VydmFibGU9aSxhLnNjaGVkdWxlcj1vLGEuYWN0aW9uPW51bGwsYS5zY2hlZHVsZVRpbWVvdXQoKSxhfXJldHVybiBvLmEoZSx0KSxlLmRpc3BhdGNoVGltZW91dD1mdW5jdGlvbih0KXt2YXIgZT10LndpdGhPYnNlcnZhYmxlO3QuX3Vuc3Vic2NyaWJlQW5kUmVjeWNsZSgpLHQuYWRkKGZ1bmN0aW9uKHQsZSxuLHIsaSl7aWYodm9pZCAwPT09aSYmKGk9bmV3IGIodCxuLHIpKSwhaS5jbG9zZWQpcmV0dXJuIGUgaW5zdGFuY2VvZiB1LmE/ZS5zdWJzY3JpYmUoaSk6VChlKShpKX0odCxlKSl9LGUucHJvdG90eXBlLnNjaGVkdWxlVGltZW91dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYWN0aW9uO3Q/dGhpcy5hY3Rpb249dC5zY2hlZHVsZSh0aGlzLHRoaXMud2FpdEZvcik6dGhpcy5hZGQodGhpcy5hY3Rpb249dGhpcy5zY2hlZHVsZXIuc2NoZWR1bGUoZS5kaXNwYXRjaFRpbWVvdXQsdGhpcy53YWl0Rm9yLHRoaXMpKX0sZS5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24oZSl7dGhpcy5hYnNvbHV0ZVRpbWVvdXR8fHRoaXMuc2NoZWR1bGVUaW1lb3V0KCksdC5wcm90b3R5cGUuX25leHQuY2FsbCh0aGlzLGUpfSxlLnByb3RvdHlwZS5fdW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt0aGlzLmFjdGlvbj1udWxsLHRoaXMuc2NoZWR1bGVyPW51bGwsdGhpcy53aXRoT2JzZXJ2YWJsZT1udWxsfSxlfShnKTtmdW5jdGlvbiBqKHQpe3ZhciBlPXQuZXJyb3I7dC5zdWJzY3JpYmVyLmVycm9yKGUpfWZ1bmN0aW9uIEEodCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9eSksUyh0LGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/bmV3IHUuYSgoZnVuY3Rpb24obil7cmV0dXJuIGUuc2NoZWR1bGUoaiwwLHtlcnJvcjp0LHN1YnNjcmliZXI6bn0pfSkpOm5ldyB1LmEoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmVycm9yKHQpfSkpfShuZXcgdiksZSl9dmFyIEk9bigxKSxDPW4oNTQpO2Z1bmN0aW9uIFAodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIFIodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fWZ1bmN0aW9uIEwodCxlLG4pe3JldHVybiBlJiZSKHQucHJvdG90eXBlLGUpLG4mJlIodCxuKSx0fW4uZChlLFwiYVwiLChmdW5jdGlvbigpe3JldHVybiBWfSkpO3ZhciBOPVhNTEh0dHBSZXF1ZXN0LEQ9Ti5IRUFERVJTX1JFQ0VJVkVELFU9Ti5MT0FESU5HLE09Ti5ET05FLEY9W1wicmVhZHlTdGF0ZVwiLFwicmVzcG9uc2VcIixcInJlc3BvbnNlVGV4dFwiLFwic3RhdHVzXCIsXCJzdGF0dXNUZXh0XCJdLEI9W1wib25hYm9ydFwiLFwib25lcnJvclwiLFwib250aW1lb3V0XCIsXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIixcIm9ubG9hZFwiLFwib25sb2FkZW5kXCIsXCJvbmxvYWRzdGFydFwiLFwib25wcm9ncmVzc1wiXSxIPWZ1bmN0aW9uKHQpe3JldHVybiB0fSxxPWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgRXZlbnQpKXJldHVybiB0O3ZhciBuPXt9O2Zvcih2YXIgciBpbiB0KW5bcl09dFtyXTtyZXR1cm4gbi5jdXJyZW50VGFyZ2V0PWUsbi50YXJnZXQ9ZSxufSx6PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe1AodGhpcyx0KSxPYmplY3QoaS5hKSh0aGlzKSx0aGlzLnBlZXJNYW5hZ2VyPW4sdGhpcy5tYW5pZmVzdFVybD1uLmNvbnRlbnQudXJsLHRoaXMua3hocj1lLHRoaXMueGhyPW5ldyBYTUxIdHRwUmVxdWVzdCx0aGlzLnN0YXRlPXt9LHRoaXMubWlycm9yKCksdGhpcy5zZXR1cEhvb2tzKCl9cmV0dXJuIEwodCxbe2tleTpcInNldHVwSG9va3NcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7Qi5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnhocltlXT1mdW5jdGlvbihuKXtpZighdC5wZWVyaW5nKXt0Lm1pcnJvcigpO3ZhciByPXEobix0Lmt4aHIpO2lmKCh0Lmt4aHJbZV18fEkuZCkuYmluZCh0Lmt4aHIpKHIpLHQuaW50ZXJjZXB0aW5nKXt2YXIgaT1cIlwiLmNvbmNhdChlLFwiSG9va1wiKTsodFtpXXx8SS5kKShuKX19fX0pKX19LHtrZXk6XCJtaXJyb3JcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7Ri5mb3JFYWNoKChmdW5jdGlvbihlKXtpZighdC5wZWVyaW5nKXRyeXt0LnN0YXRlW2VdPXQueGhyW2VdfWNhdGNoKHQpe310Lmt4aHJbZV09dC5zdGF0ZVtlXX0pKX19LHtrZXk6XCJvcGVuXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLnVybHx8KHRoaXMubWV0aG9kPWFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXSx0aGlzLnVybD1hcmd1bWVudHMubGVuZ3RoPD0xP3ZvaWQgMDphcmd1bWVudHNbMV0sKHQ9dGhpcy54aHIpLm9wZW4uYXBwbHkodCxhcmd1bWVudHMpLHRoaXMubWlycm9yKCkpfX0se2tleTpcInNlbmRcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmludGVyY2VwdGluZz0hdCYmL15HRVQkL2dpLnRlc3QodGhpcy5tZXRob2QpJiZ0aGlzLnVybCE9PXRoaXMubWFuaWZlc3RVcmwsdGhpcy50aW1lb3V0PXRoaXMua3hoci50aW1lb3V0LHRoaXMueGhyLnRpbWVvdXQ9dGhpcy50aW1lb3V0LHRoaXMueGhyLm1zQ2FjaGluZz10aGlzLmt4aHIubXNDYWNoaW5nLHRoaXMueGhyLnJlc3BvbnNlVHlwZT10aGlzLmt4aHIucmVzcG9uc2VUeXBlfHxcIlwiLHRoaXMucGVlck1hbmFnZXImJnRoaXMucGVlck1hbmFnZXIuaW5pdGlhbGl6ZWQmJnRoaXMuaW50ZXJjZXB0aW5nP3RoaXMuaW50ZXJjZXB0KCk6KHRoaXMueGhyLnNlbmQodCksdGhpcy5taXJyb3IoKSl9fSx7a2V5OlwiZ2V0UmVzcG9uc2VIZWFkZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O2lmKCF0aGlzLnBlZXJpbmcpcmV0dXJuKHQ9dGhpcy54aHIpLmdldFJlc3BvbnNlSGVhZGVyLmFwcGx5KHQsYXJndW1lbnRzKTt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPD0wP3ZvaWQgMDphcmd1bWVudHNbMF0sbj0vXmNvbnRlbnQtdHlwZSQvZ2kudGVzdChlKTtyZXR1cm4gbj8vRnJhZ21lbnRzXFwodmlkZW8vZ2kudGVzdCh0aGlzLnVybCk/XCJ2aWRlby9tcDRcIjovRnJhZ21lbnRzXFwoYXVkaW8vZ2kudGVzdCh0aGlzLnVybCk/XCJhdWRpby9tcDRcIjp2b2lkIDA6dm9pZCAwfX0se2tleTpcInNldFJlcXVlc3RIZWFkZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O3RoaXMueGhyJiYodD10aGlzLnhocikuc2V0UmVxdWVzdEhlYWRlci5hcHBseSh0LGFyZ3VtZW50cyl9fSx7a2V5OlwiYWJvcnRcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMucGVlcmluZyl7aWYoIXRoaXMua3hocilyZXR1cm47dGhpcy5reGhyLm9uYWJvcnQoKSx0aGlzLmNsZWFudXAoKX1lbHNle3ZhciB0Oyh0PXRoaXMueGhyKS5hYm9ydC5hcHBseSh0LGFyZ3VtZW50cyl9fX0se2tleTpcIm9uYWJvcnRIb29rXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNsZWFudXAoKX19LHtrZXk6XCJpbnRlcmNlcHRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaW50ZXJjZXB0VGltZT1wZXJmb3JtYW5jZS5ub3coKTt2YXIgdD10aGlzLnBlZXJNYW5hZ2VyLmxvb2t1cCh0aGlzLnVybCk7dD90aGlzLnBlZXJDb250ZW50KHQpOnRoaXMuc291cmNlQ29udGVudCgpfX0se2tleTpcInBlZXJDb250ZW50XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMucGVlck1hbmFnZXIsaT10aGlzLnVybCxvPXRoaXMuaW50ZXJjZXB0VGltZSxhPXRoaXMudGltZW91dDt0aGlzLnBlZXJpbmc9ITAsbi5ub3RpZnlQZWVyaW5nKGkpO3ZhciBzLHUsYz1PYmplY3QoQy5hKShuLm5vZGUubm9kZUlkLG4udGVuYW50SWQsbnVsbCxuLmNvbnRlbnQuaWQsaSxvKTt0aGlzLnN1YnNjcmlwdGlvbj10LnBpcGUoKHU9MSxmdW5jdGlvbih0KXtyZXR1cm4gMD09PXU/ZigpOnQubGlmdChuZXcgbCh1KSl9KSxhP0EoYSk6SCkuc3Vic2NyaWJlKHtuZXh0OmZ1bmN0aW9uKHQpe3ZhciBvPXQucGVlcklkLGE9dC5wYXlsb2FkLHU9dC50cztpZihzPWEuc2xpY2UoMCkuYnVmZmVyKXtjLnN0YXJ0TG9hZGluZyh1LG8pO3ZhciBmPWEuYnl0ZUxlbmd0aDtjLnN0b3AodSxmKSxuLnB1dChpLGEpfWVsc2Ugci5hLmUoXCJSZWNlaXZlZCBudWxsIG9yIGVtcHR5IHBheWxvYWQgZm9yIFwiLmNvbmNhdChlLnVybCxcIiBmcm9tIHBlZXIgXCIpLmNvbmNhdChvKSl9LGVycm9yOmZ1bmN0aW9uKHQpe3IuYS5lKFwiRmFpbGVkIHRvIHJlY2VpdmUgZnJvbSBwZWVyLlwiLHQpO3ZhciBpPXQucGVlcklkLG89dC5lcnJvcjtjLmZhaWwocGVyZm9ybWFuY2Uubm93KCksaSxvP28uc3RhdHVzQ29kZTo1MDApLG4uc2VuZFRyYW5zZmVyUmVjb3JkKGMpLGUuc291cmNlQ29udGVudCgpfSxjb21wbGV0ZTpmdW5jdGlvbigpe251bGw9PXN8fHZvaWQgMD09cz8oci5hLmUoXCJSZWNlaXZlZCBudWxsIG9yIGVtcHR5IHBheWxvYWQgZm9yIFwiLmNvbmNhdChlLnVybCxcIi4gU291cmNpbmcgY29udGVudFwiKSksZS5zb3VyY2VDb250ZW50KCkpOihuLnNlbmRUcmFuc2ZlclJlY29yZChjKSxlLmt4aHImJihmdW5jdGlvbigpe2lmKGUua3hoci5vbmxvYWRzdGFydCl7dmFyIHQ9cShuZXcgUHJvZ3Jlc3NFdmVudChcImxvYWRzdGFydFwiKSxlLmt4aHIpO2Uua3hoci5vbmxvYWRzdGFydCh0KX19KCksZnVuY3Rpb24oKXtpZihlLnN0YXRlLnN0YXR1cz0yMDAsZS5zdGF0ZS5zdGF0dXNUZXh0PVwiT0tcIixlLnN0YXRlLnJlYWR5U3RhdGU9RCxlLm1pcnJvcigpLGUua3hoci5vbnJlYWR5c3RhdGVjaGFuZ2Upe3ZhciB0PXEobmV3IEV2ZW50KFwicmVhZHlzdGF0ZWNoYW5nZVwiKSxlLmt4aHIpO2Uua3hoci5vbnJlYWR5c3RhdGVjaGFuZ2UodCl9fSgpLGZ1bmN0aW9uKHQpe2lmKHIuYS5lbmFibGVkKCkmJnIuYS5pKGUucGVlcmluZz9cInBlZXJpbmdcIjpcInNvdXJjaW5nXCIsdC5ieXRlTGVuZ3RoLHQsZS51cmwpLGUuc3RhdGUucmVzcG9uc2U9dCxlLnN0YXRlLnJlYWR5U3RhdGU9VSxlLm1pcnJvcigpLGUua3hoci5vbnJlYWR5c3RhdGVjaGFuZ2Upe3ZhciBuPXEobmV3IEV2ZW50KFwicmVhZHlzdGF0ZWNoYW5nZVwiKSxlLmt4aHIpO2Uua3hoci5vbnJlYWR5c3RhdGVjaGFuZ2Uobil9fShzKSxmdW5jdGlvbigpe2lmKGUuc3RhdGUucmVhZHlTdGF0ZT1NLGUubWlycm9yKCksZS5reGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSl7dmFyIHQ9cShuZXcgRXZlbnQoXCJyZWFkeXN0YXRlY2hhbmdlXCIpLGUua3hocik7ZS5reGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSh0KX19KCksZnVuY3Rpb24oKXtpZihlLmt4aHIub25sb2FkKXt2YXIgdD1xKG5ldyBQcm9ncmVzc0V2ZW50KFwibG9hZFwiKSxlLmt4aHIpO2Uua3hoci5vbmxvYWQodCl9fSgpLGZ1bmN0aW9uKCl7aWYoZS5reGhyLm9ubG9hZGVuZCl7dmFyIHQ9cShuZXcgUHJvZ3Jlc3NFdmVudChcImxvYWRlbmRcIiksZS5reGhyKTtlLmt4aHIub25sb2FkZW5kKHQpfWUuY2xlYW51cCgpfSgpKSl9fSl9fSx7a2V5Olwic291cmNlQ29udGVudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMucGVlck1hbmFnZXIsbj10aGlzLnVybCxyPXRoaXMueGhyLGk9dGhpcy5pbnRlcmNlcHRUaW1lLG89cGVyZm9ybWFuY2Uubm93KCk7dGhpcy5wZWVyaW5nPSExO3ZhciBhPW8taTtpZih0aGlzLnRpbWVvdXQmJihyLnRpbWVvdXQ9TWF0aC5tYXgoMCxyLnRpbWVvdXQtYSksci50aW1lb3V0PD01MCkpcmV0dXJuIHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dmFyIGU9cShuZXcgUHJvZ3Jlc3NFdmVudChcInRpbWVvdXRcIikpO3Qua3hoci5vbnRpbWVvdXQoZSksdC5jbGVhbnVwKCl9KSxyLnRpbWVvdXQpO3RoaXMuc291cmNlUmVxdWVzdEV2ZW50PU9iamVjdChDLmIpKGUubm9kZS5ub2RlSWQsZS50ZW5hbnRJZCxlLmNvbnRlbnQudXJsLGUuY29udGVudC5pZCxuLG8pLGUubm90aWZ5U291cmNpbmcobiksdGhpcy54aHIuc2VuZCgpLHRoaXMubWlycm9yKCl9fSx7a2V5Olwib25yZWFkeXN0YXRlY2hhbmdlSG9va1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wZWVyTWFuYWdlcixlPXRoaXMueGhyLG49dGhpcy51cmwsaT10aGlzLnNvdXJjZVJlcXVlc3RFdmVudCxvPWUucmVhZHlTdGF0ZSxhPWUuc3RhdHVzLHM9cGVyZm9ybWFuY2Uubm93KCk7aWYobnVsbCE9aS5sb2FkSW5pdHx8byE9PUQmJm8hPT1VfHxpLnN0YXJ0TG9hZGluZyhzKSxvPT09TSYmYT49MjAwJiZhPDMwMCl7dmFyIHU9ZS5yZXNwb25zZS5zbGljZSgwKSxjPXUuYnl0ZUxlbmd0aDtyLmEuZW5hYmxlZCgpJiZyLmEuaSh0aGlzLnBlZXJpbmc/XCJwZWVyaW5nXCI6XCJzb3VyY2luZ1wiLGMsZS5yZXNwb25zZSx0aGlzLnVybCksdC5wdXQobix1KSxpLnN0b3AocyxjKSx0LnNlbmRUcmFuc2ZlclJlY29yZChpKX19fSx7a2V5Olwib25sb2FkZW5kSG9va1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jbGVhbnVwKCl9fSx7a2V5OlwiY2xlYW51cFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztCLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QueGhyW2VdPW51bGx9KSksdGhpcy54aHI9bnVsbCx0aGlzLmt4aHI9bnVsbH19XSksdH0oKSxWPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtQKHRoaXMsdCksT2JqZWN0KGkuYSkodGhpcyksdGhpcy5rb2xsZWN0aXZlPW5ldyB6KHRoaXMsZSl9cmV0dXJuIEwodCxbe2tleTpcIm9wZW5cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0Oyh0PXRoaXMua29sbGVjdGl2ZSkub3Blbi5hcHBseSh0LGFyZ3VtZW50cyl9fSx7a2V5Olwic2V0UmVxdWVzdEhlYWRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7KHQ9dGhpcy5rb2xsZWN0aXZlKS5zZXRSZXF1ZXN0SGVhZGVyLmFwcGx5KHQsYXJndW1lbnRzKX19LHtrZXk6XCJzZW5kXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDsodD10aGlzLmtvbGxlY3RpdmUpLnNlbmQuYXBwbHkodCxhcmd1bWVudHMpfX0se2tleTpcImdldFJlc3BvbnNlSGVhZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD10aGlzLmtvbGxlY3RpdmUpLmdldFJlc3BvbnNlSGVhZGVyLmFwcGx5KHQsYXJndW1lbnRzKX19LHtrZXk6XCJhYm9ydFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7KHQ9dGhpcy5rb2xsZWN0aXZlKS5hYm9ydC5hcHBseSh0LGFyZ3VtZW50cyl9fSx7a2V5OlwiYWRkRXZlbnRMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKCl7fX1dKSx0fSgpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7big5KSxuKDI1KTt2YXIgcj1uKDg1KSxpPShuKDIyKSxuKDEyOCksbigzNjEpLG4oNjApLG4oMTI5KSxuKDEyNSksbigyMjYpLG4oMzYyKSxuKDEzNCkpLG89bi5uKGkpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIHQuaW5kZXhPZihcIiNFWFQtWC1FTkRMSVNUXCIpPDB9LHM9bigxKSx1PWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qoci5hKSh7dXJsOnQsZXhwZWN0SnNvbjohMX0pLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGF9KSl9LGM9ZnVuY3Rpb24odCxlKXt2YXIgbj1mdW5jdGlvbih0LGUpe3ZhciBuPXQuc3BsaXQoXCJcXG5cIikubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50cmltKCl9KSkuZmlsdGVyKEJvb2xlYW4pLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuXCIjXCIhPT10WzBdfSkpWzBdO2lmKCFufHwhZXx8bi5pbmRleE9mKFwiOi8vXCIpPj0wKXJldHVybiBuO249XCIvXCI9PT1uWzBdP246XCIvXCIuY29uY2F0KG4pO3ZhciByPW5ldyBvLmEoZSk7cmV0dXJuIHIucXVlcnk9XCJcIixyLmhhc2g9XCJcIixyLnBhdGhuYW1lPShyLnBhdGhuYW1lfHxcIlwiKS5zcGxpdChcIi9cIikuc2xpY2UoMCwtMSkuam9pbihcIi9cIikrbixcIlwiLmNvbmNhdChyKX0odCxlKTtyZXR1cm4gbj91KG4pLnRoZW4oYSk6UHJvbWlzZS5yZWplY3QoKX07ZS5hPWZ1bmN0aW9uKHQpe3ZhciBlPXQudXJsLG49dC5zb3VyY2VUeXBlO3JldHVybiB1KGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3N3aXRjaChuKXtjYXNlIHMuYy5ITFM6cmV0dXJuIGModCxlKTtjYXNlIHMuYy5EQVNIOnJldHVybiBmdW5jdGlvbih0KXt0cnl7cmV0dXJuXCJzdGF0aWNcIiE9PShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcodCxcInRleHQveG1sXCIpLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiTVBEXCIpWzBdLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwidHlwZVwiKS52YWx1ZX1jYXRjaCh0KXtyZXR1cm4hMH19KHQpO2RlZmF1bHQ6cmV0dXJuIFByb21pc2UucmVqZWN0KCl9fSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0P3MuYi5MaXZlOnMuYi5WT0R9KSkuY2F0Y2goKGZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoXCJQbGF5IHR5cGUgY2Fubm90IGJlIGRldGVybWluZWRcIil9KSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9e30ucHJvcGVydHlJc0VudW1lcmFibGUsaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLG89aSYmIXIuY2FsbCh7MToyfSwxKTtlLmY9bz9mdW5jdGlvbih0KXt2YXIgZT1pKHRoaXMsdCk7cmV0dXJuISFlJiZlLmVudW1lcmFibGV9OnJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQpLGk9bigxMSksbz1yLmRvY3VtZW50LGE9aShvKSYmaShvLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gYT9vLmNyZWF0ZUVsZW1lbnQodCk6e319fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0KSxpPW4oMzUpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3RyeXtpKHIsdCxlKX1jYXRjaChuKXtyW3RdPWV9cmV0dXJuIGV9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxODUpLGk9RnVuY3Rpb24udG9TdHJpbmc7XCJmdW5jdGlvblwiIT10eXBlb2Ygci5pbnNwZWN0U291cmNlJiYoci5pbnNwZWN0U291cmNlPWZ1bmN0aW9uKHQpe3JldHVybiBpLmNhbGwodCl9KSx0LmV4cG9ydHM9ci5pbnNwZWN0U291cmNlfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big3NiksaT1uKDE4NSk7KHQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBpW3RdfHwoaVt0XT12b2lkIDAhPT1lP2U6e30pfSkoXCJ2ZXJzaW9uc1wiLFtdKS5wdXNoKHt2ZXJzaW9uOlwiMy42LjRcIixtb2RlOnI/XCJwdXJlXCI6XCJnbG9iYWxcIixjb3B5cmlnaHQ6XCJcXHhhOSAyMDIwIERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpXCJ9KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTcpLGk9big5NSksbz1uKDE0OSksYT1uKDE3KTt0LmV4cG9ydHM9cihcIlJlZmxlY3RcIixcIm93bktleXNcIil8fGZ1bmN0aW9uKHQpe3ZhciBlPWkuZihhKHQpKSxuPW8uZjtyZXR1cm4gbj9lLmNvbmNhdChuKHQpKTplfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9W1wiY29uc3RydWN0b3JcIixcImhhc093blByb3BlcnR5XCIsXCJpc1Byb3RvdHlwZU9mXCIsXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVwiLFwidG9Mb2NhbGVTdHJpbmdcIixcInRvU3RyaW5nXCIsXCJ2YWx1ZU9mXCJdfSxmdW5jdGlvbih0LGUpe2UuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzKSxpPS8jfFxcLnByb3RvdHlwZVxcLi8sbz1mdW5jdGlvbih0LGUpe3ZhciBuPXNbYSh0KV07cmV0dXJuIG49PWN8fG4hPXUmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP3IoZSk6ISFlKX0sYT1vLm5vcm1hbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gU3RyaW5nKHQpLnJlcGxhY2UoaSxcIi5cIikudG9Mb3dlckNhc2UoKX0scz1vLmRhdGE9e30sdT1vLk5BVElWRT1cIk5cIixjPW8uUE9MWUZJTEw9XCJQXCI7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMpO3QuZXhwb3J0cz0hIU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMmJiFyKChmdW5jdGlvbigpe3JldHVybiFTdHJpbmcoU3ltYm9sKCkpfSkpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big3KSxpPW4oNjYpLG89bigyNCksYT1yKFwidW5zY29wYWJsZXNcIikscz1BcnJheS5wcm90b3R5cGU7dm9pZCAwPT1zW2FdJiZvLmYocyxhLHtjb25maWd1cmFibGU6ITAsdmFsdWU6aShudWxsKX0pLHQuZXhwb3J0cz1mdW5jdGlvbih0KXtzW2FdW3RdPSEwfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMiksaT1uKDE5Niksbz1uKDc4KSxhPW4oOTgpLHM9big1OCksdT1uKDM1KSxjPW4oMzgpLGY9big3KSxsPW4oNzYpLGg9big5NykscD1uKDE5NyksZD1wLkl0ZXJhdG9yUHJvdG90eXBlLHk9cC5CVUdHWV9TQUZBUklfSVRFUkFUT1JTLHY9ZihcIml0ZXJhdG9yXCIpLGc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLGYscCxiLG0pe2kobixlLGYpO3ZhciB3LEUseCxPPWZ1bmN0aW9uKHQpe2lmKHQ9PT1wJiZqKXJldHVybiBqO2lmKCF5JiZ0IGluIGspcmV0dXJuIGtbdF07c3dpdGNoKHQpe2Nhc2VcImtleXNcIjpjYXNlXCJ2YWx1ZXNcIjpjYXNlXCJlbnRyaWVzXCI6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMsdCl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzKX19LFQ9ZStcIiBJdGVyYXRvclwiLFM9ITEsaz10LnByb3RvdHlwZSxfPWtbdl18fGtbXCJAQGl0ZXJhdG9yXCJdfHxwJiZrW3BdLGo9IXkmJl98fE8ocCksQT1cIkFycmF5XCI9PWUmJmsuZW50cmllc3x8XztpZihBJiYodz1vKEEuY2FsbChuZXcgdCkpLGQhPT1PYmplY3QucHJvdG90eXBlJiZ3Lm5leHQmJihsfHxvKHcpPT09ZHx8KGE/YSh3LGQpOlwiZnVuY3Rpb25cIiE9dHlwZW9mIHdbdl0mJnUodyx2LGcpKSxzKHcsVCwhMCwhMCksbCYmKGhbVF09ZykpKSxcInZhbHVlc1wiPT1wJiZfJiZcInZhbHVlc1wiIT09Xy5uYW1lJiYoUz0hMCxqPWZ1bmN0aW9uKCl7cmV0dXJuIF8uY2FsbCh0aGlzKX0pLGwmJiFtfHxrW3ZdPT09anx8dShrLHYsaiksaFtlXT1qLHApaWYoRT17dmFsdWVzOk8oXCJ2YWx1ZXNcIiksa2V5czpiP2o6TyhcImtleXNcIiksZW50cmllczpPKFwiZW50cmllc1wiKX0sbSlmb3IoeCBpbiBFKSF5JiYhUyYmeCBpbiBrfHxjKGsseCxFW3hdKTtlbHNlIHIoe3RhcmdldDplLHByb3RvOiEwLGZvcmNlZDp5fHxTfSxFKTtyZXR1cm4gRX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMpO3QuZXhwb3J0cz0hcigoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1udWxsLE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgdCkhPT10LnByb3RvdHlwZX0pKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPXt9O3Jbbig3KShcInRvU3RyaW5nVGFnXCIpXT1cInpcIix0LmV4cG9ydHM9XCJbb2JqZWN0IHpdXCI9PT1TdHJpbmcocil9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE3KSxpPW4oMTU3KSxvPW4oMjApLGE9big2Nykscz1uKDEwMCksdT1uKDE5OCksYz1mdW5jdGlvbih0LGUpe3RoaXMuc3RvcHBlZD10LHRoaXMucmVzdWx0PWV9Oyh0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4sZixsKXt2YXIgaCxwLGQseSx2LGcsYixtPWEoZSxuLGY/MjoxKTtpZihsKWg9dDtlbHNle2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mKHA9cyh0KSkpdGhyb3cgVHlwZUVycm9yKFwiVGFyZ2V0IGlzIG5vdCBpdGVyYWJsZVwiKTtpZihpKHApKXtmb3IoZD0wLHk9byh0Lmxlbmd0aCk7eT5kO2QrKylpZigodj1mP20ocihiPXRbZF0pWzBdLGJbMV0pOm0odFtkXSkpJiZ2IGluc3RhbmNlb2YgYylyZXR1cm4gdjtyZXR1cm4gbmV3IGMoITEpfWg9cC5jYWxsKHQpfWZvcihnPWgubmV4dDshKGI9Zy5jYWxsKGgpKS5kb25lOylpZihcIm9iamVjdFwiPT10eXBlb2Yodj11KGgsbSxiLnZhbHVlLGYpKSYmdiYmdiBpbnN0YW5jZW9mIGMpcmV0dXJuIHY7cmV0dXJuIG5ldyBjKCExKX0pLnN0b3A9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBjKCEwLHQpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNyksaT1uKDk3KSxvPXIoXCJpdGVyYXRvclwiKSxhPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXQmJihpLkFycmF5PT09dHx8YVtvXT09PXQpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByLGksbyxhPW4oNCkscz1uKDMpLHU9big1NiksYz1uKDY3KSxmPW4oMTkxKSxsPW4oMTQzKSxoPW4oMTk5KSxwPWEubG9jYXRpb24sZD1hLnNldEltbWVkaWF0ZSx5PWEuY2xlYXJJbW1lZGlhdGUsdj1hLnByb2Nlc3MsZz1hLk1lc3NhZ2VDaGFubmVsLGI9YS5EaXNwYXRjaCxtPTAsdz17fSxFPWZ1bmN0aW9uKHQpe2lmKHcuaGFzT3duUHJvcGVydHkodCkpe3ZhciBlPXdbdF07ZGVsZXRlIHdbdF0sZSgpfX0seD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtFKHQpfX0sTz1mdW5jdGlvbih0KXtFKHQuZGF0YSl9LFQ9ZnVuY3Rpb24odCl7YS5wb3N0TWVzc2FnZSh0K1wiXCIscC5wcm90b2NvbCtcIi8vXCIrcC5ob3N0KX07ZCYmeXx8KGQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MTthcmd1bWVudHMubGVuZ3RoPm47KWUucHVzaChhcmd1bWVudHNbbisrXSk7cmV0dXJuIHdbKyttXT1mdW5jdGlvbigpeyhcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6RnVuY3Rpb24odCkpLmFwcGx5KHZvaWQgMCxlKX0scihtKSxtfSx5PWZ1bmN0aW9uKHQpe2RlbGV0ZSB3W3RdfSxcInByb2Nlc3NcIj09dSh2KT9yPWZ1bmN0aW9uKHQpe3YubmV4dFRpY2soeCh0KSl9OmImJmIubm93P3I9ZnVuY3Rpb24odCl7Yi5ub3coeCh0KSl9OmcmJiFoPyhvPShpPW5ldyBnKS5wb3J0MixpLnBvcnQxLm9ubWVzc2FnZT1PLHI9YyhvLnBvc3RNZXNzYWdlLG8sMSkpOiFhLmFkZEV2ZW50TGlzdGVuZXJ8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHBvc3RNZXNzYWdlfHxhLmltcG9ydFNjcmlwdHN8fHMoVCk/cj1cIm9ucmVhZHlzdGF0ZWNoYW5nZVwiaW4gbChcInNjcmlwdFwiKT9mdW5jdGlvbih0KXtmLmFwcGVuZENoaWxkKGwoXCJzY3JpcHRcIikpLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2YucmVtb3ZlQ2hpbGQodGhpcyksRSh0KX19OmZ1bmN0aW9uKHQpe3NldFRpbWVvdXQoeCh0KSwwKX06KHI9VCxhLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsTywhMSkpKSx0LmV4cG9ydHM9e3NldDpkLGNsZWFyOnl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHIsaSxvPW4oNCksYT1uKDIwMCkscz1vLnByb2Nlc3MsdT1zJiZzLnZlcnNpb25zLGM9dSYmdS52ODtjP2k9KHI9Yy5zcGxpdChcIi5cIikpWzBdK3JbMV06YSYmKCEocj1hLm1hdGNoKC9FZGdlXFwvKFxcZCspLykpfHxyWzFdPj03NCkmJihyPWEubWF0Y2goL0Nocm9tZVxcLyhcXGQrKS8pKSYmKGk9clsxXSksdC5leHBvcnRzPWkmJitpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big2NSksaT1uKDc1KSxvPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciBvLGEscz1TdHJpbmcoaShlKSksdT1yKG4pLGM9cy5sZW5ndGg7cmV0dXJuIHU8MHx8dT49Yz90P1wiXCI6dm9pZCAwOihvPXMuY2hhckNvZGVBdCh1KSk8NTUyOTZ8fG8+NTYzMTl8fHUrMT09PWN8fChhPXMuY2hhckNvZGVBdCh1KzEpKTw1NjMyMHx8YT41NzM0Mz90P3MuY2hhckF0KHUpOm86dD9zLnNsaWNlKHUsdSsyKTphLTU2MzIwKyhvLTU1Mjk2PDwxMCkrNjU1MzZ9fTt0LmV4cG9ydHM9e2NvZGVBdDpvKCExKSxjaGFyQXQ6byghMCl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big2OCksaT1uKDM2KSxvPW4oOTEpLGE9bigyMCkscz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLHMsdSl7cihuKTt2YXIgYz1pKGUpLGY9byhjKSxsPWEoYy5sZW5ndGgpLGg9dD9sLTE6MCxwPXQ/LTE6MTtpZihzPDIpZm9yKDs7KXtpZihoIGluIGYpe3U9ZltoXSxoKz1wO2JyZWFrfWlmKGgrPXAsdD9oPDA6bDw9aCl0aHJvdyBUeXBlRXJyb3IoXCJSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXCIpfWZvcig7dD9oPj0wOmw+aDtoKz1wKWggaW4gZiYmKHU9bih1LGZbaF0saCxjKSk7cmV0dXJuIHV9fTt0LmV4cG9ydHM9e2xlZnQ6cyghMSkscmlnaHQ6cyghMCl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big3Mykobig0NSksXCJNYXBcIik7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQ1KS5TeW1ib2w7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIxNCksaT1uKDMxNiksbz1uKDE2OSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvKHQpP3IodCk6aSh0KX19LGZ1bmN0aW9uKHQsZSl7dmFyIG49QXJyYXkuaXNBcnJheTt0LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0KGUpfX19LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24odCl7dmFyIHI9bigyMDkpLGk9ZSYmIWUubm9kZVR5cGUmJmUsbz1pJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmIXQubm9kZVR5cGUmJnQsYT1vJiZvLmV4cG9ydHM9PT1pJiZyLnByb2Nlc3Mscz1mdW5jdGlvbigpe3RyeXt2YXIgdD1vJiZvLnJlcXVpcmUmJm8ucmVxdWlyZShcInV0aWxcIikudHlwZXM7cmV0dXJuIHR8fGEmJmEuYmluZGluZyYmYS5iaW5kaW5nKFwidXRpbFwiKX1jYXRjaCh0KXt9fSgpO3QuZXhwb3J0cz1zfSkuY2FsbCh0aGlzLG4oMTI0KSh0KSl9LGZ1bmN0aW9uKHQsZSl7dmFyIG49T2JqZWN0LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5jb25zdHJ1Y3RvcjtyZXR1cm4gdD09PShcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlLnByb3RvdHlwZXx8bil9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMDgpLGk9bigyMTcpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dCYmaSh0Lmxlbmd0aCkmJiFyKHQpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjIwKSxpPW4oMjIxKSxvPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsYT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLHM9YT9mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD9bXToodD1PYmplY3QodCkscihhKHQpLChmdW5jdGlvbihlKXtyZXR1cm4gby5jYWxsKHQsZSl9KSkpfTppO3QuZXhwb3J0cz1zfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMjcpLGk9bigxNjIpLG89bigzMjgpLGE9bigzMjkpLHM9bigzMzApLHU9bigxMjApLGM9bigyMTApLGY9YyhyKSxsPWMoaSksaD1jKG8pLHA9YyhhKSxkPWMocykseT11OyhyJiZcIltvYmplY3QgRGF0YVZpZXddXCIhPXkobmV3IHIobmV3IEFycmF5QnVmZmVyKDEpKSl8fGkmJlwiW29iamVjdCBNYXBdXCIhPXkobmV3IGkpfHxvJiZcIltvYmplY3QgUHJvbWlzZV1cIiE9eShvLnJlc29sdmUoKSl8fGEmJlwiW29iamVjdCBTZXRdXCIhPXkobmV3IGEpfHxzJiZcIltvYmplY3QgV2Vha01hcF1cIiE9eShuZXcgcykpJiYoeT1mdW5jdGlvbih0KXt2YXIgZT11KHQpLG49XCJbb2JqZWN0IE9iamVjdF1cIj09ZT90LmNvbnN0cnVjdG9yOnZvaWQgMCxyPW4/YyhuKTpcIlwiO2lmKHIpc3dpdGNoKHIpe2Nhc2UgZjpyZXR1cm5cIltvYmplY3QgRGF0YVZpZXddXCI7Y2FzZSBsOnJldHVyblwiW29iamVjdCBNYXBdXCI7Y2FzZSBoOnJldHVyblwiW29iamVjdCBQcm9taXNlXVwiO2Nhc2UgcDpyZXR1cm5cIltvYmplY3QgU2V0XVwiO2Nhc2UgZDpyZXR1cm5cIltvYmplY3QgV2Vha01hcF1cIn1yZXR1cm4gZX0pLHQuZXhwb3J0cz15fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMzMpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgdC5jb25zdHJ1Y3Rvcih0LmJ5dGVMZW5ndGgpO3JldHVybiBuZXcgcihlKS5zZXQobmV3IHIodCkpLGV9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big5NCksaT1uKDExKSxvPW4oMTkpLGE9bigyNCkuZixzPW4oOTMpLHU9bigyMzEpLGM9cyhcIm1ldGFcIiksZj0wLGw9T2JqZWN0LmlzRXh0ZW5zaWJsZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0saD1mdW5jdGlvbih0KXthKHQsYyx7dmFsdWU6e29iamVjdElEOlwiT1wiKyArK2Ysd2Vha0RhdGE6e319fSl9LHA9dC5leHBvcnRzPXtSRVFVSVJFRDohMSxmYXN0S2V5OmZ1bmN0aW9uKHQsZSl7aWYoIWkodCkpcmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIHQ/dDooXCJzdHJpbmdcIj09dHlwZW9mIHQ/XCJTXCI6XCJQXCIpK3Q7aWYoIW8odCxjKSl7aWYoIWwodCkpcmV0dXJuXCJGXCI7aWYoIWUpcmV0dXJuXCJFXCI7aCh0KX1yZXR1cm4gdFtjXS5vYmplY3RJRH0sZ2V0V2Vha0RhdGE6ZnVuY3Rpb24odCxlKXtpZighbyh0LGMpKXtpZighbCh0KSlyZXR1cm4hMDtpZighZSlyZXR1cm4hMTtoKHQpfXJldHVybiB0W2NdLndlYWtEYXRhfSxvbkZyZWV6ZTpmdW5jdGlvbih0KXtyZXR1cm4gdSYmcC5SRVFVSVJFRCYmbCh0KSYmIW8odCxjKSYmaCh0KSx0fX07cltjXT0hMH0sZnVuY3Rpb24odCxlLG4pe3ZhciByPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3ZhciBlPU9iamVjdC5wcm90b3R5cGUsbj1lLmhhc093blByb3BlcnR5LHI9XCJmdW5jdGlvblwiPT09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30saT1yLml0ZXJhdG9yfHxcIkBAaXRlcmF0b3JcIixvPXIuYXN5bmNJdGVyYXRvcnx8XCJAQGFzeW5jSXRlcmF0b3JcIixhPXIudG9TdHJpbmdUYWd8fFwiQEB0b1N0cmluZ1RhZ1wiO2Z1bmN0aW9uIHModCxlLG4scil7dmFyIGk9ZSYmZS5wcm90b3R5cGUgaW5zdGFuY2VvZiBmP2U6ZixvPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLGE9bmV3IHgocnx8W10pO3JldHVybiBvLl9pbnZva2U9ZnVuY3Rpb24odCxlLG4pe3ZhciByPVwic3VzcGVuZGVkU3RhcnRcIjtyZXR1cm4gZnVuY3Rpb24oaSxvKXtpZihcImV4ZWN1dGluZ1wiPT09cil0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO2lmKFwiY29tcGxldGVkXCI9PT1yKXtpZihcInRocm93XCI9PT1pKXRocm93IG87cmV0dXJuIFQoKX1mb3Iobi5tZXRob2Q9aSxuLmFyZz1vOzspe3ZhciBhPW4uZGVsZWdhdGU7aWYoYSl7dmFyIHM9bShhLG4pO2lmKHMpe2lmKHM9PT1jKWNvbnRpbnVlO3JldHVybiBzfX1pZihcIm5leHRcIj09PW4ubWV0aG9kKW4uc2VudD1uLl9zZW50PW4uYXJnO2Vsc2UgaWYoXCJ0aHJvd1wiPT09bi5tZXRob2Qpe2lmKFwic3VzcGVuZGVkU3RhcnRcIj09PXIpdGhyb3cgcj1cImNvbXBsZXRlZFwiLG4uYXJnO24uZGlzcGF0Y2hFeGNlcHRpb24obi5hcmcpfWVsc2VcInJldHVyblwiPT09bi5tZXRob2QmJm4uYWJydXB0KFwicmV0dXJuXCIsbi5hcmcpO3I9XCJleGVjdXRpbmdcIjt2YXIgZj11KHQsZSxuKTtpZihcIm5vcm1hbFwiPT09Zi50eXBlKXtpZihyPW4uZG9uZT9cImNvbXBsZXRlZFwiOlwic3VzcGVuZGVkWWllbGRcIixmLmFyZz09PWMpY29udGludWU7cmV0dXJue3ZhbHVlOmYuYXJnLGRvbmU6bi5kb25lfX1cInRocm93XCI9PT1mLnR5cGUmJihyPVwiY29tcGxldGVkXCIsbi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPWYuYXJnKX19fSh0LG4sYSksb31mdW5jdGlvbiB1KHQsZSxuKXt0cnl7cmV0dXJue3R5cGU6XCJub3JtYWxcIixhcmc6dC5jYWxsKGUsbil9fWNhdGNoKHQpe3JldHVybnt0eXBlOlwidGhyb3dcIixhcmc6dH19fXQud3JhcD1zO3ZhciBjPXt9O2Z1bmN0aW9uIGYoKXt9ZnVuY3Rpb24gbCgpe31mdW5jdGlvbiBoKCl7fXZhciBwPXt9O3BbaV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dmFyIGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mLHk9ZCYmZChkKE8oW10pKSk7eSYmeSE9PWUmJm4uY2FsbCh5LGkpJiYocD15KTt2YXIgdj1oLnByb3RvdHlwZT1mLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHApO2Z1bmN0aW9uIGcodCl7W1wibmV4dFwiLFwidGhyb3dcIixcInJldHVyblwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2VdPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoZSx0KX19KSl9ZnVuY3Rpb24gYih0KXt2YXIgZTt0aGlzLl9pbnZva2U9ZnVuY3Rpb24ocixpKXtmdW5jdGlvbiBvKCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLG8peyFmdW5jdGlvbiBlKHIsaSxvLGEpe3ZhciBzPXUodFtyXSx0LGkpO2lmKFwidGhyb3dcIiE9PXMudHlwZSl7dmFyIGM9cy5hcmcsZj1jLnZhbHVlO3JldHVybiBmJiZcIm9iamVjdFwiPT09dHlwZW9mIGYmJm4uY2FsbChmLFwiX19hd2FpdFwiKT9Qcm9taXNlLnJlc29sdmUoZi5fX2F3YWl0KS50aGVuKChmdW5jdGlvbih0KXtlKFwibmV4dFwiLHQsbyxhKX0pLChmdW5jdGlvbih0KXtlKFwidGhyb3dcIix0LG8sYSl9KSk6UHJvbWlzZS5yZXNvbHZlKGYpLnRoZW4oKGZ1bmN0aW9uKHQpe2MudmFsdWU9dCxvKGMpfSksKGZ1bmN0aW9uKHQpe3JldHVybiBlKFwidGhyb3dcIix0LG8sYSl9KSl9YShzLmFyZyl9KHIsaSxlLG8pfSkpfXJldHVybiBlPWU/ZS50aGVuKG8sbyk6bygpfX1mdW5jdGlvbiBtKHQsZSl7dmFyIG49dC5pdGVyYXRvcltlLm1ldGhvZF07aWYodm9pZCAwPT09bil7aWYoZS5kZWxlZ2F0ZT1udWxsLFwidGhyb3dcIj09PWUubWV0aG9kKXtpZih0Lml0ZXJhdG9yLnJldHVybiYmKGUubWV0aG9kPVwicmV0dXJuXCIsZS5hcmc9dm9pZCAwLG0odCxlKSxcInRocm93XCI9PT1lLm1ldGhvZCkpcmV0dXJuIGM7ZS5tZXRob2Q9XCJ0aHJvd1wiLGUuYXJnPW5ldyBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpfXJldHVybiBjfXZhciByPXUobix0Lml0ZXJhdG9yLGUuYXJnKTtpZihcInRocm93XCI9PT1yLnR5cGUpcmV0dXJuIGUubWV0aG9kPVwidGhyb3dcIixlLmFyZz1yLmFyZyxlLmRlbGVnYXRlPW51bGwsYzt2YXIgaT1yLmFyZztyZXR1cm4gaT9pLmRvbmU/KGVbdC5yZXN1bHROYW1lXT1pLnZhbHVlLGUubmV4dD10Lm5leHRMb2MsXCJyZXR1cm5cIiE9PWUubWV0aG9kJiYoZS5tZXRob2Q9XCJuZXh0XCIsZS5hcmc9dm9pZCAwKSxlLmRlbGVnYXRlPW51bGwsYyk6aTooZS5tZXRob2Q9XCJ0aHJvd1wiLGUuYXJnPW5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKSxlLmRlbGVnYXRlPW51bGwsYyl9ZnVuY3Rpb24gdyh0KXt2YXIgZT17dHJ5TG9jOnRbMF19OzEgaW4gdCYmKGUuY2F0Y2hMb2M9dFsxXSksMiBpbiB0JiYoZS5maW5hbGx5TG9jPXRbMl0sZS5hZnRlckxvYz10WzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaChlKX1mdW5jdGlvbiBFKHQpe3ZhciBlPXQuY29tcGxldGlvbnx8e307ZS50eXBlPVwibm9ybWFsXCIsZGVsZXRlIGUuYXJnLHQuY29tcGxldGlvbj1lfWZ1bmN0aW9uIHgodCl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOlwicm9vdFwifV0sdC5mb3JFYWNoKHcsdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gTyh0KXtpZih0KXt2YXIgZT10W2ldO2lmKGUpcmV0dXJuIGUuY2FsbCh0KTtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgdC5uZXh0KXJldHVybiB0O2lmKCFpc05hTih0Lmxlbmd0aCkpe3ZhciByPS0xLG89ZnVuY3Rpb24gZSgpe2Zvcig7KytyPHQubGVuZ3RoOylpZihuLmNhbGwodCxyKSlyZXR1cm4gZS52YWx1ZT10W3JdLGUuZG9uZT0hMSxlO3JldHVybiBlLnZhbHVlPXZvaWQgMCxlLmRvbmU9ITAsZX07cmV0dXJuIG8ubmV4dD1vfX1yZXR1cm57bmV4dDpUfX1mdW5jdGlvbiBUKCl7cmV0dXJue3ZhbHVlOnZvaWQgMCxkb25lOiEwfX1yZXR1cm4gbC5wcm90b3R5cGU9di5jb25zdHJ1Y3Rvcj1oLGguY29uc3RydWN0b3I9bCxoW2FdPWwuZGlzcGxheU5hbWU9XCJHZW5lcmF0b3JGdW5jdGlvblwiLHQuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbih0KXt2YXIgZT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgdCYmdC5jb25zdHJ1Y3RvcjtyZXR1cm4hIWUmJihlPT09bHx8XCJHZW5lcmF0b3JGdW5jdGlvblwiPT09KGUuZGlzcGxheU5hbWV8fGUubmFtZSkpfSx0Lm1hcms9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxoKToodC5fX3Byb3RvX189aCxhIGluIHR8fCh0W2FdPVwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodiksdH0sdC5hd3JhcD1mdW5jdGlvbih0KXtyZXR1cm57X19hd2FpdDp0fX0sZyhiLnByb3RvdHlwZSksYi5wcm90b3R5cGVbb109ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdC5Bc3luY0l0ZXJhdG9yPWIsdC5hc3luYz1mdW5jdGlvbihlLG4scixpKXt2YXIgbz1uZXcgYihzKGUsbixyLGkpKTtyZXR1cm4gdC5pc0dlbmVyYXRvckZ1bmN0aW9uKG4pP286by5uZXh0KCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQuZG9uZT90LnZhbHVlOm8ubmV4dCgpfSkpfSxnKHYpLHZbYV09XCJHZW5lcmF0b3JcIix2W2ldPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHYudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgR2VuZXJhdG9yXVwifSx0LmtleXM9ZnVuY3Rpb24odCl7dmFyIGU9W107Zm9yKHZhciBuIGluIHQpZS5wdXNoKG4pO3JldHVybiBlLnJldmVyc2UoKSxmdW5jdGlvbiBuKCl7Zm9yKDtlLmxlbmd0aDspe3ZhciByPWUucG9wKCk7aWYociBpbiB0KXJldHVybiBuLnZhbHVlPXIsbi5kb25lPSExLG59cmV0dXJuIG4uZG9uZT0hMCxufX0sdC52YWx1ZXM9Tyx4LnByb3RvdHlwZT17Y29uc3RydWN0b3I6eCxyZXNldDpmdW5jdGlvbih0KXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD12b2lkIDAsdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLmFyZz12b2lkIDAsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goRSksIXQpZm9yKHZhciBlIGluIHRoaXMpXCJ0XCI9PT1lLmNoYXJBdCgwKSYmbi5jYWxsKHRoaXMsZSkmJiFpc05hTigrZS5zbGljZSgxKSkmJih0aGlzW2VdPXZvaWQgMCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIHQ9dGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZG9uZSl0aHJvdyB0O3ZhciBlPXRoaXM7ZnVuY3Rpb24gcihuLHIpe3JldHVybiBhLnR5cGU9XCJ0aHJvd1wiLGEuYXJnPXQsZS5uZXh0PW4sciYmKGUubWV0aG9kPVwibmV4dFwiLGUuYXJnPXZvaWQgMCksISFyfWZvcih2YXIgaT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7aT49MDstLWkpe3ZhciBvPXRoaXMudHJ5RW50cmllc1tpXSxhPW8uY29tcGxldGlvbjtpZihcInJvb3RcIj09PW8udHJ5TG9jKXJldHVybiByKFwiZW5kXCIpO2lmKG8udHJ5TG9jPD10aGlzLnByZXYpe3ZhciBzPW4uY2FsbChvLFwiY2F0Y2hMb2NcIiksdT1uLmNhbGwobyxcImZpbmFsbHlMb2NcIik7aWYocyYmdSl7aWYodGhpcy5wcmV2PG8uY2F0Y2hMb2MpcmV0dXJuIHIoby5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PG8uZmluYWxseUxvYylyZXR1cm4gcihvLmZpbmFsbHlMb2MpfWVsc2UgaWYocyl7aWYodGhpcy5wcmV2PG8uY2F0Y2hMb2MpcmV0dXJuIHIoby5jYXRjaExvYywhMCl9ZWxzZXtpZighdSl0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtpZih0aGlzLnByZXY8by5maW5hbGx5TG9jKXJldHVybiByKG8uZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgcj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7cj49MDstLXIpe3ZhciBpPXRoaXMudHJ5RW50cmllc1tyXTtpZihpLnRyeUxvYzw9dGhpcy5wcmV2JiZuLmNhbGwoaSxcImZpbmFsbHlMb2NcIikmJnRoaXMucHJldjxpLmZpbmFsbHlMb2Mpe3ZhciBvPWk7YnJlYWt9fW8mJihcImJyZWFrXCI9PT10fHxcImNvbnRpbnVlXCI9PT10KSYmby50cnlMb2M8PWUmJmU8PW8uZmluYWxseUxvYyYmKG89bnVsbCk7dmFyIGE9bz9vLmNvbXBsZXRpb246e307cmV0dXJuIGEudHlwZT10LGEuYXJnPWUsbz8odGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5uZXh0PW8uZmluYWxseUxvYyxjKTp0aGlzLmNvbXBsZXRlKGEpfSxjb21wbGV0ZTpmdW5jdGlvbih0LGUpe2lmKFwidGhyb3dcIj09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm5cImJyZWFrXCI9PT10LnR5cGV8fFwiY29udGludWVcIj09PXQudHlwZT90aGlzLm5leHQ9dC5hcmc6XCJyZXR1cm5cIj09PXQudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPXQuYXJnLHRoaXMubWV0aG9kPVwicmV0dXJuXCIsdGhpcy5uZXh0PVwiZW5kXCIpOlwibm9ybWFsXCI9PT10LnR5cGUmJmUmJih0aGlzLm5leHQ9ZSksY30sZmluaXNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tlXTtpZihuLmZpbmFsbHlMb2M9PT10KXJldHVybiB0aGlzLmNvbXBsZXRlKG4uY29tcGxldGlvbixuLmFmdGVyTG9jKSxFKG4pLGN9fSxjYXRjaDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgbj10aGlzLnRyeUVudHJpZXNbZV07aWYobi50cnlMb2M9PT10KXt2YXIgcj1uLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09ci50eXBlKXt2YXIgaT1yLmFyZztFKG4pfXJldHVybiBpfX10aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpPKHQpLHJlc3VsdE5hbWU6ZSxuZXh0TG9jOm59LFwibmV4dFwiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz12b2lkIDApLGN9fSx0fSh0LmV4cG9ydHMpO3RyeXtyZWdlbmVyYXRvclJ1bnRpbWU9cn1jYXRjaCh0KXtGdW5jdGlvbihcInJcIixcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocil9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe3ZhciByPW4oMjkpLkV2ZW50RW1pdHRlcixpPW4oNSksbz1uKDYxKSxhPW4oMTA2KSxzPW4oMzkpO2Z1bmN0aW9uIHUodCxlLG4pe3ZhciBpPXRoaXM7ci5jYWxsKHRoaXMpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aS5fc3RhcnQodCxlLG4pfSksMCl9aSh1LHIpLHUucHJvdG90eXBlLl9zdGFydD1mdW5jdGlvbih0LG4scil7dmFyIGk9dGhpcyxhPW5ldyBlLlhEb21haW5SZXF1ZXN0O249cy5hZGRRdWVyeShuLFwidD1cIisgK25ldyBEYXRlKSxhLm9uZXJyb3I9ZnVuY3Rpb24oKXtpLl9lcnJvcigpfSxhLm9udGltZW91dD1mdW5jdGlvbigpe2kuX2Vycm9yKCl9LGEub25wcm9ncmVzcz1mdW5jdGlvbigpe2EucmVzcG9uc2VUZXh0LGkuZW1pdChcImNodW5rXCIsMjAwLGEucmVzcG9uc2VUZXh0KX0sYS5vbmxvYWQ9ZnVuY3Rpb24oKXtpLmVtaXQoXCJmaW5pc2hcIiwyMDAsYS5yZXNwb25zZVRleHQpLGkuX2NsZWFudXAoITEpfSx0aGlzLnhkcj1hLHRoaXMudW5sb2FkUmVmPW8udW5sb2FkQWRkKChmdW5jdGlvbigpe2kuX2NsZWFudXAoITApfSkpO3RyeXt0aGlzLnhkci5vcGVuKHQsbiksdGhpcy50aW1lb3V0JiYodGhpcy54ZHIudGltZW91dD10aGlzLnRpbWVvdXQpLHRoaXMueGRyLnNlbmQocil9Y2F0Y2godCl7dGhpcy5fZXJyb3IoKX19LHUucHJvdG90eXBlLl9lcnJvcj1mdW5jdGlvbigpe3RoaXMuZW1pdChcImZpbmlzaFwiLDAsXCJcIiksdGhpcy5fY2xlYW51cCghMSl9LHUucHJvdG90eXBlLl9jbGVhbnVwPWZ1bmN0aW9uKHQpe2lmKHRoaXMueGRyKXtpZih0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpLG8udW5sb2FkRGVsKHRoaXMudW5sb2FkUmVmKSx0aGlzLnhkci5vbnRpbWVvdXQ9dGhpcy54ZHIub25lcnJvcj10aGlzLnhkci5vbnByb2dyZXNzPXRoaXMueGRyLm9ubG9hZD1udWxsLHQpdHJ5e3RoaXMueGRyLmFib3J0KCl9Y2F0Y2godCl7fXRoaXMudW5sb2FkUmVmPXRoaXMueGRyPW51bGx9fSx1LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFudXAoITApfSx1LmVuYWJsZWQ9ISghZS5YRG9tYWluUmVxdWVzdHx8IWEuaGFzRG9tYWluKCkpLHQuZXhwb3J0cz11fSkuY2FsbCh0aGlzLG4oNikpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe3ZhciByPW4oNSksaT1uKDIzOSksbz1uKDE3Nyk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oZSxuKXtpLmNhbGwodGhpcyx0LnRyYW5zcG9ydE5hbWUsZSxuKX1yZXR1cm4gcihuLGkpLG4uZW5hYmxlZD1mdW5jdGlvbihuLHIpe2lmKCFlLmRvY3VtZW50KXJldHVybiExO3ZhciBhPW8uZXh0ZW5kKHt9LHIpO3JldHVybiBhLnNhbWVPcmlnaW49ITAsdC5lbmFibGVkKGEpJiZpLmVuYWJsZWQoKX0sbi50cmFuc3BvcnROYW1lPVwiaWZyYW1lLVwiK3QudHJhbnNwb3J0TmFtZSxuLm5lZWRCb2R5PSEwLG4ucm91bmRUcmlwcz1pLnJvdW5kVHJpcHMrdC5yb3VuZFRyaXBzLTEsbi5mYWNhZGVUcmFuc3BvcnQ9dCxufX0pLmNhbGwodGhpcyxuKDYpKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz17aXNPYmplY3Q6ZnVuY3Rpb24odCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuXCJmdW5jdGlvblwiPT09ZXx8XCJvYmplY3RcIj09PWUmJiEhdH0sZXh0ZW5kOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmlzT2JqZWN0KHQpKXJldHVybiB0O2Zvcih2YXIgZSxuLHI9MSxpPWFyZ3VtZW50cy5sZW5ndGg7cjxpO3IrKylmb3IobiBpbiBlPWFyZ3VtZW50c1tyXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSk7cmV0dXJuIHR9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7dGhpcy50eXBlPXR9ci5wcm90b3R5cGUuaW5pdEV2ZW50PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy50eXBlPXQsdGhpcy5idWJibGVzPWUsdGhpcy5jYW5jZWxhYmxlPW4sdGhpcy50aW1lU3RhbXA9K25ldyBEYXRlLHRoaXN9LHIucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbj1mdW5jdGlvbigpe30sci5wcm90b3R5cGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt9LHIuQ0FQVFVSSU5HX1BIQVNFPTEsci5BVF9UQVJHRVQ9MixyLkJVQkJMSU5HX1BIQVNFPTMsdC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDQpLGk9bigxNiksbz1uKDI0NiksYT1uKDM1KSxzPW4oMTEzKSx1PW4oMyksYz1uKDY5KSxmPW4oNjUpLGw9bigyMCksaD1uKDI0NykscD1uKDM5NiksZD1uKDc4KSx5PW4oOTgpLHY9big5NSkuZixnPW4oMjQpLmYsYj1uKDI0OCksbT1uKDU4KSx3PW4oNDQpLEU9dy5nZXQseD13LnNldCxPPXIuQXJyYXlCdWZmZXIsVD1PLFM9ci5EYXRhVmlldyxrPVMmJlMucHJvdG90eXBlLF89T2JqZWN0LnByb3RvdHlwZSxqPXIuUmFuZ2VFcnJvcixBPXAucGFjayxJPXAudW5wYWNrLEM9ZnVuY3Rpb24odCl7cmV0dXJuWzI1NSZ0XX0sUD1mdW5jdGlvbih0KXtyZXR1cm5bMjU1JnQsdD4+OCYyNTVdfSxSPWZ1bmN0aW9uKHQpe3JldHVyblsyNTUmdCx0Pj44JjI1NSx0Pj4xNiYyNTUsdD4+MjQmMjU1XX0sTD1mdW5jdGlvbih0KXtyZXR1cm4gdFszXTw8MjR8dFsyXTw8MTZ8dFsxXTw8OHx0WzBdfSxOPWZ1bmN0aW9uKHQpe3JldHVybiBBKHQsMjMsNCl9LEQ9ZnVuY3Rpb24odCl7cmV0dXJuIEEodCw1Miw4KX0sVT1mdW5jdGlvbih0LGUpe2codC5wcm90b3R5cGUsZSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEUodGhpcylbZV19fSl9LE09ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9aChuKSxvPUUodCk7aWYoaStlPm8uYnl0ZUxlbmd0aCl0aHJvdyBqKFwiV3JvbmcgaW5kZXhcIik7dmFyIGE9RShvLmJ1ZmZlcikuYnl0ZXMscz1pK28uYnl0ZU9mZnNldCx1PWEuc2xpY2UocyxzK2UpO3JldHVybiByP3U6dS5yZXZlcnNlKCl9LEY9ZnVuY3Rpb24odCxlLG4scixpLG8pe3ZhciBhPWgobikscz1FKHQpO2lmKGErZT5zLmJ5dGVMZW5ndGgpdGhyb3cgaihcIldyb25nIGluZGV4XCIpO2Zvcih2YXIgdT1FKHMuYnVmZmVyKS5ieXRlcyxjPWErcy5ieXRlT2Zmc2V0LGY9cigraSksbD0wO2w8ZTtsKyspdVtjK2xdPWZbbz9sOmUtbC0xXX07aWYobyl7aWYoIXUoKGZ1bmN0aW9uKCl7TygxKX0pKXx8IXUoKGZ1bmN0aW9uKCl7bmV3IE8oLTEpfSkpfHx1KChmdW5jdGlvbigpe3JldHVybiBuZXcgTyxuZXcgTygxLjUpLG5ldyBPKE5hTiksXCJBcnJheUJ1ZmZlclwiIT1PLm5hbWV9KSkpe2Zvcih2YXIgQixIPShUPWZ1bmN0aW9uKHQpe3JldHVybiBjKHRoaXMsVCksbmV3IE8oaCh0KSl9KS5wcm90b3R5cGU9Ty5wcm90b3R5cGUscT12KE8pLHo9MDtxLmxlbmd0aD56OykoQj1xW3orK10paW4gVHx8YShULEIsT1tCXSk7SC5jb25zdHJ1Y3Rvcj1UfXkmJmQoaykhPT1fJiZ5KGssXyk7dmFyIFY9bmV3IFMobmV3IFQoMikpLEc9ay5zZXRJbnQ4O1Yuc2V0SW50OCgwLDIxNDc0ODM2NDgpLFYuc2V0SW50OCgxLDIxNDc0ODM2NDkpLCFWLmdldEludDgoMCkmJlYuZ2V0SW50OCgxKXx8cyhrLHtzZXRJbnQ4OmZ1bmN0aW9uKHQsZSl7Ry5jYWxsKHRoaXMsdCxlPDwyND4+MjQpfSxzZXRVaW50ODpmdW5jdGlvbih0LGUpe0cuY2FsbCh0aGlzLHQsZTw8MjQ+PjI0KX19LHt1bnNhZmU6ITB9KX1lbHNlIFQ9ZnVuY3Rpb24odCl7Yyh0aGlzLFQsXCJBcnJheUJ1ZmZlclwiKTt2YXIgZT1oKHQpO3godGhpcyx7Ynl0ZXM6Yi5jYWxsKG5ldyBBcnJheShlKSwwKSxieXRlTGVuZ3RoOmV9KSxpfHwodGhpcy5ieXRlTGVuZ3RoPWUpfSxTPWZ1bmN0aW9uKHQsZSxuKXtjKHRoaXMsUyxcIkRhdGFWaWV3XCIpLGModCxULFwiRGF0YVZpZXdcIik7dmFyIHI9RSh0KS5ieXRlTGVuZ3RoLG89ZihlKTtpZihvPDB8fG8+cil0aHJvdyBqKFwiV3Jvbmcgb2Zmc2V0XCIpO2lmKG8rKG49dm9pZCAwPT09bj9yLW86bChuKSk+cil0aHJvdyBqKFwiV3JvbmcgbGVuZ3RoXCIpO3godGhpcyx7YnVmZmVyOnQsYnl0ZUxlbmd0aDpuLGJ5dGVPZmZzZXQ6b30pLGl8fCh0aGlzLmJ1ZmZlcj10LHRoaXMuYnl0ZUxlbmd0aD1uLHRoaXMuYnl0ZU9mZnNldD1vKX0saSYmKFUoVCxcImJ5dGVMZW5ndGhcIiksVShTLFwiYnVmZmVyXCIpLFUoUyxcImJ5dGVMZW5ndGhcIiksVShTLFwiYnl0ZU9mZnNldFwiKSkscyhTLnByb3RvdHlwZSx7Z2V0SW50ODpmdW5jdGlvbih0KXtyZXR1cm4gTSh0aGlzLDEsdClbMF08PDI0Pj4yNH0sZ2V0VWludDg6ZnVuY3Rpb24odCl7cmV0dXJuIE0odGhpcywxLHQpWzBdfSxnZXRJbnQxNjpmdW5jdGlvbih0KXt2YXIgZT1NKHRoaXMsMix0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKTtyZXR1cm4oZVsxXTw8OHxlWzBdKTw8MTY+PjE2fSxnZXRVaW50MTY6ZnVuY3Rpb24odCl7dmFyIGU9TSh0aGlzLDIsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCk7cmV0dXJuIGVbMV08PDh8ZVswXX0sZ2V0SW50MzI6ZnVuY3Rpb24odCl7cmV0dXJuIEwoTSh0aGlzLDQsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCkpfSxnZXRVaW50MzI6ZnVuY3Rpb24odCl7cmV0dXJuIEwoTSh0aGlzLDQsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCkpPj4+MH0sZ2V0RmxvYXQzMjpmdW5jdGlvbih0KXtyZXR1cm4gSShNKHRoaXMsNCx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKSwyMyl9LGdldEZsb2F0NjQ6ZnVuY3Rpb24odCl7cmV0dXJuIEkoTSh0aGlzLDgsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCksNTIpfSxzZXRJbnQ4OmZ1bmN0aW9uKHQsZSl7Rih0aGlzLDEsdCxDLGUpfSxzZXRVaW50ODpmdW5jdGlvbih0LGUpe0YodGhpcywxLHQsQyxlKX0sc2V0SW50MTY6ZnVuY3Rpb24odCxlKXtGKHRoaXMsMix0LFAsZSxhcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCl9LHNldFVpbnQxNjpmdW5jdGlvbih0LGUpe0YodGhpcywyLHQsUCxlLGFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwKX0sc2V0SW50MzI6ZnVuY3Rpb24odCxlKXtGKHRoaXMsNCx0LFIsZSxhcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCl9LHNldFVpbnQzMjpmdW5jdGlvbih0LGUpe0YodGhpcyw0LHQsUixlLGFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwKX0sc2V0RmxvYXQzMjpmdW5jdGlvbih0LGUpe0YodGhpcyw0LHQsTixlLGFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwKX0sc2V0RmxvYXQ2NDpmdW5jdGlvbih0LGUpe0YodGhpcyw4LHQsRCxlLGFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwKX19KTttKFQsXCJBcnJheUJ1ZmZlclwiKSxtKFMsXCJEYXRhVmlld1wiKSx0LmV4cG9ydHM9e0FycmF5QnVmZmVyOlQsRGF0YVZpZXc6U319LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2Z1bmN0aW9uIGkodCl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQodC5yZXBsYWNlKC9cXCsvZyxcIiBcIikpfWNhdGNoKHQpe3JldHVybiBudWxsfX1lLnN0cmluZ2lmeT1mdW5jdGlvbih0LGUpe2U9ZXx8XCJcIjt2YXIgbixpLG89W107Zm9yKGkgaW5cInN0cmluZ1wiIT09dHlwZW9mIGUmJihlPVwiP1wiKSx0KWlmKHIuY2FsbCh0LGkpKXtpZigobj10W2ldKXx8bnVsbCE9PW4mJnZvaWQgMCE9PW4mJiFpc05hTihuKXx8KG49XCJcIiksaT1lbmNvZGVVUklDb21wb25lbnQoaSksbj1lbmNvZGVVUklDb21wb25lbnQobiksbnVsbD09PWl8fG51bGw9PT1uKWNvbnRpbnVlO28ucHVzaChpK1wiPVwiK24pfXJldHVybiBvLmxlbmd0aD9lK28uam9pbihcIiZcIik6XCJcIn0sZS5wYXJzZT1mdW5jdGlvbih0KXtmb3IodmFyIGUsbj0vKFtePT8mXSspPT8oW14mXSopL2cscj17fTtlPW4uZXhlYyh0KTspe3ZhciBvPWkoZVsxXSksYT1pKGVbMl0pO251bGw9PT1vfHxudWxsPT09YXx8byBpbiByfHwocltvXT1hKX1yZXR1cm4gcn19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPW51bGw9PXQ/MDp0Lmxlbmd0aDtyZXR1cm4gZT90W2UtMV06dm9pZCAwfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzQ4KSxpPW4oMzQ5KTt0LmV4cG9ydHM9cihcInY1XCIsODAsaSl9LGZ1bmN0aW9uKHQsZSxuKXshZnVuY3Rpb24ocil7dmFyIGk9bigzNjgpO2lmKCFpKXRocm93IG5ldyBFcnJvcihcInZlcnR4LWV2ZW50YnVzLmpzIHJlcXVpcmVzIHNvY2tqcy1jbGllbnQsIHNlZSBodHRwOi8vc29ja2pzLm9yZ1wiKTshZnVuY3Rpb24obil7ZnVuY3Rpb24gcih0LGUpe2lmKHQpe2lmKCFlKXJldHVybiB0O2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJlwidW5kZWZpbmVkXCI9PT10eXBlb2YgZVtuXSYmKGVbbl09dFtuXSl9cmV0dXJuIGV8fHt9fXZhciBpPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcztlPWV8fHt9LHRoaXMucGluZ0ludGVydmFsPWUudmVydHhidXNfcGluZ19pbnRlcnZhbHx8NWUzLHRoaXMucGluZ1RpbWVySUQ9bnVsbCx0aGlzLnJlY29ubmVjdEVuYWJsZWQ9ITEsdGhpcy5yZWNvbm5lY3RBdHRlbXB0cz0wLHRoaXMucmVjb25uZWN0VGltZXJJRD1udWxsLHRoaXMubWF4UmVjb25uZWN0QXR0ZW1wdHM9ZS52ZXJ0eGJ1c19yZWNvbm5lY3RfYXR0ZW1wdHNfbWF4fHwxLzAsdGhpcy5yZWNvbm5lY3REZWxheU1pbj1lLnZlcnR4YnVzX3JlY29ubmVjdF9kZWxheV9taW58fDFlMyx0aGlzLnJlY29ubmVjdERlbGF5TWF4PWUudmVydHhidXNfcmVjb25uZWN0X2RlbGF5X21heHx8NWUzLHRoaXMucmVjb25uZWN0RXhwb25lbnQ9ZS52ZXJ0eGJ1c19yZWNvbm5lY3RfZXhwb25lbnR8fDIsdGhpcy5yYW5kb21pemF0aW9uRmFjdG9yPWUudmVydHhidXNfcmFuZG9taXphdGlvbl9mYWN0b3J8fC41O3RoaXMuZGVmYXVsdEhlYWRlcnM9bnVsbCx0aGlzLm9uZXJyb3I9ZnVuY3Rpb24odCl7dHJ5e2NvbnNvbGUuZXJyb3IodCl9Y2F0Y2godCl7fX07dmFyIG89ZnVuY3Rpb24oKXtyLnNvY2tKU0Nvbm49bmV3IG4odCxudWxsLGUpLHIuc3RhdGU9aS5DT05ORUNUSU5HLHIuaGFuZGxlcnM9e30sci5yZXBseUhhbmRsZXJzPXt9LHIuc29ja0pTQ29ubi5vbm9wZW49ZnVuY3Rpb24oKXtyLmVuYWJsZVBpbmcoITApLHIuc3RhdGU9aS5PUEVOLHIub25vcGVuJiZyLm9ub3BlbigpLHIucmVjb25uZWN0VGltZXJJRCYmKHIucmVjb25uZWN0QXR0ZW1wdHM9MCxyLm9ucmVjb25uZWN0JiZyLm9ucmVjb25uZWN0KCkpfSxyLnNvY2tKU0Nvbm4ub25jbG9zZT1mdW5jdGlvbih0KXtyLnN0YXRlPWkuQ0xPU0VELHIucGluZ1RpbWVySUQmJmNsZWFySW50ZXJ2YWwoci5waW5nVGltZXJJRCksci5yZWNvbm5lY3RFbmFibGVkJiZyLnJlY29ubmVjdEF0dGVtcHRzPHIubWF4UmVjb25uZWN0QXR0ZW1wdHMmJihyLnNvY2tKU0Nvbm49bnVsbCxyLnJlY29ubmVjdFRpbWVySUQ9c2V0VGltZW91dChvLGZ1bmN0aW9uKCl7dmFyIHQ9ci5yZWNvbm5lY3REZWxheU1pbipNYXRoLnBvdyhyLnJlY29ubmVjdEV4cG9uZW50LHIucmVjb25uZWN0QXR0ZW1wdHMpO2lmKHIucmFuZG9taXphdGlvbkZhY3Rvcil7dmFyIGU9TWF0aC5yYW5kb20oKSxuPU1hdGguZmxvb3IoZSpyLnJhbmRvbWl6YXRpb25GYWN0b3IqdCk7dD0wPT0oMSZNYXRoLmZsb29yKDEwKmUpKT90LW46dCtufXJldHVybiAwfE1hdGgubWluKHQsci5yZWNvbm5lY3REZWxheU1heCl9KCkpLCsrci5yZWNvbm5lY3RBdHRlbXB0cyksci5vbmNsb3NlJiZyLm9uY2xvc2UodCl9LHIuc29ja0pTQ29ubi5vbm1lc3NhZ2U9ZnVuY3Rpb24odCl7dmFyIGU9SlNPTi5wYXJzZSh0LmRhdGEpO2lmKGUucmVwbHlBZGRyZXNzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInJlcGx5XCIse3ZhbHVlOmZ1bmN0aW9uKHQsbixpKXtyLnNlbmQoZS5yZXBseUFkZHJlc3MsdCxuLGkpfX0pLHIuaGFuZGxlcnNbZS5hZGRyZXNzXSlmb3IodmFyIG49ci5oYW5kbGVyc1tlLmFkZHJlc3NdLGk9MDtpPG4ubGVuZ3RoO2krKylcImVyclwiPT09ZS50eXBlP25baV0oe2ZhaWx1cmVDb2RlOmUuZmFpbHVyZUNvZGUsZmFpbHVyZVR5cGU6ZS5mYWlsdXJlVHlwZSxtZXNzYWdlOmUubWVzc2FnZX0pOm5baV0obnVsbCxlKTtlbHNlIGlmKHIucmVwbHlIYW5kbGVyc1tlLmFkZHJlc3NdKXt2YXIgbz1yLnJlcGx5SGFuZGxlcnNbZS5hZGRyZXNzXTtkZWxldGUgci5yZXBseUhhbmRsZXJzW2UuYWRkcmVzc10sXCJlcnJcIj09PWUudHlwZT9vKHtmYWlsdXJlQ29kZTplLmZhaWx1cmVDb2RlLGZhaWx1cmVUeXBlOmUuZmFpbHVyZVR5cGUsbWVzc2FnZTplLm1lc3NhZ2V9KTpvKG51bGwsZSl9ZWxzZSBpZihcImVyclwiPT09ZS50eXBlKXIub25lcnJvcihlKTtlbHNlIHRyeXtjb25zb2xlLndhcm4oXCJObyBoYW5kbGVyIGZvdW5kIGZvciBtZXNzYWdlOiBcIixlKX1jYXRjaCh0KXt9fX07bygpfTtpLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKHQsZSxuLG8pe2lmKHRoaXMuc3RhdGUhPWkuT1BFTil0aHJvdyBuZXcgRXJyb3IoXCJJTlZBTElEX1NUQVRFX0VSUlwiKTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgbiYmKG89bixuPXt9KTt2YXIgYT17dHlwZTpcInNlbmRcIixhZGRyZXNzOnQsaGVhZGVyczpyKHRoaXMuZGVmYXVsdEhlYWRlcnMsbiksYm9keTplfTtpZihvKXt2YXIgcz1cInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eFwiLnJlcGxhY2UoL1t4eV0vZywoZnVuY3Rpb24odCxlKXtyZXR1cm4gZT0xNipNYXRoLnJhbmRvbSgpLChcInlcIj09dD8zJmV8ODowfGUpLnRvU3RyaW5nKDE2KX0pKTthLnJlcGx5QWRkcmVzcz1zLHRoaXMucmVwbHlIYW5kbGVyc1tzXT1vfXRoaXMuc29ja0pTQ29ubi5zZW5kKEpTT04uc3RyaW5naWZ5KGEpKX0saS5wcm90b3R5cGUucHVibGlzaD1mdW5jdGlvbih0LGUsbil7aWYodGhpcy5zdGF0ZSE9aS5PUEVOKXRocm93IG5ldyBFcnJvcihcIklOVkFMSURfU1RBVEVfRVJSXCIpO3RoaXMuc29ja0pTQ29ubi5zZW5kKEpTT04uc3RyaW5naWZ5KHt0eXBlOlwicHVibGlzaFwiLGFkZHJlc3M6dCxoZWFkZXJzOnIodGhpcy5kZWZhdWx0SGVhZGVycyxuKSxib2R5OmV9KSl9LGkucHJvdG90eXBlLnJlZ2lzdGVySGFuZGxlcj1mdW5jdGlvbih0LGUsbil7aWYodGhpcy5zdGF0ZSE9aS5PUEVOKXRocm93IG5ldyBFcnJvcihcIklOVkFMSURfU1RBVEVfRVJSXCIpO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBlJiYobj1lLGU9e30pLHRoaXMuaGFuZGxlcnNbdF18fCh0aGlzLmhhbmRsZXJzW3RdPVtdLHRoaXMuc29ja0pTQ29ubi5zZW5kKEpTT04uc3RyaW5naWZ5KHt0eXBlOlwicmVnaXN0ZXJcIixhZGRyZXNzOnQsaGVhZGVyczpyKHRoaXMuZGVmYXVsdEhlYWRlcnMsZSl9KSkpLHRoaXMuaGFuZGxlcnNbdF0ucHVzaChuKX0saS5wcm90b3R5cGUudW5yZWdpc3RlckhhbmRsZXI9ZnVuY3Rpb24odCxlLG4pe2lmKHRoaXMuc3RhdGUhPWkuT1BFTil0aHJvdyBuZXcgRXJyb3IoXCJJTlZBTElEX1NUQVRFX0VSUlwiKTt2YXIgbz10aGlzLmhhbmRsZXJzW3RdO2lmKG8pe1wiZnVuY3Rpb25cIj09PXR5cGVvZiBlJiYobj1lLGU9e30pO3ZhciBhPW8uaW5kZXhPZihuKTstMSE9YSYmKG8uc3BsaWNlKGEsMSksMD09PW8ubGVuZ3RoJiYodGhpcy5zb2NrSlNDb25uLnNlbmQoSlNPTi5zdHJpbmdpZnkoe3R5cGU6XCJ1bnJlZ2lzdGVyXCIsYWRkcmVzczp0LGhlYWRlcnM6cih0aGlzLmRlZmF1bHRIZWFkZXJzLGUpfSkpLGRlbGV0ZSB0aGlzLmhhbmRsZXJzW3RdKSl9fSxpLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuc3RhdGU9aS5DTE9TSU5HLHRoaXMuZW5hYmxlUmVjb25uZWN0KCExKSx0aGlzLnNvY2tKU0Nvbm4uY2xvc2UoKX0saS5DT05ORUNUSU5HPTAsaS5PUEVOPTEsaS5DTE9TSU5HPTIsaS5DTE9TRUQ9MyxpLnByb3RvdHlwZS5lbmFibGVQaW5nPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodCl7dmFyIG49ZnVuY3Rpb24oKXtlLnNvY2tKU0Nvbm4uc2VuZChKU09OLnN0cmluZ2lmeSh7dHlwZTpcInBpbmdcIn0pKX07ZS5waW5nSW50ZXJ2YWw+MCYmKG4oKSxlLnBpbmdUaW1lcklEPXNldEludGVydmFsKG4sZS5waW5nSW50ZXJ2YWwpKX1lbHNlIGUucGluZ1RpbWVySUQmJihjbGVhckludGVydmFsKGUucGluZ1RpbWVySUQpLGUucGluZ1RpbWVySUQ9bnVsbCl9LGkucHJvdG90eXBlLmVuYWJsZVJlY29ubmVjdD1mdW5jdGlvbih0KXt0aGlzLnJlY29ubmVjdEVuYWJsZWQ9dCwhdCYmdGhpcy5yZWNvbm5lY3RUaW1lcklEJiYoY2xlYXJUaW1lb3V0KHRoaXMucmVjb25uZWN0VGltZXJJRCksdGhpcy5yZWNvbm5lY3RUaW1lcklEPW51bGwsdGhpcy5yZWNvbm5lY3RBdHRlbXB0cz0wKX0sdC5leHBvcnRzP2U9dC5leHBvcnRzPWk6ZS5FdmVudEJ1cz1pfShpKX0oKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTYpLGk9bigzKSxvPW4oMTQzKTt0LmV4cG9ydHM9IXImJiFpKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkobyhcImRpdlwiKSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNCksaT1uKDE0NCksbz1yW1wiX19jb3JlLWpzX3NoYXJlZF9fXCJdfHxpKFwiX19jb3JlLWpzX3NoYXJlZF9fXCIse30pO3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxOSksaT1uKDE0Nyksbz1uKDU1KSxhPW4oMjQpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1pKGUpLHM9YS5mLHU9by5mLGM9MDtjPG4ubGVuZ3RoO2MrKyl7dmFyIGY9bltjXTtyKHQsZil8fHModCxmLHUoZSxmKSl9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNCk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE5KSxpPW4oNDEpLG89big5NikuaW5kZXhPZixhPW4oOTQpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLHM9aSh0KSx1PTAsYz1bXTtmb3IobiBpbiBzKSFyKGEsbikmJnIocyxuKSYmYy5wdXNoKG4pO2Zvcig7ZS5sZW5ndGg+dTspcihzLG49ZVt1KytdKSYmKH5vKGMsbil8fGMucHVzaChuKSk7cmV0dXJuIGN9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNTEpO3QuZXhwb3J0cz1yJiYhU3ltYm9sLnNoYW0mJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3J9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE2KSxpPW4oMjQpLG89bigxNyksYT1uKDExMik7dC5leHBvcnRzPXI/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24odCxlKXtvKHQpO2Zvcih2YXIgbixyPWEoZSkscz1yLmxlbmd0aCx1PTA7cz51OylpLmYodCxuPXJbdSsrXSxlW25dKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDU3KTt0LmV4cG9ydHM9cihcImRvY3VtZW50XCIsXCJkb2N1bWVudEVsZW1lbnRcIil9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQxKSxpPW4oOTUpLmYsbz17fS50b1N0cmluZyxhPVwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXTt0LmV4cG9ydHMuZj1mdW5jdGlvbih0KXtyZXR1cm4gYSYmXCJbb2JqZWN0IFdpbmRvd11cIj09by5jYWxsKHQpP2Z1bmN0aW9uKHQpe3RyeXtyZXR1cm4gaSh0KX1jYXRjaCh0KXtyZXR1cm4gYS5zbGljZSgpfX0odCk6aShyKHQpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcpO2UuZj1yfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxODcpLGk9bigxOSksbz1uKDE5MyksYT1uKDI0KS5mO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1yLlN5bWJvbHx8KHIuU3ltYm9sPXt9KTtpKGUsdCl8fGEoZSx0LHt2YWx1ZTpvLmYodCl9KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDExKSxpPW4oMTExKSxvPW4oNykoXCJzcGVjaWVzXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBpKHQpJiYoXCJmdW5jdGlvblwiIT10eXBlb2Yobj10LmNvbnN0cnVjdG9yKXx8biE9PUFycmF5JiYhaShuLnByb3RvdHlwZSk/cihuKSYmbnVsbD09PShuPW5bb10pJiYobj12b2lkIDApOm49dm9pZCAwKSxuZXcodm9pZCAwPT09bj9BcnJheTpuKSgwPT09ZT8wOmUpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTk3KS5JdGVyYXRvclByb3RvdHlwZSxpPW4oNjYpLG89big2NCksYT1uKDU4KSxzPW4oOTcpLHU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgYz1lK1wiIEl0ZXJhdG9yXCI7cmV0dXJuIHQucHJvdG90eXBlPWkocix7bmV4dDpvKDEsbil9KSxhKHQsYywhMSwhMCksc1tjXT11LHR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaSxvLGE9big3OCkscz1uKDM1KSx1PW4oMTkpLGM9big3KSxmPW4oNzYpLGw9YyhcIml0ZXJhdG9yXCIpLGg9ITE7W10ua2V5cyYmKFwibmV4dFwiaW4obz1bXS5rZXlzKCkpPyhpPWEoYShvKSkpIT09T2JqZWN0LnByb3RvdHlwZSYmKHI9aSk6aD0hMCksdm9pZCAwPT1yJiYocj17fSksZnx8dShyLGwpfHxzKHIsbCwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSx0LmV4cG9ydHM9e0l0ZXJhdG9yUHJvdG90eXBlOnIsQlVHR1lfU0FGQVJJX0lURVJBVE9SUzpofX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTcpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixpKXt0cnl7cmV0dXJuIGk/ZShyKG4pWzBdLG5bMV0pOmUobil9Y2F0Y2goZSl7dmFyIG89dC5yZXR1cm47dGhyb3cgdm9pZCAwIT09byYmcihvLmNhbGwodCkpLGV9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjAwKTt0LmV4cG9ydHM9LyhpcGhvbmV8aXBvZHxpcGFkKS4qYXBwbGV3ZWJraXQvaS50ZXN0KHIpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big1Nyk7dC5leHBvcnRzPXIoXCJuYXZpZ2F0b3JcIixcInVzZXJBZ2VudFwiKXx8XCJcIn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oNjgpLGk9ZnVuY3Rpb24odCl7dmFyIGUsbjt0aGlzLnByb21pc2U9bmV3IHQoKGZ1bmN0aW9uKHQscil7aWYodm9pZCAwIT09ZXx8dm9pZCAwIT09bil0aHJvdyBUeXBlRXJyb3IoXCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvclwiKTtlPXQsbj1yfSkpLHRoaXMucmVzb2x2ZT1yKGUpLHRoaXMucmVqZWN0PXIobil9O3QuZXhwb3J0cy5mPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgaSh0KX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE3KTt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgdD1yKHRoaXMpLGU9XCJcIjtyZXR1cm4gdC5nbG9iYWwmJihlKz1cImdcIiksdC5pZ25vcmVDYXNlJiYoZSs9XCJpXCIpLHQubXVsdGlsaW5lJiYoZSs9XCJtXCIpLHQuZG90QWxsJiYoZSs9XCJzXCIpLHQudW5pY29kZSYmKGUrPVwidVwiKSx0LnN0aWNreSYmKGUrPVwieVwiKSxlfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e0NTU1J1bGVMaXN0OjAsQ1NTU3R5bGVEZWNsYXJhdGlvbjowLENTU1ZhbHVlTGlzdDowLENsaWVudFJlY3RMaXN0OjAsRE9NUmVjdExpc3Q6MCxET01TdHJpbmdMaXN0OjAsRE9NVG9rZW5MaXN0OjEsRGF0YVRyYW5zZmVySXRlbUxpc3Q6MCxGaWxlTGlzdDowLEhUTUxBbGxDb2xsZWN0aW9uOjAsSFRNTENvbGxlY3Rpb246MCxIVE1MRm9ybUVsZW1lbnQ6MCxIVE1MU2VsZWN0RWxlbWVudDowLE1lZGlhTGlzdDowLE1pbWVUeXBlQXJyYXk6MCxOYW1lZE5vZGVNYXA6MCxOb2RlTGlzdDoxLFBhaW50UmVxdWVzdExpc3Q6MCxQbHVnaW46MCxQbHVnaW5BcnJheTowLFNWR0xlbmd0aExpc3Q6MCxTVkdOdW1iZXJMaXN0OjAsU1ZHUGF0aFNlZ0xpc3Q6MCxTVkdQb2ludExpc3Q6MCxTVkdTdHJpbmdMaXN0OjAsU1ZHVHJhbnNmb3JtTGlzdDowLFNvdXJjZUJ1ZmZlckxpc3Q6MCxTdHlsZVNoZWV0TGlzdDowLFRleHRUcmFja0N1ZUxpc3Q6MCxUZXh0VHJhY2tMaXN0OjAsVG91Y2hMaXN0OjB9fSxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1bXSxyPTA7cjwyNTY7KytyKW5bcl09KHIrMjU2KS50b1N0cmluZygxNikuc3Vic3RyKDEpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciByPWV8fDAsaT1uO3JldHVybltpW3RbcisrXV0saVt0W3IrK11dLGlbdFtyKytdXSxpW3RbcisrXV0sXCItXCIsaVt0W3IrK11dLGlbdFtyKytdXSxcIi1cIixpW3RbcisrXV0saVt0W3IrK11dLFwiLVwiLGlbdFtyKytdXSxpW3RbcisrXV0sXCItXCIsaVt0W3IrK11dLGlbdFtyKytdXSxpW3RbcisrXV0saVt0W3IrK11dLGlbdFtyKytdXSxpW3RbcisrXV1dLmpvaW4oXCJcIil9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigzNykuZm9yRWFjaCxpPW4oMTAyKSxvPW4oNDkpLGE9aShcImZvckVhY2hcIikscz1vKFwiZm9yRWFjaFwiKTt0LmV4cG9ydHM9YSYmcz9bXS5mb3JFYWNoOmZ1bmN0aW9uKHQpe3JldHVybiByKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxNiksaT1uKDMpLG89bigxMTIpLGE9bigxNDkpLHM9bigxNDIpLHU9bigzNiksYz1uKDkxKSxmPU9iamVjdC5hc3NpZ24sbD1PYmplY3QuZGVmaW5lUHJvcGVydHk7dC5leHBvcnRzPSFmfHxpKChmdW5jdGlvbigpe2lmKHImJjEhPT1mKHtiOjF9LGYobCh7fSxcImFcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtsKHRoaXMsXCJiXCIse3ZhbHVlOjMsZW51bWVyYWJsZTohMX0pfX0pLHtiOjJ9KSkuYilyZXR1cm4hMDt2YXIgdD17fSxlPXt9LG49U3ltYm9sKCk7cmV0dXJuIHRbbl09NyxcImFiY2RlZmdoaWprbG1ub3BxcnN0XCIuc3BsaXQoXCJcIikuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZVt0XT10fSkpLDchPWYoe30sdClbbl18fFwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcIiE9byhmKHt9LGUpKS5qb2luKFwiXCIpfSkpP2Z1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXUodCksaT1hcmd1bWVudHMubGVuZ3RoLGY9MSxsPWEuZixoPXMuZjtpPmY7KWZvcih2YXIgcCxkPWMoYXJndW1lbnRzW2YrK10pLHk9bD9vKGQpLmNvbmNhdChsKGQpKTpvKGQpLHY9eS5sZW5ndGgsZz0wO3Y+ZzspcD15W2crK10sciYmIWguY2FsbChkLHApfHwobltwXT1kW3BdKTtyZXR1cm4gbn06Zn0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWV8fHQhPT10JiZlIT09ZX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEyMCksaT1uKDEwMyk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCFpKHQpKXJldHVybiExO3ZhciBlPXIodCk7cmV0dXJuXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT1lfHxcIltvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dXCI9PWV8fFwiW29iamVjdCBBc3luY0Z1bmN0aW9uXVwiPT1lfHxcIltvYmplY3QgUHJveHldXCI9PWV9fSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKGUpe3ZhciBuPVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLk9iamVjdD09PU9iamVjdCYmZTt0LmV4cG9ydHM9bn0pLmNhbGwodGhpcyxuKDYpKX0sZnVuY3Rpb24odCxlKXt2YXIgbj1GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKG51bGwhPXQpe3RyeXtyZXR1cm4gbi5jYWxsKHQpfWNhdGNoKHQpe310cnl7cmV0dXJuIHQrXCJcIn1jYXRjaCh0KXt9fXJldHVyblwiXCJ9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMTIpLGk9bigyMDcpLG89T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3ZhciBhPXRbZV07by5jYWxsKHQsZSkmJmkoYSxuKSYmKHZvaWQgMCE9PW58fGUgaW4gdCl8fHIodCxlLG4pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjEzKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe1wiX19wcm90b19fXCI9PWUmJnI/cih0LGUse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOm4sd3JpdGFibGU6ITB9KTp0W2VdPW59fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big3MyksaT1mdW5jdGlvbigpe3RyeXt2YXIgdD1yKE9iamVjdCxcImRlZmluZVByb3BlcnR5XCIpO3JldHVybiB0KHt9LFwiXCIse30pLHR9Y2F0Y2godCl7fX0oKTt0LmV4cG9ydHM9aX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjE1KSxpPW4oMzEwKSxvPW4oMTY1KSxhPW4oMjE2KSxzPW4oMzEzKSx1PW4oMzE0KSxjPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49byh0KSxmPSFuJiZpKHQpLGw9IW4mJiFmJiZhKHQpLGg9IW4mJiFmJiYhbCYmdSh0KSxwPW58fGZ8fGx8fGgsZD1wP3IodC5sZW5ndGgsU3RyaW5nKTpbXSx5PWQubGVuZ3RoO2Zvcih2YXIgdiBpbiB0KSFlJiYhYy5jYWxsKHQsdil8fHAmJihcImxlbmd0aFwiPT12fHxsJiYoXCJvZmZzZXRcIj09dnx8XCJwYXJlbnRcIj09dil8fGgmJihcImJ1ZmZlclwiPT12fHxcImJ5dGVMZW5ndGhcIj09dnx8XCJieXRlT2Zmc2V0XCI9PXYpfHxzKHYseSkpfHxkLnB1c2godik7cmV0dXJuIGR9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0tMSxyPUFycmF5KHQpOysrbjx0OylyW25dPWUobik7cmV0dXJuIHJ9fSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKHQpe3ZhciByPW4oNDUpLGk9bigzMTIpLG89ZSYmIWUubm9kZVR5cGUmJmUsYT1vJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmIXQubm9kZVR5cGUmJnQscz1hJiZhLmV4cG9ydHM9PT1vP3IuQnVmZmVyOnZvaWQgMCx1PShzP3MuaXNCdWZmZXI6dm9pZCAwKXx8aTt0LmV4cG9ydHM9dX0pLmNhbGwodGhpcyxuKDEyNCkodCkpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdCYmdD4tMSYmdCUxPT0wJiZ0PD05MDA3MTk5MjU0NzQwOTkxfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQoZShuKSl9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjE0KSxpPW4oMzE5KSxvPW4oMTY5KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG8odCk/cih0LCEwKTppKHQpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49LTEscj1udWxsPT10PzA6dC5sZW5ndGgsaT0wLG89W107KytuPHI7KXt2YXIgYT10W25dO2UoYSxuLHQpJiYob1tpKytdPWEpfXJldHVybiBvfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm5bXX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIyMyksaT1uKDIyNCksbz1uKDE3MCksYT1uKDIyMSkscz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzP2Z1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXTt0OylyKGUsbyh0KSksdD1pKHQpO3JldHVybiBlfTphO3QuZXhwb3J0cz1zfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0tMSxyPWUubGVuZ3RoLGk9dC5sZW5ndGg7KytuPHI7KXRbaStuXT1lW25dO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjE4KShPYmplY3QuZ2V0UHJvdG90eXBlT2YsT2JqZWN0KTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjIzKSxpPW4oMTY1KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3ZhciBvPWUodCk7cmV0dXJuIGkodCk/bzpyKG8sbih0KSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigzNDUpLGk9bigyMjcpLG89bigxNyksYT1uKDc1KSxzPW4oNzApLHU9bigzNDYpLGM9bigyMCksZj1uKDM0NyksbD1uKDEyNiksaD1uKDMpLHA9W10ucHVzaCxkPU1hdGgubWluLHk9IWgoKGZ1bmN0aW9uKCl7cmV0dXJuIVJlZ0V4cCg0Mjk0OTY3Mjk1LFwieVwiKX0pKTtyKFwic3BsaXRcIiwyLChmdW5jdGlvbih0LGUsbil7dmFyIHI7cmV0dXJuIHI9XCJjXCI9PVwiYWJiY1wiLnNwbGl0KC8oYikqLylbMV18fDQhPVwidGVzdFwiLnNwbGl0KC8oPzopLywtMSkubGVuZ3RofHwyIT1cImFiXCIuc3BsaXQoLyg/OmFiKSovKS5sZW5ndGh8fDQhPVwiLlwiLnNwbGl0KC8oLj8pKC4/KS8pLmxlbmd0aHx8XCIuXCIuc3BsaXQoLygpKCkvKS5sZW5ndGg+MXx8XCJcIi5zcGxpdCgvLj8vKS5sZW5ndGg/ZnVuY3Rpb24odCxuKXt2YXIgcj1TdHJpbmcoYSh0aGlzKSksbz12b2lkIDA9PT1uPzQyOTQ5NjcyOTU6bj4+PjA7aWYoMD09PW8pcmV0dXJuW107aWYodm9pZCAwPT09dClyZXR1cm5bcl07aWYoIWkodCkpcmV0dXJuIGUuY2FsbChyLHQsbyk7Zm9yKHZhciBzLHUsYyxmPVtdLGg9KHQuaWdub3JlQ2FzZT9cImlcIjpcIlwiKSsodC5tdWx0aWxpbmU/XCJtXCI6XCJcIikrKHQudW5pY29kZT9cInVcIjpcIlwiKSsodC5zdGlja3k/XCJ5XCI6XCJcIiksZD0wLHk9bmV3IFJlZ0V4cCh0LnNvdXJjZSxoK1wiZ1wiKTsocz1sLmNhbGwoeSxyKSkmJiEoKHU9eS5sYXN0SW5kZXgpPmQmJihmLnB1c2goci5zbGljZShkLHMuaW5kZXgpKSxzLmxlbmd0aD4xJiZzLmluZGV4PHIubGVuZ3RoJiZwLmFwcGx5KGYscy5zbGljZSgxKSksYz1zWzBdLmxlbmd0aCxkPXUsZi5sZW5ndGg+PW8pKTspeS5sYXN0SW5kZXg9PT1zLmluZGV4JiZ5Lmxhc3RJbmRleCsrO3JldHVybiBkPT09ci5sZW5ndGg/IWMmJnkudGVzdChcIlwiKXx8Zi5wdXNoKFwiXCIpOmYucHVzaChyLnNsaWNlKGQpKSxmLmxlbmd0aD5vP2Yuc2xpY2UoMCxvKTpmfTpcIjBcIi5zcGxpdCh2b2lkIDAsMCkubGVuZ3RoP2Z1bmN0aW9uKHQsbil7cmV0dXJuIHZvaWQgMD09PXQmJjA9PT1uP1tdOmUuY2FsbCh0aGlzLHQsbil9OmUsW2Z1bmN0aW9uKGUsbil7dmFyIGk9YSh0aGlzKSxvPXZvaWQgMD09ZT92b2lkIDA6ZVt0XTtyZXR1cm4gdm9pZCAwIT09bz9vLmNhbGwoZSxpLG4pOnIuY2FsbChTdHJpbmcoaSksZSxuKX0sZnVuY3Rpb24odCxpKXt2YXIgYT1uKHIsdCx0aGlzLGksciE9PWUpO2lmKGEuZG9uZSlyZXR1cm4gYS52YWx1ZTt2YXIgbD1vKHQpLGg9U3RyaW5nKHRoaXMpLHA9cyhsLFJlZ0V4cCksdj1sLnVuaWNvZGUsZz0obC5pZ25vcmVDYXNlP1wiaVwiOlwiXCIpKyhsLm11bHRpbGluZT9cIm1cIjpcIlwiKSsobC51bmljb2RlP1widVwiOlwiXCIpKyh5P1wieVwiOlwiZ1wiKSxiPW5ldyBwKHk/bDpcIl4oPzpcIitsLnNvdXJjZStcIilcIixnKSxtPXZvaWQgMD09PWk/NDI5NDk2NzI5NTppPj4+MDtpZigwPT09bSlyZXR1cm5bXTtpZigwPT09aC5sZW5ndGgpcmV0dXJuIG51bGw9PT1mKGIsaCk/W2hdOltdO2Zvcih2YXIgdz0wLEU9MCx4PVtdO0U8aC5sZW5ndGg7KXtiLmxhc3RJbmRleD15P0U6MDt2YXIgTyxUPWYoYix5P2g6aC5zbGljZShFKSk7aWYobnVsbD09PVR8fChPPWQoYyhiLmxhc3RJbmRleCsoeT8wOkUpKSxoLmxlbmd0aCkpPT09dylFPXUoaCxFLHYpO2Vsc2V7aWYoeC5wdXNoKGguc2xpY2UodyxFKSkseC5sZW5ndGg9PT1tKXJldHVybiB4O2Zvcih2YXIgUz0xO1M8PVQubGVuZ3RoLTE7UysrKWlmKHgucHVzaChUW1NdKSx4Lmxlbmd0aD09PW0pcmV0dXJuIHg7RT13PU99fXJldHVybiB4LnB1c2goaC5zbGljZSh3KSkseH1dfSksIXkpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMSksaT1uKDU2KSxvPW4oNykoXCJtYXRjaFwiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHIodCkmJih2b2lkIDAhPT0oZT10W29dKT8hIWU6XCJSZWdFeHBcIj09aSh0KSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big2NyksaT1uKDM2KSxvPW4oMTk4KSxhPW4oMTU3KSxzPW4oMjApLHU9bigxMTYpLGM9bigxMDApO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZSxuLGYsbCxoLHAsZD1pKHQpLHk9XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcz90aGlzOkFycmF5LHY9YXJndW1lbnRzLmxlbmd0aCxnPXY+MT9hcmd1bWVudHNbMV06dm9pZCAwLGI9dm9pZCAwIT09ZyxtPWMoZCksdz0wO2lmKGImJihnPXIoZyx2PjI/YXJndW1lbnRzWzJdOnZvaWQgMCwyKSksdm9pZCAwPT1tfHx5PT1BcnJheSYmYShtKSlmb3Iobj1uZXcgeShlPXMoZC5sZW5ndGgpKTtlPnc7dysrKXA9Yj9nKGRbd10sdyk6ZFt3XSx1KG4sdyxwKTtlbHNlIGZvcihoPShsPW0uY2FsbChkKSkubmV4dCxuPW5ldyB5OyEoZj1oLmNhbGwobCkpLmRvbmU7dysrKXA9Yj9vKGwsZyxbZi52YWx1ZSx3XSwhMCk6Zi52YWx1ZSx1KG4sdyxwKTtyZXR1cm4gbi5sZW5ndGg9dyxufX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIlxcdFxcblxcdlxcZlxcciBcXHhhMFxcdTE2ODBcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5XFx1ZmVmZlwifSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzKTt0LmV4cG9ydHM9IXIoKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5pc0V4dGVuc2libGUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDExKSxpPW4oOTgpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dmFyIG8sYTtyZXR1cm4gaSYmXCJmdW5jdGlvblwiPT10eXBlb2Yobz1lLmNvbnN0cnVjdG9yKSYmbyE9PW4mJnIoYT1vLnByb3RvdHlwZSkmJmEhPT1uLnByb3RvdHlwZSYmaSh0LGEpLHR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcigpe3RoaXMuX2xpc3RlbmVycz17fX1yLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7dCBpbiB0aGlzLl9saXN0ZW5lcnN8fCh0aGlzLl9saXN0ZW5lcnNbdF09W10pO3ZhciBuPXRoaXMuX2xpc3RlbmVyc1t0XTstMT09PW4uaW5kZXhPZihlKSYmKG49bi5jb25jYXQoW2VdKSksdGhpcy5fbGlzdGVuZXJzW3RdPW59LHIucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9saXN0ZW5lcnNbdF07aWYobil7dmFyIHI9bi5pbmRleE9mKGUpOy0xPT09cnx8KG4ubGVuZ3RoPjE/dGhpcy5fbGlzdGVuZXJzW3RdPW4uc2xpY2UoMCxyKS5jb25jYXQobi5zbGljZShyKzEpKTpkZWxldGUgdGhpcy5fbGlzdGVuZXJzW3RdKX19LHIucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHNbMF0sZT10LnR5cGUsbj0xPT09YXJndW1lbnRzLmxlbmd0aD9bdF06QXJyYXkuYXBwbHkobnVsbCxhcmd1bWVudHMpO2lmKHRoaXNbXCJvblwiK2VdJiZ0aGlzW1wib25cIitlXS5hcHBseSh0aGlzLG4pLGUgaW4gdGhpcy5fbGlzdGVuZXJzKWZvcih2YXIgcj10aGlzLl9saXN0ZW5lcnNbZV0saT0wO2k8ci5sZW5ndGg7aSsrKXJbaV0uYXBwbHkodGhpcyxuKX0sdC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDUpLGk9bigzOSksbz1uKDM3NCksYT1uKDM3NSk7ZnVuY3Rpb24gcyh0LGUsbixyLHMpe3ZhciB1PWkuYWRkUGF0aCh0LGUpLGM9dGhpcztvLmNhbGwodGhpcyx0LG4pLHRoaXMucG9sbD1uZXcgYShyLHUscyksdGhpcy5wb2xsLm9uKFwibWVzc2FnZVwiLChmdW5jdGlvbih0KXtjLmVtaXQoXCJtZXNzYWdlXCIsdCl9KSksdGhpcy5wb2xsLm9uY2UoXCJjbG9zZVwiLChmdW5jdGlvbih0LGUpe2MucG9sbD1udWxsLGMuZW1pdChcImNsb3NlXCIsdCxlKSxjLmNsb3NlKCl9KSl9cihzLG8pLHMucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7by5wcm90b3R5cGUuY2xvc2UuY2FsbCh0aGlzKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMucG9sbCYmKHRoaXMucG9sbC5hYm9ydCgpLHRoaXMucG9sbD1udWxsKX0sdC5leHBvcnRzPXN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7dmFyIHI9bigyOSkuRXZlbnRFbWl0dGVyLGk9big1KSxvPW4oNjEpLGE9bigzOSkscz1lLlhNTEh0dHBSZXF1ZXN0O2Z1bmN0aW9uIHUodCxlLG4saSl7dmFyIG89dGhpcztyLmNhbGwodGhpcyksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtvLl9zdGFydCh0LGUsbixpKX0pLDApfWkodSxyKSx1LnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dGhpczt0cnl7dGhpcy54aHI9bmV3IHN9Y2F0Y2godCl7fWlmKCF0aGlzLnhocilyZXR1cm4gdGhpcy5lbWl0KFwiZmluaXNoXCIsMCxcIm5vIHhociBzdXBwb3J0XCIpLHZvaWQgdGhpcy5fY2xlYW51cCgpO2U9YS5hZGRRdWVyeShlLFwidD1cIisgK25ldyBEYXRlKSx0aGlzLnVubG9hZFJlZj1vLnVubG9hZEFkZCgoZnVuY3Rpb24oKXtpLl9jbGVhbnVwKCEwKX0pKTt0cnl7dGhpcy54aHIub3Blbih0LGUsITApLHRoaXMudGltZW91dCYmXCJ0aW1lb3V0XCJpbiB0aGlzLnhociYmKHRoaXMueGhyLnRpbWVvdXQ9dGhpcy50aW1lb3V0LHRoaXMueGhyLm9udGltZW91dD1mdW5jdGlvbigpe2kuZW1pdChcImZpbmlzaFwiLDAsXCJcIiksaS5fY2xlYW51cCghMSl9KX1jYXRjaCh0KXtyZXR1cm4gdGhpcy5lbWl0KFwiZmluaXNoXCIsMCxcIlwiKSx2b2lkIHRoaXMuX2NsZWFudXAoITEpfWlmKHImJnIubm9DcmVkZW50aWFsc3x8IXUuc3VwcG9ydHNDT1JTfHwodGhpcy54aHIud2l0aENyZWRlbnRpYWxzPSEwKSxyJiZyLmhlYWRlcnMpZm9yKHZhciBjIGluIHIuaGVhZGVycyl0aGlzLnhoci5zZXRSZXF1ZXN0SGVhZGVyKGMsci5oZWFkZXJzW2NdKTt0aGlzLnhoci5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZihpLnhocil7dmFyIHQsZSxuPWkueGhyO3N3aXRjaChuLnJlYWR5U3RhdGUsbi5yZWFkeVN0YXRlKXtjYXNlIDM6dHJ5e2U9bi5zdGF0dXMsdD1uLnJlc3BvbnNlVGV4dH1jYXRjaCh0KXt9MTIyMz09PWUmJihlPTIwNCksMjAwPT09ZSYmdCYmdC5sZW5ndGg+MCYmaS5lbWl0KFwiY2h1bmtcIixlLHQpO2JyZWFrO2Nhc2UgNDoxMjIzPT09KGU9bi5zdGF0dXMpJiYoZT0yMDQpLDEyMDA1IT09ZSYmMTIwMjkhPT1lfHwoZT0wKSxuLnJlc3BvbnNlVGV4dCxpLmVtaXQoXCJmaW5pc2hcIixlLG4ucmVzcG9uc2VUZXh0KSxpLl9jbGVhbnVwKCExKX19fTt0cnl7aS54aHIuc2VuZChuKX1jYXRjaCh0KXtpLmVtaXQoXCJmaW5pc2hcIiwwLFwiXCIpLGkuX2NsZWFudXAoITEpfX0sdS5wcm90b3R5cGUuX2NsZWFudXA9ZnVuY3Rpb24odCl7aWYodGhpcy54aHIpe2lmKHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCksby51bmxvYWREZWwodGhpcy51bmxvYWRSZWYpLHRoaXMueGhyLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe30sdGhpcy54aHIub250aW1lb3V0JiYodGhpcy54aHIub250aW1lb3V0PW51bGwpLHQpdHJ5e3RoaXMueGhyLmFib3J0KCl9Y2F0Y2godCl7fXRoaXMudW5sb2FkUmVmPXRoaXMueGhyPW51bGx9fSx1LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFudXAoITApfSx1LmVuYWJsZWQ9ISFzO3ZhciBjPVtcIkFjdGl2ZVwiXS5jb25jYXQoXCJPYmplY3RcIikuam9pbihcIlhcIik7IXUuZW5hYmxlZCYmYyBpbiBlJiYocz1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IGVbY10oXCJNaWNyb3NvZnQuWE1MSFRUUFwiKX1jYXRjaCh0KXtyZXR1cm4gbnVsbH19LHUuZW5hYmxlZD0hIW5ldyBzKTt2YXIgZj0hMTt0cnl7Zj1cIndpdGhDcmVkZW50aWFsc1wiaW4gbmV3IHN9Y2F0Y2godCl7fXUuc3VwcG9ydHNDT1JTPWYsdC5leHBvcnRzPXV9KS5jYWxsKHRoaXMsbig2KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDUpLGk9big4Myksbz1uKDEzMCksYT1uKDE3NSk7ZnVuY3Rpb24gcyh0KXtpZighYS5lbmFibGVkKXRocm93IG5ldyBFcnJvcihcIlRyYW5zcG9ydCBjcmVhdGVkIHdoZW4gZGlzYWJsZWRcIik7aS5jYWxsKHRoaXMsdCxcIi94aHJfc3RyZWFtaW5nXCIsbyxhKX1yKHMsaSkscy5lbmFibGVkPWZ1bmN0aW9uKHQpe3JldHVybiF0LmNvb2tpZV9uZWVkZWQmJiF0Lm51bGxPcmlnaW4mJihhLmVuYWJsZWQmJnQuc2FtZVNjaGVtZSl9LHMudHJhbnNwb3J0TmFtZT1cInhkci1zdHJlYW1pbmdcIixzLnJvdW5kVHJpcHM9Mix0LmV4cG9ydHM9c30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oNSksaT1uKDgzKSxvPW4oMzc2KSxhPW4oMTMxKSxzPW4oMjM4KTtmdW5jdGlvbiB1KHQpe2lmKCF1LmVuYWJsZWQoKSl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc3BvcnQgY3JlYXRlZCB3aGVuIGRpc2FibGVkXCIpO2kuY2FsbCh0aGlzLHQsXCIvZXZlbnRzb3VyY2VcIixvLGEpfXIodSxpKSx1LmVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hIXN9LHUudHJhbnNwb3J0TmFtZT1cImV2ZW50c291cmNlXCIsdS5yb3VuZFRyaXBzPTIsdC5leHBvcnRzPXV9LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24oZSl7dC5leHBvcnRzPWUuRXZlbnRTb3VyY2V9KS5jYWxsKHRoaXMsbig2KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDUpLGk9big1MCksbz1uKDI5KS5FdmVudEVtaXR0ZXIsYT1uKDI0MCkscz1uKDM5KSx1PW4oMTA3KSxjPW4oNjEpLGY9big4Mik7ZnVuY3Rpb24gbCh0LGUsbil7aWYoIWwuZW5hYmxlZCgpKXRocm93IG5ldyBFcnJvcihcIlRyYW5zcG9ydCBjcmVhdGVkIHdoZW4gZGlzYWJsZWRcIik7by5jYWxsKHRoaXMpO3ZhciByPXRoaXM7dGhpcy5vcmlnaW49cy5nZXRPcmlnaW4obiksdGhpcy5iYXNlVXJsPW4sdGhpcy50cmFuc1VybD1lLHRoaXMudHJhbnNwb3J0PXQsdGhpcy53aW5kb3dJZD1mLnN0cmluZyg4KTt2YXIgaT1zLmFkZFBhdGgobixcIi9pZnJhbWUuaHRtbFwiKStcIiNcIit0aGlzLndpbmRvd0lkO3RoaXMuaWZyYW1lT2JqPXUuY3JlYXRlSWZyYW1lKGksKGZ1bmN0aW9uKHQpe3IuZW1pdChcImNsb3NlXCIsMTAwNixcIlVuYWJsZSB0byBsb2FkIGFuIGlmcmFtZSAoXCIrdCtcIilcIiksci5jbG9zZSgpfSkpLHRoaXMub25tZXNzYWdlQ2FsbGJhY2s9dGhpcy5fbWVzc2FnZS5iaW5kKHRoaXMpLGMuYXR0YWNoRXZlbnQoXCJtZXNzYWdlXCIsdGhpcy5vbm1lc3NhZ2VDYWxsYmFjayl9cihsLG8pLGwucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7aWYodGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLmlmcmFtZU9iail7Yy5kZXRhY2hFdmVudChcIm1lc3NhZ2VcIix0aGlzLm9ubWVzc2FnZUNhbGxiYWNrKTt0cnl7dGhpcy5wb3N0TWVzc2FnZShcImNcIil9Y2F0Y2godCl7fXRoaXMuaWZyYW1lT2JqLmNsZWFudXAoKSx0aGlzLmlmcmFtZU9iaj1udWxsLHRoaXMub25tZXNzYWdlQ2FsbGJhY2s9dGhpcy5pZnJhbWVPYmo9bnVsbH19LGwucHJvdG90eXBlLl9tZXNzYWdlPWZ1bmN0aW9uKHQpe2lmKHQuZGF0YSwhcy5pc09yaWdpbkVxdWFsKHQub3JpZ2luLHRoaXMub3JpZ2luKSlyZXR1cm4gdC5vcmlnaW4sdm9pZCB0aGlzLm9yaWdpbjt2YXIgZTt0cnl7ZT1pLnBhcnNlKHQuZGF0YSl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgdC5kYXRhfWlmKGUud2luZG93SWQhPT10aGlzLndpbmRvd0lkKXJldHVybiBlLndpbmRvd0lkLHZvaWQgdGhpcy53aW5kb3dJZDtzd2l0Y2goZS50eXBlKXtjYXNlXCJzXCI6dGhpcy5pZnJhbWVPYmoubG9hZGVkKCksdGhpcy5wb3N0TWVzc2FnZShcInNcIixpLnN0cmluZ2lmeShbYSx0aGlzLnRyYW5zcG9ydCx0aGlzLnRyYW5zVXJsLHRoaXMuYmFzZVVybF0pKTticmVhaztjYXNlXCJ0XCI6dGhpcy5lbWl0KFwibWVzc2FnZVwiLGUuZGF0YSk7YnJlYWs7Y2FzZVwiY1wiOnZhciBuO3RyeXtuPWkucGFyc2UoZS5kYXRhKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBlLmRhdGF9dGhpcy5lbWl0KFwiY2xvc2VcIixuWzBdLG5bMV0pLHRoaXMuY2xvc2UoKX19LGwucHJvdG90eXBlLnBvc3RNZXNzYWdlPWZ1bmN0aW9uKHQsZSl7dGhpcy5pZnJhbWVPYmoucG9zdChpLnN0cmluZ2lmeSh7d2luZG93SWQ6dGhpcy53aW5kb3dJZCx0eXBlOnQsZGF0YTplfHxcIlwifSksdGhpcy5vcmlnaW4pfSxsLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKHQpe3RoaXMucG9zdE1lc3NhZ2UoXCJtXCIsdCl9LGwuZW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB1LmlmcmFtZUVuYWJsZWR9LGwudHJhbnNwb3J0TmFtZT1cImlmcmFtZVwiLGwucm91bmRUcmlwcz0yLHQuZXhwb3J0cz1sfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIjEuNC4wXCJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDUpLGk9bigzNzgpLG89bigxMDUpLGE9big4Myk7ZnVuY3Rpb24gcyh0KXtpZighaS5lbmFibGVkKXRocm93IG5ldyBFcnJvcihcIlRyYW5zcG9ydCBjcmVhdGVkIHdoZW4gZGlzYWJsZWRcIik7YS5jYWxsKHRoaXMsdCxcIi9odG1sZmlsZVwiLGksbyl9cihzLGEpLHMuZW5hYmxlZD1mdW5jdGlvbih0KXtyZXR1cm4gaS5lbmFibGVkJiZ0LnNhbWVPcmlnaW59LHMudHJhbnNwb3J0TmFtZT1cImh0bWxmaWxlXCIscy5yb3VuZFRyaXBzPTIsdC5leHBvcnRzPXN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDUpLGk9big4Myksbz1uKDEzMCksYT1uKDEzMSkscz1uKDEwNSk7ZnVuY3Rpb24gdSh0KXtpZighcy5lbmFibGVkJiYhYS5lbmFibGVkKXRocm93IG5ldyBFcnJvcihcIlRyYW5zcG9ydCBjcmVhdGVkIHdoZW4gZGlzYWJsZWRcIik7aS5jYWxsKHRoaXMsdCxcIi94aHJcIixvLGEpfXIodSxpKSx1LmVuYWJsZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIXQubnVsbE9yaWdpbiYmKCEoIXMuZW5hYmxlZHx8IXQuc2FtZU9yaWdpbil8fGEuZW5hYmxlZCl9LHUudHJhbnNwb3J0TmFtZT1cInhoci1wb2xsaW5nXCIsdS5yb3VuZFRyaXBzPTIsdC5leHBvcnRzPXV9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7dC5leHBvcnRzPWUubG9jYXRpb258fHtvcmlnaW46XCJodHRwOi8vbG9jYWxob3N0OjgwXCIscHJvdG9jb2w6XCJodHRwOlwiLGhvc3Q6XCJsb2NhbGhvc3RcIixwb3J0OjgwLGhyZWY6XCJodHRwOi8vbG9jYWxob3N0L1wiLGhhc2g6XCJcIn19KS5jYWxsKHRoaXMsbig2KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDUpLGk9bigyOSkuRXZlbnRFbWl0dGVyLG89big1MCksYT1uKDEwNSkscz1uKDI0NSk7ZnVuY3Rpb24gdSh0KXt2YXIgZT10aGlzO2kuY2FsbCh0aGlzKSx0aGlzLmlyPW5ldyBzKHQsYSksdGhpcy5pci5vbmNlKFwiZmluaXNoXCIsKGZ1bmN0aW9uKHQsbil7ZS5pcj1udWxsLGUuZW1pdChcIm1lc3NhZ2VcIixvLnN0cmluZ2lmeShbdCxuXSkpfSkpfXIodSxpKSx1LnRyYW5zcG9ydE5hbWU9XCJpZnJhbWUtaW5mby1yZWNlaXZlclwiLHUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5pciYmKHRoaXMuaXIuY2xvc2UoKSx0aGlzLmlyPW51bGwpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCl9LHQuZXhwb3J0cz11fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyOSkuRXZlbnRFbWl0dGVyLGk9big1KSxvPW4oNTApLGE9bigxNzcpO2Z1bmN0aW9uIHModCxlKXtyLmNhbGwodGhpcyk7dmFyIG49dGhpcyxpPStuZXcgRGF0ZTt0aGlzLnhvPW5ldyBlKFwiR0VUXCIsdCksdGhpcy54by5vbmNlKFwiZmluaXNoXCIsKGZ1bmN0aW9uKHQsZSl7dmFyIHIscztpZigyMDA9PT10KXtpZihzPStuZXcgRGF0ZS1pLGUpdHJ5e3I9by5wYXJzZShlKX1jYXRjaCh0KXt9YS5pc09iamVjdChyKXx8KHI9e30pfW4uZW1pdChcImZpbmlzaFwiLHIscyksbi5yZW1vdmVBbGxMaXN0ZW5lcnMoKX0pKX1pKHMscikscy5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMueG8uY2xvc2UoKX0sdC5leHBvcnRzPXN9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgQXJyYXlCdWZmZXImJlwidW5kZWZpbmVkXCIhPT10eXBlb2YgRGF0YVZpZXd9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDY1KSxpPW4oMjApO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXJldHVybiAwO3ZhciBlPXIodCksbj1pKGUpO2lmKGUhPT1uKXRocm93IFJhbmdlRXJyb3IoXCJXcm9uZyBsZW5ndGggb3IgaW5kZXhcIik7cmV0dXJuIG59fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigzNiksaT1uKDc3KSxvPW4oMjApO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtmb3IodmFyIGU9cih0aGlzKSxuPW8oZS5sZW5ndGgpLGE9YXJndW1lbnRzLmxlbmd0aCxzPWkoYT4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbiksdT1hPjI/YXJndW1lbnRzWzJdOnZvaWQgMCxjPXZvaWQgMD09PXU/bjppKHUsbik7Yz5zOyllW3MrK109dDtyZXR1cm4gZX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDIpLGk9bigzKSxvPW4oMTc5KSxhPW4oMTcpLHM9big3NyksdT1uKDIwKSxjPW4oNzApLGY9by5BcnJheUJ1ZmZlcixsPW8uRGF0YVZpZXcsaD1mLnByb3RvdHlwZS5zbGljZTtyKHt0YXJnZXQ6XCJBcnJheUJ1ZmZlclwiLHByb3RvOiEwLHVuc2FmZTohMCxmb3JjZWQ6aSgoZnVuY3Rpb24oKXtyZXR1cm4hbmV3IGYoMikuc2xpY2UoMSx2b2lkIDApLmJ5dGVMZW5ndGh9KSl9LHtzbGljZTpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMCE9PWgmJnZvaWQgMD09PWUpcmV0dXJuIGguY2FsbChhKHRoaXMpLHQpO2Zvcih2YXIgbj1hKHRoaXMpLmJ5dGVMZW5ndGgscj1zKHQsbiksaT1zKHZvaWQgMD09PWU/bjplLG4pLG89bmV3KGModGhpcyxmKSkodShpLXIpKSxwPW5ldyBsKHRoaXMpLGQ9bmV3IGwobykseT0wO3I8aTspZC5zZXRVaW50OCh5KysscC5nZXRVaW50OChyKyspKTtyZXR1cm4gb319KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDAxKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj1yKHQpO2lmKG4lZSl0aHJvdyBSYW5nZUVycm9yKFwiV3Jvbmcgb2Zmc2V0XCIpO3JldHVybiBufX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMyksaT1uKDcpLG89big3NiksYT1pKFwiaXRlcmF0b3JcIik7dC5leHBvcnRzPSFyKChmdW5jdGlvbigpe3ZhciB0PW5ldyBVUkwoXCJiP2E9MSZiPTImYz0zXCIsXCJodHRwOi8vYVwiKSxlPXQuc2VhcmNoUGFyYW1zLG49XCJcIjtyZXR1cm4gdC5wYXRobmFtZT1cImMlMjBkXCIsZS5mb3JFYWNoKChmdW5jdGlvbih0LHIpe2UuZGVsZXRlKFwiYlwiKSxuKz1yK3R9KSksbyYmIXQudG9KU09OfHwhZS5zb3J0fHxcImh0dHA6Ly9hL2MlMjBkP2E9MSZjPTNcIiE9PXQuaHJlZnx8XCIzXCIhPT1lLmdldChcImNcIil8fFwiYT0xXCIhPT1TdHJpbmcobmV3IFVSTFNlYXJjaFBhcmFtcyhcIj9hPTFcIikpfHwhZVthXXx8XCJhXCIhPT1uZXcgVVJMKFwiaHR0cHM6Ly9hQGJcIikudXNlcm5hbWV8fFwiYlwiIT09bmV3IFVSTFNlYXJjaFBhcmFtcyhuZXcgVVJMU2VhcmNoUGFyYW1zKFwiYT1iXCIpKS5nZXQoXCJhXCIpfHxcInhuLS1lMWF5YmNcIiE9PW5ldyBVUkwoXCJodHRwOi8vXFx1MDQ0MlxcdTA0MzVcXHUwNDQxXFx1MDQ0MlwiKS5ob3N0fHxcIiMlRDAlQjFcIiE9PW5ldyBVUkwoXCJodHRwOi8vYSNcXHUwNDMxXCIpLmhhc2h8fFwiYTFjM1wiIT09bnx8XCJ4XCIhPT1uZXcgVVJMKFwiaHR0cDovL3hcIix2b2lkIDApLmhvc3R9KSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIpLGk9bigzKSxvPW4oMzYpLGE9big3OCkscz1uKDE1NCk7cih7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6aSgoZnVuY3Rpb24oKXthKDEpfSkpLHNoYW06IXN9LHtnZXRQcm90b3R5cGVPZjpmdW5jdGlvbih0KXtyZXR1cm4gYShvKHQpKX19KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuYT1mdW5jdGlvbigpe3JldHVybi9FZGcoZXxpT1N8QSlcXC8vaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7KGZ1bmN0aW9uKGdsb2JhbCl7dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187IWZ1bmN0aW9uKHQsZSl7bW9kdWxlLmV4cG9ydHM9ZSh0KX0oXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZ2xvYmFsP2dsb2JhbDp0aGlzLChmdW5jdGlvbihnbG9iYWwpe1widXNlIHN0cmljdFwiO2dsb2JhbD1nbG9iYWx8fHt9O3ZhciBfQmFzZTY0PWdsb2JhbC5CYXNlNjQsdmVyc2lvbj1cIjIuNS4xXCIsYnVmZmVyO2lmKG1vZHVsZS5leHBvcnRzKXRyeXtidWZmZXI9ZXZhbChcInJlcXVpcmUoJ2J1ZmZlcicpLkJ1ZmZlclwiKX1jYXRjaCh0KXtidWZmZXI9dm9pZCAwfXZhciBiNjRjaGFycz1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIixiNjR0YWI9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXt9LG49MCxyPXQubGVuZ3RoO248cjtuKyspZVt0LmNoYXJBdChuKV09bjtyZXR1cm4gZX0oYjY0Y2hhcnMpLGZyb21DaGFyQ29kZT1TdHJpbmcuZnJvbUNoYXJDb2RlLGNiX3V0b2I9ZnVuY3Rpb24odCl7aWYodC5sZW5ndGg8MilyZXR1cm4oZT10LmNoYXJDb2RlQXQoMCkpPDEyOD90OmU8MjA0OD9mcm9tQ2hhckNvZGUoMTkyfGU+Pj42KStmcm9tQ2hhckNvZGUoMTI4fDYzJmUpOmZyb21DaGFyQ29kZSgyMjR8ZT4+PjEyJjE1KStmcm9tQ2hhckNvZGUoMTI4fGU+Pj42JjYzKStmcm9tQ2hhckNvZGUoMTI4fDYzJmUpO3ZhciBlPTY1NTM2KzEwMjQqKHQuY2hhckNvZGVBdCgwKS01NTI5NikrKHQuY2hhckNvZGVBdCgxKS01NjMyMCk7cmV0dXJuIGZyb21DaGFyQ29kZSgyNDB8ZT4+PjE4JjcpK2Zyb21DaGFyQ29kZSgxMjh8ZT4+PjEyJjYzKStmcm9tQ2hhckNvZGUoMTI4fGU+Pj42JjYzKStmcm9tQ2hhckNvZGUoMTI4fDYzJmUpfSxyZV91dG9iPS9bXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZGXXxbXlxceDAwLVxceDdGXS9nLHV0b2I9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZShyZV91dG9iLGNiX3V0b2IpfSxjYl9lbmNvZGU9ZnVuY3Rpb24odCl7dmFyIGU9WzAsMiwxXVt0Lmxlbmd0aCUzXSxuPXQuY2hhckNvZGVBdCgwKTw8MTZ8KHQubGVuZ3RoPjE/dC5jaGFyQ29kZUF0KDEpOjApPDw4fCh0Lmxlbmd0aD4yP3QuY2hhckNvZGVBdCgyKTowKTtyZXR1cm5bYjY0Y2hhcnMuY2hhckF0KG4+Pj4xOCksYjY0Y2hhcnMuY2hhckF0KG4+Pj4xMiY2MyksZT49Mj9cIj1cIjpiNjRjaGFycy5jaGFyQXQobj4+PjYmNjMpLGU+PTE/XCI9XCI6YjY0Y2hhcnMuY2hhckF0KDYzJm4pXS5qb2luKFwiXCIpfSxidG9hPWdsb2JhbC5idG9hP2Z1bmN0aW9uKHQpe3JldHVybiBnbG9iYWwuYnRvYSh0KX06ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvW1xcc1xcU117MSwzfS9nLGNiX2VuY29kZSl9LF9lbmNvZGU9YnVmZmVyP2J1ZmZlci5mcm9tJiZVaW50OEFycmF5JiZidWZmZXIuZnJvbSE9PVVpbnQ4QXJyYXkuZnJvbT9mdW5jdGlvbih0KXtyZXR1cm4odC5jb25zdHJ1Y3Rvcj09PWJ1ZmZlci5jb25zdHJ1Y3Rvcj90OmJ1ZmZlci5mcm9tKHQpKS50b1N0cmluZyhcImJhc2U2NFwiKX06ZnVuY3Rpb24odCl7cmV0dXJuKHQuY29uc3RydWN0b3I9PT1idWZmZXIuY29uc3RydWN0b3I/dDpuZXcgYnVmZmVyKHQpKS50b1N0cmluZyhcImJhc2U2NFwiKX06ZnVuY3Rpb24odCl7cmV0dXJuIGJ0b2EodXRvYih0KSl9LGVuY29kZT1mdW5jdGlvbih0LGUpe3JldHVybiBlP19lbmNvZGUoU3RyaW5nKHQpKS5yZXBsYWNlKC9bK1xcL10vZywoZnVuY3Rpb24odCl7cmV0dXJuXCIrXCI9PXQ/XCItXCI6XCJfXCJ9KSkucmVwbGFjZSgvPS9nLFwiXCIpOl9lbmNvZGUoU3RyaW5nKHQpKX0sZW5jb2RlVVJJPWZ1bmN0aW9uKHQpe3JldHVybiBlbmNvZGUodCwhMCl9LHJlX2J0b3U9bmV3IFJlZ0V4cChbXCJbXFx4YzAtXFx4ZGZdW1xceDgwLVxceGJmXVwiLFwiW1xceGUwLVxceGVmXVtcXHg4MC1cXHhiZl17Mn1cIixcIltcXHhmMC1cXHhmN11bXFx4ODAtXFx4YmZdezN9XCJdLmpvaW4oXCJ8XCIpLFwiZ1wiKSxjYl9idG91PWZ1bmN0aW9uKHQpe3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSA0OnZhciBlPSgoNyZ0LmNoYXJDb2RlQXQoMCkpPDwxOHwoNjMmdC5jaGFyQ29kZUF0KDEpKTw8MTJ8KDYzJnQuY2hhckNvZGVBdCgyKSk8PDZ8NjMmdC5jaGFyQ29kZUF0KDMpKS02NTUzNjtyZXR1cm4gZnJvbUNoYXJDb2RlKDU1Mjk2KyhlPj4+MTApKStmcm9tQ2hhckNvZGUoNTYzMjArKDEwMjMmZSkpO2Nhc2UgMzpyZXR1cm4gZnJvbUNoYXJDb2RlKCgxNSZ0LmNoYXJDb2RlQXQoMCkpPDwxMnwoNjMmdC5jaGFyQ29kZUF0KDEpKTw8Nnw2MyZ0LmNoYXJDb2RlQXQoMikpO2RlZmF1bHQ6cmV0dXJuIGZyb21DaGFyQ29kZSgoMzEmdC5jaGFyQ29kZUF0KDApKTw8Nnw2MyZ0LmNoYXJDb2RlQXQoMSkpfX0sYnRvdT1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKHJlX2J0b3UsY2JfYnRvdSl9LGNiX2RlY29kZT1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aCxuPWUlNCxyPShlPjA/YjY0dGFiW3QuY2hhckF0KDApXTw8MTg6MCl8KGU+MT9iNjR0YWJbdC5jaGFyQXQoMSldPDwxMjowKXwoZT4yP2I2NHRhYlt0LmNoYXJBdCgyKV08PDY6MCl8KGU+Mz9iNjR0YWJbdC5jaGFyQXQoMyldOjApLGk9W2Zyb21DaGFyQ29kZShyPj4+MTYpLGZyb21DaGFyQ29kZShyPj4+OCYyNTUpLGZyb21DaGFyQ29kZSgyNTUmcildO3JldHVybiBpLmxlbmd0aC09WzAsMCwyLDFdW25dLGkuam9pbihcIlwiKX0sX2F0b2I9Z2xvYmFsLmF0b2I/ZnVuY3Rpb24odCl7cmV0dXJuIGdsb2JhbC5hdG9iKHQpfTpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9cXFN7MSw0fS9nLGNiX2RlY29kZSl9LGF0b2I9ZnVuY3Rpb24odCl7cmV0dXJuIF9hdG9iKFN0cmluZyh0KS5yZXBsYWNlKC9bXkEtWmEtejAtOVxcK1xcL10vZyxcIlwiKSl9LF9kZWNvZGU9YnVmZmVyP2J1ZmZlci5mcm9tJiZVaW50OEFycmF5JiZidWZmZXIuZnJvbSE9PVVpbnQ4QXJyYXkuZnJvbT9mdW5jdGlvbih0KXtyZXR1cm4odC5jb25zdHJ1Y3Rvcj09PWJ1ZmZlci5jb25zdHJ1Y3Rvcj90OmJ1ZmZlci5mcm9tKHQsXCJiYXNlNjRcIikpLnRvU3RyaW5nKCl9OmZ1bmN0aW9uKHQpe3JldHVybih0LmNvbnN0cnVjdG9yPT09YnVmZmVyLmNvbnN0cnVjdG9yP3Q6bmV3IGJ1ZmZlcih0LFwiYmFzZTY0XCIpKS50b1N0cmluZygpfTpmdW5jdGlvbih0KXtyZXR1cm4gYnRvdShfYXRvYih0KSl9LGRlY29kZT1mdW5jdGlvbih0KXtyZXR1cm4gX2RlY29kZShTdHJpbmcodCkucmVwbGFjZSgvWy1fXS9nLChmdW5jdGlvbih0KXtyZXR1cm5cIi1cIj09dD9cIitcIjpcIi9cIn0pKS5yZXBsYWNlKC9bXkEtWmEtejAtOVxcK1xcL10vZyxcIlwiKSl9LG5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXt2YXIgdD1nbG9iYWwuQmFzZTY0O3JldHVybiBnbG9iYWwuQmFzZTY0PV9CYXNlNjQsdH07aWYoZ2xvYmFsLkJhc2U2ND17VkVSU0lPTjp2ZXJzaW9uLGF0b2I6YXRvYixidG9hOmJ0b2EsZnJvbUJhc2U2NDpkZWNvZGUsdG9CYXNlNjQ6ZW5jb2RlLHV0b2I6dXRvYixlbmNvZGU6ZW5jb2RlLGVuY29kZVVSSTplbmNvZGVVUkksYnRvdTpidG91LGRlY29kZTpkZWNvZGUsbm9Db25mbGljdDpub0NvbmZsaWN0LF9fYnVmZmVyX186YnVmZmVyfSxcImZ1bmN0aW9uXCI9PT10eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnR5KXt2YXIgbm9FbnVtPWZ1bmN0aW9uKHQpe3JldHVybnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX07Z2xvYmFsLkJhc2U2NC5leHRlbmRTdHJpbmc9ZnVuY3Rpb24oKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLnByb3RvdHlwZSxcImZyb21CYXNlNjRcIixub0VudW0oKGZ1bmN0aW9uKCl7cmV0dXJuIGRlY29kZSh0aGlzKX0pKSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZy5wcm90b3R5cGUsXCJ0b0Jhc2U2NFwiLG5vRW51bSgoZnVuY3Rpb24odCl7cmV0dXJuIGVuY29kZSh0aGlzLHQpfSkpKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLnByb3RvdHlwZSxcInRvQmFzZTY0VVJJXCIsbm9FbnVtKChmdW5jdGlvbigpe3JldHVybiBlbmNvZGUodGhpcywhMCl9KSkpfX1yZXR1cm4gZ2xvYmFsLk1ldGVvciYmKEJhc2U2ND1nbG9iYWwuQmFzZTY0KSxtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cy5CYXNlNjQ9Z2xvYmFsLkJhc2U2NDooX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXz1bXSxfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXz1mdW5jdGlvbigpe3JldHVybiBnbG9iYWwuQmFzZTY0fS5hcHBseShleHBvcnRzLF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pLHZvaWQgMD09PV9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9ffHwobW9kdWxlLmV4cG9ydHM9X19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKSx7QmFzZTY0Omdsb2JhbC5CYXNlNjR9fSkpfSkuY2FsbCh0aGlzLF9fd2VicGFja19yZXF1aXJlX18oNikpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKHQpe3ZhciByPW4oMTgyKSxpPW4ubihyKSxvPW4oNjIpLGE9bi5uKG8pLHM9XCJrc2RrOjpjb21tb246OnJlcG9ydGVyOjpwbGF5R3VpZFwiO2UuYT1mdW5jdGlvbihlKXt2YXIgbj10LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0ocyk7aWYobilyZXR1cm4gbjt2YXIgcj1lP2koKShlLGkuYS5ETlMpOmEoKSgpO3JldHVybiB0LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0ocyxyKSxyfX0pLmNhbGwodGhpcyxuKDYpKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzUwKShuKDM1NykpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7dmFyIHIsaSxvO2k9W10sdm9pZCAwPT09KG89XCJmdW5jdGlvblwiPT09dHlwZW9mKHI9ZnVuY3Rpb24oKXt2YXIgdD0vXnY/KD86XFxkKykoXFwuKD86W3gqXXxcXGQrKShcXC4oPzpbeCpdfFxcZCspKFxcLig/Olt4Kl18XFxkKykpPyg/Oi1bXFxkYS16XFwtXSsoPzpcXC5bXFxkYS16XFwtXSspKik/KD86XFwrW1xcZGEtelxcLV0rKD86XFwuW1xcZGEtelxcLV0rKSopPyk/KT8kL2k7ZnVuY3Rpb24gZSh0KXt2YXIgZSxuLHI9dC5yZXBsYWNlKC9edi8sXCJcIikucmVwbGFjZSgvXFwrLiokLyxcIlwiKSxpPShuPVwiLVwiLC0xPT09KGU9cikuaW5kZXhPZihuKT9lLmxlbmd0aDplLmluZGV4T2YobikpLG89ci5zdWJzdHJpbmcoMCxpKS5zcGxpdChcIi5cIik7cmV0dXJuIG8ucHVzaChyLnN1YnN0cmluZyhpKzEpKSxvfWZ1bmN0aW9uIG4odCl7cmV0dXJuIGlzTmFOKE51bWJlcih0KSk/dDpOdW1iZXIodCl9ZnVuY3Rpb24gcihlKXtpZihcInN0cmluZ1wiIT09dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXJndW1lbnQgZXhwZWN0ZWQgc3RyaW5nXCIpO2lmKCF0LnRlc3QoZSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBub3QgdmFsaWQgc2VtdmVyICgnXCIrZStcIicgcmVjZWl2ZWQpXCIpfWZ1bmN0aW9uIGkodCxpKXtbdCxpXS5mb3JFYWNoKHIpO2Zvcih2YXIgbz1lKHQpLGE9ZShpKSxzPTA7czxNYXRoLm1heChvLmxlbmd0aC0xLGEubGVuZ3RoLTEpO3MrKyl7dmFyIHU9cGFyc2VJbnQob1tzXXx8MCwxMCksYz1wYXJzZUludChhW3NdfHwwLDEwKTtpZih1PmMpcmV0dXJuIDE7aWYoYz51KXJldHVybi0xfXZhciBmPW9bby5sZW5ndGgtMV0sbD1hW2EubGVuZ3RoLTFdO2lmKGYmJmwpe3ZhciBoPWYuc3BsaXQoXCIuXCIpLm1hcChuKSxwPWwuc3BsaXQoXCIuXCIpLm1hcChuKTtmb3Iocz0wO3M8TWF0aC5tYXgoaC5sZW5ndGgscC5sZW5ndGgpO3MrKyl7aWYodm9pZCAwPT09aFtzXXx8XCJzdHJpbmdcIj09PXR5cGVvZiBwW3NdJiZcIm51bWJlclwiPT09dHlwZW9mIGhbc10pcmV0dXJuLTE7aWYodm9pZCAwPT09cFtzXXx8XCJzdHJpbmdcIj09PXR5cGVvZiBoW3NdJiZcIm51bWJlclwiPT09dHlwZW9mIHBbc10pcmV0dXJuIDE7aWYoaFtzXT5wW3NdKXJldHVybiAxO2lmKHBbc10+aFtzXSlyZXR1cm4tMX19ZWxzZSBpZihmfHxsKXJldHVybiBmPy0xOjE7cmV0dXJuIDB9dmFyIG89W1wiPlwiLFwiPj1cIixcIj1cIixcIjxcIixcIjw9XCJdLGE9e1wiPlwiOlsxXSxcIj49XCI6WzAsMV0sXCI9XCI6WzBdLFwiPD1cIjpbLTEsMF0sXCI8XCI6Wy0xXX07cmV0dXJuIGkuY29tcGFyZT1mdW5jdGlvbih0LGUsbil7IWZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCIhPT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBvcGVyYXRvciB0eXBlLCBleHBlY3RlZCBzdHJpbmcgYnV0IGdvdCBcIit0eXBlb2YgdCk7aWYoLTE9PT1vLmluZGV4T2YodCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgb3BlcmF0b3IsIGV4cGVjdGVkIG9uZSBvZiBcIitvLmpvaW4oXCJ8XCIpKX0obik7dmFyIHI9aSh0LGUpO3JldHVybiBhW25dLmluZGV4T2Yocik+LTF9LGl9KT9yLmFwcGx5KGUsaSk6cil8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuKDEzKSxuKDIyKSxuKDEwOCksbigxNSksbig2MCksbigzMSksbigzMiksbigyOCksbigxOCk7dmFyIHI9big4OCksaT1uLm4ocik7ZnVuY3Rpb24gbyh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gYSh0LGUsbil7cmV0dXJuIGUgaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9ZS5hPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJnQuc291cmNlcz9pKCkoZSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/byhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe2EodCxlLG5bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOm8oT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKSl9KSl9cmV0dXJuIHR9KHt9LGUse3NyYzpmdW5jdGlvbih0LGUpe3ZhciBuPXQuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudXJsPT09ZX0pKTtyZXR1cm4gbiYmbi5rdXJsP24ua3VybDplfSh0LnNvdXJjZXMsZS5zcmMpfSl9KSk6ZX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuKDEwOCk7dmFyIHI9bigzMCksaT1uKDEpO2UuYT1mdW5jdGlvbih0KXtpZih0JiZ0Lmxlbmd0aD4wKXt2YXIgZT1yLmFbaS5jLkRBU0hdLm1pbWUsbj10LmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PT1lfSkpO3JldHVybiBuP24uc3JjOm51bGx9cmV0dXJuIG51bGx9fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oNDM5KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNCksaT1uKDE0NSksbz1yLldlYWtNYXA7dC5leHBvcnRzPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBvJiYvbmF0aXZlIGNvZGUvLnRlc3QoaShvKSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDExKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIXIodCkmJm51bGwhPT10KXRocm93IFR5cGVFcnJvcihcIkNhbid0IHNldCBcIitTdHJpbmcodCkrXCIgYXMgYSBwcm90b3R5cGVcIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxNTUpLGk9big5OSk7dC5leHBvcnRzPXI/e30udG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgXCIraSh0aGlzKStcIl1cIn19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQpO3QuZXhwb3J0cz1yLlByb21pc2V9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpLG8sYSxzLHUsYyxmLGw9big0KSxoPW4oNTUpLmYscD1uKDU2KSxkPW4oMTU4KS5zZXQseT1uKDE5OSksdj1sLk11dGF0aW9uT2JzZXJ2ZXJ8fGwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixnPWwucHJvY2VzcyxiPWwuUHJvbWlzZSxtPVwicHJvY2Vzc1wiPT1wKGcpLHc9aChsLFwicXVldWVNaWNyb3Rhc2tcIiksRT13JiZ3LnZhbHVlO0V8fChyPWZ1bmN0aW9uKCl7dmFyIHQsZTtmb3IobSYmKHQ9Zy5kb21haW4pJiZ0LmV4aXQoKTtpOyl7ZT1pLmZuLGk9aS5uZXh0O3RyeXtlKCl9Y2F0Y2godCl7dGhyb3cgaT9hKCk6bz12b2lkIDAsdH19bz12b2lkIDAsdCYmdC5lbnRlcigpfSxtP2E9ZnVuY3Rpb24oKXtnLm5leHRUaWNrKHIpfTp2JiYheT8ocz0hMCx1PWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpLG5ldyB2KHIpLm9ic2VydmUodSx7Y2hhcmFjdGVyRGF0YTohMH0pLGE9ZnVuY3Rpb24oKXt1LmRhdGE9cz0hc30pOmImJmIucmVzb2x2ZT8oYz1iLnJlc29sdmUodm9pZCAwKSxmPWMudGhlbixhPWZ1bmN0aW9uKCl7Zi5jYWxsKGMscil9KTphPWZ1bmN0aW9uKCl7ZC5jYWxsKGwscil9KSx0LmV4cG9ydHM9RXx8ZnVuY3Rpb24odCl7dmFyIGU9e2ZuOnQsbmV4dDp2b2lkIDB9O28mJihvLm5leHQ9ZSksaXx8KGk9ZSxhKCkpLG89ZX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE3KSxpPW4oMTEpLG89bigyMDEpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKHIodCksaShlKSYmZS5jb25zdHJ1Y3Rvcj09PXQpcmV0dXJuIGU7dmFyIG49by5mKHQpO3JldHVybigwLG4ucmVzb2x2ZSkoZSksbi5wcm9taXNlfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49ci5jb25zb2xlO24mJm4uZXJyb3ImJigxPT09YXJndW1lbnRzLmxlbmd0aD9uLmVycm9yKHQpOm4uZXJyb3IodCxlKSl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt0cnl7cmV0dXJue2Vycm9yOiExLHZhbHVlOnQoKX19Y2F0Y2godCl7cmV0dXJue2Vycm9yOiEwLHZhbHVlOnR9fX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIpLGk9bigxNiksbz1uKDE3KSxhPW4oNTUpO3Ioe3RhcmdldDpcIlJlZmxlY3RcIixzdGF0OiEwLHNoYW06IWl9LHtnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ZnVuY3Rpb24odCxlKXtyZXR1cm4gYS5mKG8odCksZSl9fSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIpLGk9bigxNyksbz1uKDc4KTtyKHt0YXJnZXQ6XCJSZWZsZWN0XCIsc3RhdDohMCxzaGFtOiFuKDE1NCl9LHtnZXRQcm90b3R5cGVPZjpmdW5jdGlvbih0KXtyZXR1cm4gbyhpKHQpKX19KX0sZnVuY3Rpb24odCxlLG4pe24oMikoe3RhcmdldDpcIlJlZmxlY3RcIixzdGF0OiEwfSx7b3duS2V5czpuKDE0Nyl9KX0sZnVuY3Rpb24odCxlKXt2YXIgbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgY3J5cHRvJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1zQ3J5cHRvJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB3aW5kb3cubXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzJiZtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0byk7aWYobil7dmFyIHI9bmV3IFVpbnQ4QXJyYXkoMTYpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybiBuKHIpLHJ9fWVsc2V7dmFyIGk9bmV3IEFycmF5KDE2KTt0LmV4cG9ydHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQsZT0wO2U8MTY7ZSsrKTA9PT0oMyZlKSYmKHQ9NDI5NDk2NzI5NipNYXRoLnJhbmRvbSgpKSxpW2VdPXQ+Pj4oKDMmZSk8PDMpJjI1NTtyZXR1cm4gaX19fSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKHQpe3ZhciByPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgdCYmdHx8XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBzZWxmJiZzZWxmfHx3aW5kb3csaT1GdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7ZnVuY3Rpb24gbyh0LGUpe3RoaXMuX2lkPXQsdGhpcy5fY2xlYXJGbj1lfWUuc2V0VGltZW91dD1mdW5jdGlvbigpe3JldHVybiBuZXcgbyhpLmNhbGwoc2V0VGltZW91dCxyLGFyZ3VtZW50cyksY2xlYXJUaW1lb3V0KX0sZS5zZXRJbnRlcnZhbD1mdW5jdGlvbigpe3JldHVybiBuZXcgbyhpLmNhbGwoc2V0SW50ZXJ2YWwscixhcmd1bWVudHMpLGNsZWFySW50ZXJ2YWwpfSxlLmNsZWFyVGltZW91dD1lLmNsZWFySW50ZXJ2YWw9ZnVuY3Rpb24odCl7dCYmdC5jbG9zZSgpfSxvLnByb3RvdHlwZS51bnJlZj1vLnByb3RvdHlwZS5yZWY9ZnVuY3Rpb24oKXt9LG8ucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJGbi5jYWxsKHIsdGhpcy5faWQpfSxlLmVucm9sbD1mdW5jdGlvbih0LGUpe2NsZWFyVGltZW91dCh0Ll9pZGxlVGltZW91dElkKSx0Ll9pZGxlVGltZW91dD1lfSxlLnVuZW5yb2xsPWZ1bmN0aW9uKHQpe2NsZWFyVGltZW91dCh0Ll9pZGxlVGltZW91dElkKSx0Ll9pZGxlVGltZW91dD0tMX0sZS5fdW5yZWZBY3RpdmU9ZS5hY3RpdmU9ZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHQuX2lkbGVUaW1lb3V0SWQpO3ZhciBlPXQuX2lkbGVUaW1lb3V0O2U+PTAmJih0Ll9pZGxlVGltZW91dElkPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5fb25UaW1lb3V0JiZ0Ll9vblRpbWVvdXQoKX0pLGUpKX0sbigyNzQpLGUuc2V0SW1tZWRpYXRlPVwidW5kZWZpbmVkXCIhPT10eXBlb2Ygc2VsZiYmc2VsZi5zZXRJbW1lZGlhdGV8fFwidW5kZWZpbmVkXCIhPT10eXBlb2YgdCYmdC5zZXRJbW1lZGlhdGV8fHRoaXMmJnRoaXMuc2V0SW1tZWRpYXRlLGUuY2xlYXJJbW1lZGlhdGU9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBzZWxmJiZzZWxmLmNsZWFySW1tZWRpYXRlfHxcInVuZGVmaW5lZFwiIT09dHlwZW9mIHQmJnQuY2xlYXJJbW1lZGlhdGV8fHRoaXMmJnRoaXMuY2xlYXJJbW1lZGlhdGV9KS5jYWxsKHRoaXMsbig2KSl9LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24odCxlKXshZnVuY3Rpb24odCxuKXtcInVzZSBzdHJpY3RcIjtpZighdC5zZXRJbW1lZGlhdGUpe3ZhciByLGksbyxhLHMsdT0xLGM9e30sZj0hMSxsPXQuZG9jdW1lbnQsaD1PYmplY3QuZ2V0UHJvdG90eXBlT2YmJk9iamVjdC5nZXRQcm90b3R5cGVPZih0KTtoPWgmJmguc2V0VGltZW91dD9oOnQsXCJbb2JqZWN0IHByb2Nlc3NdXCI9PT17fS50b1N0cmluZy5jYWxsKHQucHJvY2Vzcyk/cj1mdW5jdGlvbih0KXtlLm5leHRUaWNrKChmdW5jdGlvbigpe2QodCl9KSl9OiFmdW5jdGlvbigpe2lmKHQucG9zdE1lc3NhZ2UmJiF0LmltcG9ydFNjcmlwdHMpe3ZhciBlPSEwLG49dC5vbm1lc3NhZ2U7cmV0dXJuIHQub25tZXNzYWdlPWZ1bmN0aW9uKCl7ZT0hMX0sdC5wb3N0TWVzc2FnZShcIlwiLFwiKlwiKSx0Lm9ubWVzc2FnZT1uLGV9fSgpP3QuTWVzc2FnZUNoYW5uZWw/KChvPW5ldyBNZXNzYWdlQ2hhbm5lbCkucG9ydDEub25tZXNzYWdlPWZ1bmN0aW9uKHQpe2QodC5kYXRhKX0scj1mdW5jdGlvbih0KXtvLnBvcnQyLnBvc3RNZXNzYWdlKHQpfSk6bCYmXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIGwuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKT8oaT1sLmRvY3VtZW50RWxlbWVudCxyPWZ1bmN0aW9uKHQpe3ZhciBlPWwuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtlLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2QodCksZS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxpLnJlbW92ZUNoaWxkKGUpLGU9bnVsbH0saS5hcHBlbmRDaGlsZChlKX0pOnI9ZnVuY3Rpb24odCl7c2V0VGltZW91dChkLDAsdCl9OihhPVwic2V0SW1tZWRpYXRlJFwiK01hdGgucmFuZG9tKCkrXCIkXCIscz1mdW5jdGlvbihlKXtlLnNvdXJjZT09PXQmJlwic3RyaW5nXCI9PT10eXBlb2YgZS5kYXRhJiYwPT09ZS5kYXRhLmluZGV4T2YoYSkmJmQoK2UuZGF0YS5zbGljZShhLmxlbmd0aCkpfSx0LmFkZEV2ZW50TGlzdGVuZXI/dC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHMsITEpOnQuYXR0YWNoRXZlbnQoXCJvbm1lc3NhZ2VcIixzKSxyPWZ1bmN0aW9uKGUpe3QucG9zdE1lc3NhZ2UoYStlLFwiKlwiKX0pLGguc2V0SW1tZWRpYXRlPWZ1bmN0aW9uKHQpe1wiZnVuY3Rpb25cIiE9PXR5cGVvZiB0JiYodD1uZXcgRnVuY3Rpb24oXCJcIit0KSk7Zm9yKHZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpLG49MDtuPGUubGVuZ3RoO24rKyllW25dPWFyZ3VtZW50c1tuKzFdO3ZhciBpPXtjYWxsYmFjazp0LGFyZ3M6ZX07cmV0dXJuIGNbdV09aSxyKHUpLHUrK30saC5jbGVhckltbWVkaWF0ZT1wfWZ1bmN0aW9uIHAodCl7ZGVsZXRlIGNbdF19ZnVuY3Rpb24gZCh0KXtpZihmKXNldFRpbWVvdXQoZCwwLHQpO2Vsc2V7dmFyIGU9Y1t0XTtpZihlKXtmPSEwO3RyeXshZnVuY3Rpb24odCl7dmFyIGU9dC5jYWxsYmFjayxuPXQuYXJncztzd2l0Y2gobi5sZW5ndGgpe2Nhc2UgMDplKCk7YnJlYWs7Y2FzZSAxOmUoblswXSk7YnJlYWs7Y2FzZSAyOmUoblswXSxuWzFdKTticmVhaztjYXNlIDM6ZShuWzBdLG5bMV0sblsyXSk7YnJlYWs7ZGVmYXVsdDplLmFwcGx5KHZvaWQgMCxuKX19KGUpfWZpbmFsbHl7cCh0KSxmPSExfX19fX0oXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBzZWxmP1widW5kZWZpbmVkXCI9PT10eXBlb2YgdD90aGlzOnQ6c2VsZil9KS5jYWxsKHRoaXMsbig2KSxuKDI3NSkpfSxmdW5jdGlvbih0LGUpe3ZhciBuLHIsaT10LmV4cG9ydHM9e307ZnVuY3Rpb24gbygpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gYSgpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBzKHQpe2lmKG49PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KHQsMCk7aWYoKG49PT1vfHwhbikmJnNldFRpbWVvdXQpcmV0dXJuIG49c2V0VGltZW91dCxzZXRUaW1lb3V0KHQsMCk7dHJ5e3JldHVybiBuKHQsMCl9Y2F0Y2goZSl7dHJ5e3JldHVybiBuLmNhbGwobnVsbCx0LDApfWNhdGNoKGUpe3JldHVybiBuLmNhbGwodGhpcyx0LDApfX19IWZ1bmN0aW9uKCl7dHJ5e249XCJmdW5jdGlvblwiPT09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDpvfWNhdGNoKHQpe249b310cnl7cj1cImZ1bmN0aW9uXCI9PT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDphfWNhdGNoKHQpe3I9YX19KCk7dmFyIHUsYz1bXSxmPSExLGw9LTE7ZnVuY3Rpb24gaCgpe2YmJnUmJihmPSExLHUubGVuZ3RoP2M9dS5jb25jYXQoYyk6bD0tMSxjLmxlbmd0aCYmcCgpKX1mdW5jdGlvbiBwKCl7aWYoIWYpe3ZhciB0PXMoaCk7Zj0hMDtmb3IodmFyIGU9Yy5sZW5ndGg7ZTspe2Zvcih1PWMsYz1bXTsrK2w8ZTspdSYmdVtsXS5ydW4oKTtsPS0xLGU9Yy5sZW5ndGh9dT1udWxsLGY9ITEsZnVuY3Rpb24odCl7aWYocj09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KHQpO2lmKChyPT09YXx8IXIpJiZjbGVhclRpbWVvdXQpcmV0dXJuIHI9Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dCh0KTt0cnl7cih0KX1jYXRjaChlKXt0cnl7cmV0dXJuIHIuY2FsbChudWxsLHQpfWNhdGNoKGUpe3JldHVybiByLmNhbGwodGhpcyx0KX19fSh0KX19ZnVuY3Rpb24gZCh0LGUpe3RoaXMuZnVuPXQsdGhpcy5hcnJheT1lfWZ1bmN0aW9uIHkoKXt9aS5uZXh0VGljaz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW24tMV09YXJndW1lbnRzW25dO2MucHVzaChuZXcgZCh0LGUpKSwxIT09Yy5sZW5ndGh8fGZ8fHMocCl9LGQucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LGkudGl0bGU9XCJicm93c2VyXCIsaS5icm93c2VyPSEwLGkuZW52PXt9LGkuYXJndj1bXSxpLnZlcnNpb249XCJcIixpLnZlcnNpb25zPXt9LGkub249eSxpLmFkZExpc3RlbmVyPXksaS5vbmNlPXksaS5vZmY9eSxpLnJlbW92ZUxpc3RlbmVyPXksaS5yZW1vdmVBbGxMaXN0ZW5lcnM9eSxpLmVtaXQ9eSxpLnByZXBlbmRMaXN0ZW5lcj15LGkucHJlcGVuZE9uY2VMaXN0ZW5lcj15LGkubGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybltdfSxpLmJpbmRpbmc9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGkuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LGkuY2hkaXI9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSxpLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyKSxpPW4oNCksbz1uKDE1OCk7cih7Z2xvYmFsOiEwLGJpbmQ6ITAsZW51bWVyYWJsZTohMCxmb3JjZWQ6IWkuc2V0SW1tZWRpYXRlfHwhaS5jbGVhckltbWVkaWF0ZX0se3NldEltbWVkaWF0ZTpvLnNldCxjbGVhckltbWVkaWF0ZTpvLmNsZWFyfSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI3OCksaT1uKDMwOCksbz1uKDIxMSksYT1uKDMwOSkscz1uKDMxOCksdT1uKDMyMSksYz1uKDMyMiksZj1uKDMyMyksbD1uKDMyNCksaD1uKDMyNSkscD1uKDMyNiksZD1uKDE3MSkseT1uKDMzMSksdj1uKDMzMiksZz1uKDMzOCksYj1uKDE2NSksbT1uKDIxNiksdz1uKDM0MCksRT1uKDEwMykseD1uKDM0MiksTz1uKDE2NCksVD17fTtUW1wiW29iamVjdCBBcmd1bWVudHNdXCJdPVRbXCJbb2JqZWN0IEFycmF5XVwiXT1UW1wiW29iamVjdCBBcnJheUJ1ZmZlcl1cIl09VFtcIltvYmplY3QgRGF0YVZpZXddXCJdPVRbXCJbb2JqZWN0IEJvb2xlYW5dXCJdPVRbXCJbb2JqZWN0IERhdGVdXCJdPVRbXCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIl09VFtcIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiXT1UW1wiW29iamVjdCBJbnQ4QXJyYXldXCJdPVRbXCJbb2JqZWN0IEludDE2QXJyYXldXCJdPVRbXCJbb2JqZWN0IEludDMyQXJyYXldXCJdPVRbXCJbb2JqZWN0IE1hcF1cIl09VFtcIltvYmplY3QgTnVtYmVyXVwiXT1UW1wiW29iamVjdCBPYmplY3RdXCJdPVRbXCJbb2JqZWN0IFJlZ0V4cF1cIl09VFtcIltvYmplY3QgU2V0XVwiXT1UW1wiW29iamVjdCBTdHJpbmddXCJdPVRbXCJbb2JqZWN0IFN5bWJvbF1cIl09VFtcIltvYmplY3QgVWludDhBcnJheV1cIl09VFtcIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCJdPVRbXCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiXT1UW1wiW29iamVjdCBVaW50MzJBcnJheV1cIl09ITAsVFtcIltvYmplY3QgRXJyb3JdXCJdPVRbXCJbb2JqZWN0IEZ1bmN0aW9uXVwiXT1UW1wiW29iamVjdCBXZWFrTWFwXVwiXT0hMSx0LmV4cG9ydHM9ZnVuY3Rpb24gdChlLG4sUyxrLF8sail7dmFyIEEsST0xJm4sQz0yJm4sUD00Jm47aWYoUyYmKEE9Xz9TKGUsayxfLGopOlMoZSkpLHZvaWQgMCE9PUEpcmV0dXJuIEE7aWYoIUUoZSkpcmV0dXJuIGU7dmFyIFI9YihlKTtpZihSKXtpZihBPXkoZSksIUkpcmV0dXJuIGMoZSxBKX1lbHNle3ZhciBMPWQoZSksTj1cIltvYmplY3QgRnVuY3Rpb25dXCI9PUx8fFwiW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl1cIj09TDtpZihtKGUpKXJldHVybiB1KGUsSSk7aWYoXCJbb2JqZWN0IE9iamVjdF1cIj09THx8XCJbb2JqZWN0IEFyZ3VtZW50c11cIj09THx8TiYmIV8pe2lmKEE9Q3x8Tj97fTpnKGUpLCFJKXJldHVybiBDP2woZSxzKEEsZSkpOmYoZSxhKEEsZSkpfWVsc2V7aWYoIVRbTF0pcmV0dXJuIF8/ZTp7fTtBPXYoZSxMLEkpfX1qfHwoaj1uZXcgcik7dmFyIEQ9ai5nZXQoZSk7aWYoRClyZXR1cm4gRDtqLnNldChlLEEpLHgoZSk/ZS5mb3JFYWNoKChmdW5jdGlvbihyKXtBLmFkZCh0KHIsbixTLHIsZSxqKSl9KSk6dyhlKSYmZS5mb3JFYWNoKChmdW5jdGlvbihyLGkpe0Euc2V0KGksdChyLG4sUyxpLGUsaikpfSkpO3ZhciBVPVA/Qz9wOmg6Qz9rZXlzSW46TyxNPVI/dm9pZCAwOlUoZSk7cmV0dXJuIGkoTXx8ZSwoZnVuY3Rpb24ocixpKXtNJiYocj1lW2k9cl0pLG8oQSxpLHQocixuLFMsaSxlLGopKX0pKSxBfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTE4KSxpPW4oMjg0KSxvPW4oMjg1KSxhPW4oMjg2KSxzPW4oMjg3KSx1PW4oMjg4KTtmdW5jdGlvbiBjKHQpe3ZhciBlPXRoaXMuX19kYXRhX189bmV3IHIodCk7dGhpcy5zaXplPWUuc2l6ZX1jLnByb3RvdHlwZS5jbGVhcj1pLGMucHJvdG90eXBlLmRlbGV0ZT1vLGMucHJvdG90eXBlLmdldD1hLGMucHJvdG90eXBlLmhhcz1zLGMucHJvdG90eXBlLnNldD11LHQuZXhwb3J0cz1jfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189W10sdGhpcy5zaXplPTB9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMTkpLGk9QXJyYXkucHJvdG90eXBlLnNwbGljZTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXyxuPXIoZSx0KTtyZXR1cm4hKG48MCkmJihuPT1lLmxlbmd0aC0xP2UucG9wKCk6aS5jYWxsKGUsbiwxKSwtLXRoaXMuc2l6ZSwhMCl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMTkpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fZGF0YV9fLG49cihlLHQpO3JldHVybiBuPDA/dm9pZCAwOmVbbl1bMV19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMTkpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gcih0aGlzLl9fZGF0YV9fLHQpPi0xfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTE5KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9fZGF0YV9fLGk9cihuLHQpO3JldHVybiBpPDA/KCsrdGhpcy5zaXplLG4ucHVzaChbdCxlXSkpOm5baV1bMV09ZSx0aGlzfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTE4KTt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt0aGlzLl9fZGF0YV9fPW5ldyByLHRoaXMuc2l6ZT0wfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXyxuPWUuZGVsZXRlKHQpO3JldHVybiB0aGlzLnNpemU9ZS5zaXplLG59fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQodCl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModCl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMTgpLGk9bigxNjIpLG89bigyOTUpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX19kYXRhX187aWYobiBpbnN0YW5jZW9mIHIpe3ZhciBhPW4uX19kYXRhX187aWYoIWl8fGEubGVuZ3RoPDE5OSlyZXR1cm4gYS5wdXNoKFt0LGVdKSx0aGlzLnNpemU9KytuLnNpemUsdGhpcztuPXRoaXMuX19kYXRhX189bmV3IG8oYSl9cmV0dXJuIG4uc2V0KHQsZSksdGhpcy5zaXplPW4uc2l6ZSx0aGlzfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjA4KSxpPW4oMjkyKSxvPW4oMTAzKSxhPW4oMjEwKSxzPS9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC8sdT1GdW5jdGlvbi5wcm90b3R5cGUsYz1PYmplY3QucHJvdG90eXBlLGY9dS50b1N0cmluZyxsPWMuaGFzT3duUHJvcGVydHksaD1SZWdFeHAoXCJeXCIrZi5jYWxsKGwpLnJlcGxhY2UoL1tcXFxcXiQuKis/KClbXFxde318XS9nLFwiXFxcXCQmXCIpLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csXCIkMS4qP1wiKStcIiRcIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiEoIW8odCl8fGkodCkpJiYocih0KT9oOnMpLnRlc3QoYSh0KSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNjMpLGk9T2JqZWN0LnByb3RvdHlwZSxvPWkuaGFzT3duUHJvcGVydHksYT1pLnRvU3RyaW5nLHM9cj9yLnRvU3RyaW5nVGFnOnZvaWQgMDt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9by5jYWxsKHQscyksbj10W3NdO3RyeXt0W3NdPXZvaWQgMDt2YXIgcj0hMH1jYXRjaCh0KXt9dmFyIGk9YS5jYWxsKHQpO3JldHVybiByJiYoZT90W3NdPW46ZGVsZXRlIHRbc10pLGl9fSxmdW5jdGlvbih0LGUpe3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuLmNhbGwodCl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHIsaT1uKDI5Myksbz0ocj0vW14uXSskLy5leGVjKGkmJmkua2V5cyYmaS5rZXlzLklFX1BST1RPfHxcIlwiKSk/XCJTeW1ib2woc3JjKV8xLlwiK3I6XCJcIjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuISFvJiZvIGluIHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0NSlbXCJfX2NvcmUtanNfc2hhcmVkX19cIl07dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwOnRbZV19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyOTYpLGk9bigzMDMpLG89bigzMDUpLGE9bigzMDYpLHM9bigzMDcpO2Z1bmN0aW9uIHUodCl7dmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK2U8bjspe3ZhciByPXRbZV07dGhpcy5zZXQoclswXSxyWzFdKX19dS5wcm90b3R5cGUuY2xlYXI9cix1LnByb3RvdHlwZS5kZWxldGU9aSx1LnByb3RvdHlwZS5nZXQ9byx1LnByb3RvdHlwZS5oYXM9YSx1LnByb3RvdHlwZS5zZXQ9cyx0LmV4cG9ydHM9dX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjk3KSxpPW4oMTE4KSxvPW4oMTYyKTt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt0aGlzLnNpemU9MCx0aGlzLl9fZGF0YV9fPXtoYXNoOm5ldyByLG1hcDpuZXcob3x8aSksc3RyaW5nOm5ldyByfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI5OCksaT1uKDI5OSksbz1uKDMwMCksYT1uKDMwMSkscz1uKDMwMik7ZnVuY3Rpb24gdSh0KXt2YXIgZT0tMSxuPW51bGw9PXQ/MDp0Lmxlbmd0aDtmb3IodGhpcy5jbGVhcigpOysrZTxuOyl7dmFyIHI9dFtlXTt0aGlzLnNldChyWzBdLHJbMV0pfX11LnByb3RvdHlwZS5jbGVhcj1yLHUucHJvdG90eXBlLmRlbGV0ZT1pLHUucHJvdG90eXBlLmdldD1vLHUucHJvdG90eXBlLmhhcz1hLHUucHJvdG90eXBlLnNldD1zLHQuZXhwb3J0cz11fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMjEpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189cj9yKG51bGwpOnt9LHRoaXMuc2l6ZT0wfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5oYXModCkmJmRlbGV0ZSB0aGlzLl9fZGF0YV9fW3RdO3JldHVybiB0aGlzLnNpemUtPWU/MTowLGV9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMjEpLGk9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXztpZihyKXt2YXIgbj1lW3RdO3JldHVyblwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiPT09bj92b2lkIDA6bn1yZXR1cm4gaS5jYWxsKGUsdCk/ZVt0XTp2b2lkIDB9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMjEpLGk9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXztyZXR1cm4gcj92b2lkIDAhPT1lW3RdOmkuY2FsbChlLHQpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTIxKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9fZGF0YV9fO3JldHVybiB0aGlzLnNpemUrPXRoaXMuaGFzKHQpPzA6MSxuW3RdPXImJnZvaWQgMD09PWU/XCJfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fXCI6ZSx0aGlzfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTIyKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9cih0aGlzLHQpLmRlbGV0ZSh0KTtyZXR1cm4gdGhpcy5zaXplLT1lPzE6MCxlfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuXCJzdHJpbmdcIj09ZXx8XCJudW1iZXJcIj09ZXx8XCJzeW1ib2xcIj09ZXx8XCJib29sZWFuXCI9PWU/XCJfX3Byb3RvX19cIiE9PXQ6bnVsbD09PXR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMjIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gcih0aGlzLHQpLmdldCh0KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEyMik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByKHRoaXMsdCkuaGFzKHQpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTIyKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj1yKHRoaXMsdCksaT1uLnNpemU7cmV0dXJuIG4uc2V0KHQsZSksdGhpcy5zaXplKz1uLnNpemU9PWk/MDoxLHRoaXN9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0tMSxyPW51bGw9PXQ/MDp0Lmxlbmd0aDsrK248ciYmITEhPT1lKHRbbl0sbix0KTspO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTIzKSxpPW4oMTY0KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmcihlLGkoZSksdCl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMTEpLGk9big4MSksbz1PYmplY3QucHJvdG90eXBlLGE9by5oYXNPd25Qcm9wZXJ0eSxzPW8ucHJvcGVydHlJc0VudW1lcmFibGUsdT1yKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk/cjpmdW5jdGlvbih0KXtyZXR1cm4gaSh0KSYmYS5jYWxsKHQsXCJjYWxsZWVcIikmJiFzLmNhbGwodCxcImNhbGxlZVwiKX07dC5leHBvcnRzPXV9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEyMCksaT1uKDgxKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGkodCkmJlwiW29iamVjdCBBcmd1bWVudHNdXCI9PXIodCl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybiExfX0sZnVuY3Rpb24odCxlKXt2YXIgbj0vXig/OjB8WzEtOV1cXGQqKSQvO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciByPXR5cGVvZiB0O3JldHVybiEhKGU9bnVsbD09ZT85MDA3MTk5MjU0NzQwOTkxOmUpJiYoXCJudW1iZXJcIj09cnx8XCJzeW1ib2xcIiE9ciYmbi50ZXN0KHQpKSYmdD4tMSYmdCUxPT0wJiZ0PGV9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMTUpLGk9bigxNjYpLG89bigxNjcpLGE9byYmby5pc1R5cGVkQXJyYXkscz1hP2koYSk6cjt0LmV4cG9ydHM9c30sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTIwKSxpPW4oMjE3KSxvPW4oODEpLGE9e307YVtcIltvYmplY3QgRmxvYXQzMkFycmF5XVwiXT1hW1wiW29iamVjdCBGbG9hdDY0QXJyYXldXCJdPWFbXCJbb2JqZWN0IEludDhBcnJheV1cIl09YVtcIltvYmplY3QgSW50MTZBcnJheV1cIl09YVtcIltvYmplY3QgSW50MzJBcnJheV1cIl09YVtcIltvYmplY3QgVWludDhBcnJheV1cIl09YVtcIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCJdPWFbXCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiXT1hW1wiW29iamVjdCBVaW50MzJBcnJheV1cIl09ITAsYVtcIltvYmplY3QgQXJndW1lbnRzXVwiXT1hW1wiW29iamVjdCBBcnJheV1cIl09YVtcIltvYmplY3QgQXJyYXlCdWZmZXJdXCJdPWFbXCJbb2JqZWN0IEJvb2xlYW5dXCJdPWFbXCJbb2JqZWN0IERhdGFWaWV3XVwiXT1hW1wiW29iamVjdCBEYXRlXVwiXT1hW1wiW29iamVjdCBFcnJvcl1cIl09YVtcIltvYmplY3QgRnVuY3Rpb25dXCJdPWFbXCJbb2JqZWN0IE1hcF1cIl09YVtcIltvYmplY3QgTnVtYmVyXVwiXT1hW1wiW29iamVjdCBPYmplY3RdXCJdPWFbXCJbb2JqZWN0IFJlZ0V4cF1cIl09YVtcIltvYmplY3QgU2V0XVwiXT1hW1wiW29iamVjdCBTdHJpbmddXCJdPWFbXCJbb2JqZWN0IFdlYWtNYXBdXCJdPSExLHQuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbyh0KSYmaSh0Lmxlbmd0aCkmJiEhYVtyKHQpXX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE2OCksaT1uKDMxNyksbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighcih0KSlyZXR1cm4gaSh0KTt2YXIgZT1bXTtmb3IodmFyIG4gaW4gT2JqZWN0KHQpKW8uY2FsbCh0LG4pJiZcImNvbnN0cnVjdG9yXCIhPW4mJmUucHVzaChuKTtyZXR1cm4gZX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIxOCkoT2JqZWN0LmtleXMsT2JqZWN0KTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTIzKSxpPW4oMjE5KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmcihlLGkoZSksdCl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMDMpLGk9bigxNjgpLG89bigzMjApLGE9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIXIodCkpcmV0dXJuIG8odCk7dmFyIGU9aSh0KSxuPVtdO2Zvcih2YXIgcyBpbiB0KShcImNvbnN0cnVjdG9yXCIhPXN8fCFlJiZhLmNhbGwodCxzKSkmJm4ucHVzaChzKTtyZXR1cm4gbn19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO2lmKG51bGwhPXQpZm9yKHZhciBuIGluIE9iamVjdCh0KSllLnB1c2gobik7cmV0dXJuIGV9fSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKHQpe3ZhciByPW4oNDUpLGk9ZSYmIWUubm9kZVR5cGUmJmUsbz1pJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmIXQubm9kZVR5cGUmJnQsYT1vJiZvLmV4cG9ydHM9PT1pP3IuQnVmZmVyOnZvaWQgMCxzPWE/YS5hbGxvY1Vuc2FmZTp2b2lkIDA7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoZSlyZXR1cm4gdC5zbGljZSgpO3ZhciBuPXQubGVuZ3RoLHI9cz9zKG4pOm5ldyB0LmNvbnN0cnVjdG9yKG4pO3JldHVybiB0LmNvcHkocikscn19KS5jYWxsKHRoaXMsbigxMjQpKHQpKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj0tMSxyPXQubGVuZ3RoO2ZvcihlfHwoZT1BcnJheShyKSk7KytuPHI7KWVbbl09dFtuXTtyZXR1cm4gZX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEyMyksaT1uKDE3MCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHIodCxpKHQpLGUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTIzKSxpPW4oMjIyKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcih0LGkodCksZSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMjUpLGk9bigxNzApLG89bigxNjQpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gcih0LG8saSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMjUpLGk9bigyMjIpLG89bigyMTkpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gcih0LG8saSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big3Mykobig0NSksXCJEYXRhVmlld1wiKTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNzMpKG4oNDUpLFwiUHJvbWlzZVwiKTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNzMpKG4oNDUpLFwiU2V0XCIpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big3Mykobig0NSksXCJXZWFrTWFwXCIpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUpe3ZhciBuPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RoLHI9bmV3IHQuY29uc3RydWN0b3IoZSk7cmV0dXJuIGUmJlwic3RyaW5nXCI9PXR5cGVvZiB0WzBdJiZuLmNhbGwodCxcImluZGV4XCIpJiYoci5pbmRleD10LmluZGV4LHIuaW5wdXQ9dC5pbnB1dCkscn19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE3MiksaT1uKDMzNCksbz1uKDMzNSksYT1uKDMzNikscz1uKDMzNyk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgdT10LmNvbnN0cnVjdG9yO3N3aXRjaChlKXtjYXNlXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiOnJldHVybiByKHQpO2Nhc2VcIltvYmplY3QgQm9vbGVhbl1cIjpjYXNlXCJbb2JqZWN0IERhdGVdXCI6cmV0dXJuIG5ldyB1KCt0KTtjYXNlXCJbb2JqZWN0IERhdGFWaWV3XVwiOnJldHVybiBpKHQsbik7Y2FzZVwiW29iamVjdCBGbG9hdDMyQXJyYXldXCI6Y2FzZVwiW29iamVjdCBGbG9hdDY0QXJyYXldXCI6Y2FzZVwiW29iamVjdCBJbnQ4QXJyYXldXCI6Y2FzZVwiW29iamVjdCBJbnQxNkFycmF5XVwiOmNhc2VcIltvYmplY3QgSW50MzJBcnJheV1cIjpjYXNlXCJbb2JqZWN0IFVpbnQ4QXJyYXldXCI6Y2FzZVwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIjpjYXNlXCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiOmNhc2VcIltvYmplY3QgVWludDMyQXJyYXldXCI6cmV0dXJuIHModCxuKTtjYXNlXCJbb2JqZWN0IE1hcF1cIjpyZXR1cm4gbmV3IHU7Y2FzZVwiW29iamVjdCBOdW1iZXJdXCI6Y2FzZVwiW29iamVjdCBTdHJpbmddXCI6cmV0dXJuIG5ldyB1KHQpO2Nhc2VcIltvYmplY3QgUmVnRXhwXVwiOnJldHVybiBvKHQpO2Nhc2VcIltvYmplY3QgU2V0XVwiOnJldHVybiBuZXcgdTtjYXNlXCJbb2JqZWN0IFN5bWJvbF1cIjpyZXR1cm4gYSh0KX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0NSkuVWludDhBcnJheTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTcyKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj1lP3IodC5idWZmZXIpOnQuYnVmZmVyO3JldHVybiBuZXcgdC5jb25zdHJ1Y3RvcihuLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpfX0sZnVuY3Rpb24odCxlKXt2YXIgbj0vXFx3KiQvO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgdC5jb25zdHJ1Y3Rvcih0LnNvdXJjZSxuLmV4ZWModCkpO3JldHVybiBlLmxhc3RJbmRleD10Lmxhc3RJbmRleCxlfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTYzKSxpPXI/ci5wcm90b3R5cGU6dm9pZCAwLG89aT9pLnZhbHVlT2Y6dm9pZCAwO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbz9PYmplY3Qoby5jYWxsKHQpKTp7fX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE3Mik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZT9yKHQuYnVmZmVyKTp0LmJ1ZmZlcjtyZXR1cm4gbmV3IHQuY29uc3RydWN0b3Iobix0LmJ5dGVPZmZzZXQsdC5sZW5ndGgpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzM5KSxpPW4oMjI0KSxvPW4oMTY4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiIT10eXBlb2YgdC5jb25zdHJ1Y3Rvcnx8byh0KT97fTpyKGkodCkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTAzKSxpPU9iamVjdC5jcmVhdGUsbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKCFyKGUpKXJldHVybnt9O2lmKGkpcmV0dXJuIGkoZSk7dC5wcm90b3R5cGU9ZTt2YXIgbj1uZXcgdDtyZXR1cm4gdC5wcm90b3R5cGU9dm9pZCAwLG59fSgpO3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzNDEpLGk9bigxNjYpLG89bigxNjcpLGE9byYmby5pc01hcCxzPWE/aShhKTpyO3QuZXhwb3J0cz1zfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNzEpLGk9big4MSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpKHQpJiZcIltvYmplY3QgTWFwXVwiPT1yKHQpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzQzKSxpPW4oMTY2KSxvPW4oMTY3KSxhPW8mJm8uaXNTZXQscz1hP2koYSk6cjt0LmV4cG9ydHM9c30sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTcxKSxpPW4oODEpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaSh0KSYmXCJbb2JqZWN0IFNldF1cIj09cih0KX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDMpO2Z1bmN0aW9uIGkodCxlKXtyZXR1cm4gUmVnRXhwKHQsZSl9ZS5VTlNVUFBPUlRFRF9ZPXIoKGZ1bmN0aW9uKCl7dmFyIHQ9aShcImFcIixcInlcIik7cmV0dXJuIHQubGFzdEluZGV4PTIsbnVsbCE9dC5leGVjKFwiYWJjZFwiKX0pKSxlLkJST0tFTl9DQVJFVD1yKChmdW5jdGlvbigpe3ZhciB0PWkoXCJeclwiLFwiZ3lcIik7cmV0dXJuIHQubGFzdEluZGV4PTIsbnVsbCE9dC5leGVjKFwic3RyXCIpfSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bigxMjUpO3ZhciByPW4oMzgpLGk9bigzKSxvPW4oNyksYT1uKDEyNikscz1uKDM1KSx1PW8oXCJzcGVjaWVzXCIpLGM9IWkoKGZ1bmN0aW9uKCl7dmFyIHQ9Ly4vO3JldHVybiB0LmV4ZWM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdC5ncm91cHM9e2E6XCI3XCJ9LHR9LFwiN1wiIT09XCJcIi5yZXBsYWNlKHQsXCIkPGE+XCIpfSkpLGY9XCIkMFwiPT09XCJhXCIucmVwbGFjZSgvLi8sXCIkMFwiKSxsPW8oXCJyZXBsYWNlXCIpLGg9ISEvLi9bbF0mJlwiXCI9PT0vLi9bbF0oXCJhXCIsXCIkMFwiKSxwPSFpKChmdW5jdGlvbigpe3ZhciB0PS8oPzopLyxlPXQuZXhlYzt0LmV4ZWM9ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBuPVwiYWJcIi5zcGxpdCh0KTtyZXR1cm4gMiE9PW4ubGVuZ3RofHxcImFcIiE9PW5bMF18fFwiYlwiIT09blsxXX0pKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4sbCl7dmFyIGQ9byh0KSx5PSFpKChmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBlW2RdPWZ1bmN0aW9uKCl7cmV0dXJuIDd9LDchPVwiXCJbdF0oZSl9KSksdj15JiYhaSgoZnVuY3Rpb24oKXt2YXIgZT0hMSxuPS9hLztyZXR1cm5cInNwbGl0XCI9PT10JiYoKG49e30pLmNvbnN0cnVjdG9yPXt9LG4uY29uc3RydWN0b3JbdV09ZnVuY3Rpb24oKXtyZXR1cm4gbn0sbi5mbGFncz1cIlwiLG5bZF09Ly4vW2RdKSxuLmV4ZWM9ZnVuY3Rpb24oKXtyZXR1cm4gZT0hMCxudWxsfSxuW2RdKFwiXCIpLCFlfSkpO2lmKCF5fHwhdnx8XCJyZXBsYWNlXCI9PT10JiYoIWN8fCFmfHxoKXx8XCJzcGxpdFwiPT09dCYmIXApe3ZhciBnPS8uL1tkXSxiPW4oZCxcIlwiW3RdLChmdW5jdGlvbih0LGUsbixyLGkpe3JldHVybiBlLmV4ZWM9PT1hP3kmJiFpP3tkb25lOiEwLHZhbHVlOmcuY2FsbChlLG4scil9Ontkb25lOiEwLHZhbHVlOnQuY2FsbChuLGUscil9Ontkb25lOiExfX0pLHtSRVBMQUNFX0tFRVBTXyQwOmYsUkVHRVhQX1JFUExBQ0VfU1VCU1RJVFVURVNfVU5ERUZJTkVEX0NBUFRVUkU6aH0pLG09YlswXSx3PWJbMV07cihTdHJpbmcucHJvdG90eXBlLHQsbSkscihSZWdFeHAucHJvdG90eXBlLGQsMj09ZT9mdW5jdGlvbih0LGUpe3JldHVybiB3LmNhbGwodCx0aGlzLGUpfTpmdW5jdGlvbih0KXtyZXR1cm4gdy5jYWxsKHQsdGhpcyl9KX1sJiZzKFJlZ0V4cC5wcm90b3R5cGVbZF0sXCJzaGFtXCIsITApfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTYwKS5jaGFyQXQ7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSsobj9yKHQsZSkubGVuZ3RoOjEpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTYpLGk9bigxMjYpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZXhlYztpZihcImZ1bmN0aW9uXCI9PT10eXBlb2Ygbil7dmFyIG89bi5jYWxsKHQsZSk7aWYoXCJvYmplY3RcIiE9PXR5cGVvZiBvKXRocm93IFR5cGVFcnJvcihcIlJlZ0V4cCBleGVjIG1ldGhvZCByZXR1cm5lZCBzb21ldGhpbmcgb3RoZXIgdGhhbiBhbiBPYmplY3Qgb3IgbnVsbFwiKTtyZXR1cm4gb31pZihcIlJlZ0V4cFwiIT09cih0KSl0aHJvdyBUeXBlRXJyb3IoXCJSZWdFeHAjZXhlYyBjYWxsZWQgb24gaW5jb21wYXRpYmxlIHJlY2VpdmVyXCIpO3JldHVybiBpLmNhbGwodCxlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIwNCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1mdW5jdGlvbih0LGksbyxhKXt2YXIgcz1vJiZhfHwwO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1mdW5jdGlvbih0KXt0PXVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0KSk7Zm9yKHZhciBlPW5ldyBBcnJheSh0Lmxlbmd0aCksbj0wO248dC5sZW5ndGg7bisrKWVbbl09dC5jaGFyQ29kZUF0KG4pO3JldHVybiBlfSh0KSksXCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiB0LnJlcGxhY2UoL1thLWZBLUYwLTldezJ9L2csKGZ1bmN0aW9uKHQpe2UucHVzaChwYXJzZUludCh0LDE2KSl9KSksZX0oaSkpLCFBcnJheS5pc0FycmF5KHQpKXRocm93IFR5cGVFcnJvcihcInZhbHVlIG11c3QgYmUgYW4gYXJyYXkgb2YgYnl0ZXNcIik7aWYoIUFycmF5LmlzQXJyYXkoaSl8fDE2IT09aS5sZW5ndGgpdGhyb3cgVHlwZUVycm9yKFwibmFtZXNwYWNlIG11c3QgYmUgdXVpZCBzdHJpbmcgb3IgYW4gQXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXNcIik7dmFyIHU9bihpLmNvbmNhdCh0KSk7aWYodVs2XT0xNSZ1WzZdfGUsdVs4XT02MyZ1WzhdfDEyOCxvKWZvcih2YXIgYz0wO2M8MTY7KytjKW9bcytjXT11W2NdO3JldHVybiBvfHxyKHUpfTt0cnl7aS5uYW1lPXR9Y2F0Y2godCl7fXJldHVybiBpLkROUz1cIjZiYTdiODEwLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBjOFwiLGkuVVJMPVwiNmJhN2I4MTEtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4XCIsaX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSxuLHIpe3N3aXRjaCh0KXtjYXNlIDA6cmV0dXJuIGUmbl5+ZSZyO2Nhc2UgMTpyZXR1cm4gZV5uXnI7Y2FzZSAyOnJldHVybiBlJm5eZSZyXm4mcjtjYXNlIDM6cmV0dXJuIGVebl5yfX1mdW5jdGlvbiBpKHQsZSl7cmV0dXJuIHQ8PGV8dD4+PjMyLWV9dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPVsxNTE4NTAwMjQ5LDE4NTk3NzUzOTMsMjQwMDk1OTcwOCwzMzk1NDY5NzgyXSxuPVsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzgsMzI4NTM3NzUyMF07aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe3ZhciBvPXVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0KSk7dD1uZXcgQXJyYXkoby5sZW5ndGgpO2Zvcih2YXIgYT0wO2E8by5sZW5ndGg7YSsrKXRbYV09by5jaGFyQ29kZUF0KGEpfXQucHVzaCgxMjgpO3ZhciBzPXQubGVuZ3RoLzQrMix1PU1hdGguY2VpbChzLzE2KSxjPW5ldyBBcnJheSh1KTtmb3IoYT0wO2E8dTthKyspe2NbYV09bmV3IEFycmF5KDE2KTtmb3IodmFyIGY9MDtmPDE2O2YrKyljW2FdW2ZdPXRbNjQqYSs0KmZdPDwyNHx0WzY0KmErNCpmKzFdPDwxNnx0WzY0KmErNCpmKzJdPDw4fHRbNjQqYSs0KmYrM119Zm9yKGNbdS0xXVsxNF09OCoodC5sZW5ndGgtMSkvTWF0aC5wb3coMiwzMiksY1t1LTFdWzE0XT1NYXRoLmZsb29yKGNbdS0xXVsxNF0pLGNbdS0xXVsxNV09OCoodC5sZW5ndGgtMSkmNDI5NDk2NzI5NSxhPTA7YTx1O2ErKyl7Zm9yKHZhciBsPW5ldyBBcnJheSg4MCksaD0wO2g8MTY7aCsrKWxbaF09Y1thXVtoXTtmb3IoaD0xNjtoPDgwO2grKylsW2hdPWkobFtoLTNdXmxbaC04XV5sW2gtMTRdXmxbaC0xNl0sMSk7dmFyIHA9blswXSxkPW5bMV0seT1uWzJdLHY9blszXSxnPW5bNF07Zm9yKGg9MDtoPDgwO2grKyl7dmFyIGI9TWF0aC5mbG9vcihoLzIwKSxtPWkocCw1KStyKGIsZCx5LHYpK2crZVtiXStsW2hdPj4+MDtnPXYsdj15LHk9aShkLDMwKT4+PjAsZD1wLHA9bX1uWzBdPW5bMF0rcD4+PjAsblsxXT1uWzFdK2Q+Pj4wLG5bMl09blsyXSt5Pj4+MCxuWzNdPW5bM10rdj4+PjAsbls0XT1uWzRdK2c+Pj4wfXJldHVybltuWzBdPj4yNCYyNTUsblswXT4+MTYmMjU1LG5bMF0+PjgmMjU1LDI1NSZuWzBdLG5bMV0+PjI0JjI1NSxuWzFdPj4xNiYyNTUsblsxXT4+OCYyNTUsMjU1Jm5bMV0sblsyXT4+MjQmMjU1LG5bMl0+PjE2JjI1NSxuWzJdPj44JjI1NSwyNTUmblsyXSxuWzNdPj4yNCYyNTUsblszXT4+MTYmMjU1LG5bM10+PjgmMjU1LDI1NSZuWzNdLG5bNF0+PjI0JjI1NSxuWzRdPj4xNiYyNTUsbls0XT4+OCYyNTUsMjU1Jm5bNF1dfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjI5KSxpPW4oMzUxKSxvPW4oMzUzKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbyhpKHQsZSxyKSx0K1wiXCIpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzUyKSxpPU1hdGgubWF4O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGU9aSh2b2lkIDA9PT1lP3QubGVuZ3RoLTE6ZSwwKSxmdW5jdGlvbigpe2Zvcih2YXIgbz1hcmd1bWVudHMsYT0tMSxzPWkoby5sZW5ndGgtZSwwKSx1PUFycmF5KHMpOysrYTxzOyl1W2FdPW9bZSthXTthPS0xO2Zvcih2YXIgYz1BcnJheShlKzEpOysrYTxlOyljW2FdPW9bYV07cmV0dXJuIGNbZV09bih1KSxyKHQsdGhpcyxjKX19fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7c3dpdGNoKG4ubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIHQuY2FsbChlKTtjYXNlIDE6cmV0dXJuIHQuY2FsbChlLG5bMF0pO2Nhc2UgMjpyZXR1cm4gdC5jYWxsKGUsblswXSxuWzFdKTtjYXNlIDM6cmV0dXJuIHQuY2FsbChlLG5bMF0sblsxXSxuWzJdKX1yZXR1cm4gdC5hcHBseShlLG4pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzU0KSxpPW4oMzU2KShyKTt0LmV4cG9ydHM9aX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzU1KSxpPW4oMjEzKSxvPW4oMjI5KSxhPWk/ZnVuY3Rpb24odCxlKXtyZXR1cm4gaSh0LFwidG9TdHJpbmdcIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsdmFsdWU6cihlKSx3cml0YWJsZTohMH0pfTpvO3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19fSxmdW5jdGlvbih0LGUpe3ZhciBuPURhdGUubm93O3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT0wLHI9MDtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaT1uKCksbz0xNi0oaS1yKTtpZihyPWksbz4wKXtpZigrK2U+PTgwMClyZXR1cm4gYXJndW1lbnRzWzBdfWVsc2UgZT0wO3JldHVybiB0LmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIyMCksaT1uKDM1OCksbz1uKDM1OSksYT1uKDIxNSkscz1uKDM2MCksdT1NYXRoLm1heDt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm5bXTt2YXIgZT0wO3JldHVybiB0PXIodCwoZnVuY3Rpb24odCl7aWYocyh0KSlyZXR1cm4gZT11KHQubGVuZ3RoLGUpLCEwfSkpLGEoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGkodCxvKGUpKX0pKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPS0xLHI9bnVsbD09dD8wOnQubGVuZ3RoLGk9QXJyYXkocik7KytuPHI7KWlbbl09ZSh0W25dLG4sdCk7cmV0dXJuIGl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/dm9pZCAwOmVbdF19fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTY5KSxpPW4oODEpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaSh0KSYmcih0KX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDIpLGk9big5MSksbz1uKDQxKSxhPW4oMTAyKSxzPVtdLmpvaW4sdT1pIT1PYmplY3QsYz1hKFwiam9pblwiLFwiLFwiKTtyKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDp1fHwhY30se2pvaW46ZnVuY3Rpb24odCl7cmV0dXJuIHMuY2FsbChvKHRoaXMpLHZvaWQgMD09PXQ/XCIsXCI6dCl9fSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDIpLGk9bigzNjMpLnRyaW07cih7dGFyZ2V0OlwiU3RyaW5nXCIscHJvdG86ITAsZm9yY2VkOm4oMzY0KShcInRyaW1cIil9LHt0cmltOmZ1bmN0aW9uKCl7cmV0dXJuIGkodGhpcyl9fSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDc1KSxpPVwiW1wiK24oMjMwKStcIl1cIixvPVJlZ0V4cChcIl5cIitpK2krXCIqXCIpLGE9UmVnRXhwKGkraStcIiokXCIpLHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPVN0cmluZyhyKGUpKTtyZXR1cm4gMSZ0JiYobj1uLnJlcGxhY2UobyxcIlwiKSksMiZ0JiYobj1uLnJlcGxhY2UoYSxcIlwiKSksbn19O3QuZXhwb3J0cz17c3RhcnQ6cygxKSxlbmQ6cygyKSx0cmltOnMoMyl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzKSxpPW4oMjMwKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIoKGZ1bmN0aW9uKCl7cmV0dXJuISFpW3RdKCl8fFwiXFx1MjAwYlxceDg1XFx1MTgwZVwiIT1cIlxcdTIwMGJcXHg4NVxcdTE4MGVcIlt0XSgpfHxpW3RdLm5hbWUhPT10fSkpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKGU9ZS5zcGxpdChcIjpcIilbMF0sISh0PSt0KSlyZXR1cm4hMTtzd2l0Y2goZSl7Y2FzZVwiaHR0cFwiOmNhc2VcIndzXCI6cmV0dXJuIDgwIT09dDtjYXNlXCJodHRwc1wiOmNhc2VcIndzc1wiOnJldHVybiA0NDMhPT10O2Nhc2VcImZ0cFwiOnJldHVybiAyMSE9PXQ7Y2FzZVwiZ29waGVyXCI6cmV0dXJuIDcwIT09dDtjYXNlXCJmaWxlXCI6cmV0dXJuITF9cmV0dXJuIDAhPT10fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMiksaT1uKDQpLG89bigxNTApLGE9bigzOCkscz1uKDE3MyksdT1uKDE1NiksYz1uKDY5KSxmPW4oMTEpLGw9bigzKSxoPW4oMTE1KSxwPW4oNTgpLGQ9bigyMzIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dmFyIHk9LTEhPT10LmluZGV4T2YoXCJNYXBcIiksdj0tMSE9PXQuaW5kZXhPZihcIldlYWtcIiksZz15P1wic2V0XCI6XCJhZGRcIixiPWlbdF0sbT1iJiZiLnByb3RvdHlwZSx3PWIsRT17fSx4PWZ1bmN0aW9uKHQpe3ZhciBlPW1bdF07YShtLHQsXCJhZGRcIj09dD9mdW5jdGlvbih0KXtyZXR1cm4gZS5jYWxsKHRoaXMsMD09PXQ/MDp0KSx0aGlzfTpcImRlbGV0ZVwiPT10P2Z1bmN0aW9uKHQpe3JldHVybiEodiYmIWYodCkpJiZlLmNhbGwodGhpcywwPT09dD8wOnQpfTpcImdldFwiPT10P2Z1bmN0aW9uKHQpe3JldHVybiB2JiYhZih0KT92b2lkIDA6ZS5jYWxsKHRoaXMsMD09PXQ/MDp0KX06XCJoYXNcIj09dD9mdW5jdGlvbih0KXtyZXR1cm4hKHYmJiFmKHQpKSYmZS5jYWxsKHRoaXMsMD09PXQ/MDp0KX06ZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5jYWxsKHRoaXMsMD09PXQ/MDp0LG4pLHRoaXN9KX07aWYobyh0LFwiZnVuY3Rpb25cIiE9dHlwZW9mIGJ8fCEodnx8bS5mb3JFYWNoJiYhbCgoZnVuY3Rpb24oKXsobmV3IGIpLmVudHJpZXMoKS5uZXh0KCl9KSkpKSl3PW4uZ2V0Q29uc3RydWN0b3IoZSx0LHksZykscy5SRVFVSVJFRD0hMDtlbHNlIGlmKG8odCwhMCkpe3ZhciBPPW5ldyB3LFQ9T1tnXSh2P3t9Oi0wLDEpIT1PLFM9bCgoZnVuY3Rpb24oKXtPLmhhcygxKX0pKSxrPWgoKGZ1bmN0aW9uKHQpe25ldyBiKHQpfSkpLF89IXYmJmwoKGZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBiLGU9NTtlLS07KXRbZ10oZSxlKTtyZXR1cm4hdC5oYXMoLTApfSkpO2t8fCgodz1lKChmdW5jdGlvbihlLG4pe2MoZSx3LHQpO3ZhciByPWQobmV3IGIsZSx3KTtyZXR1cm4gdm9pZCAwIT1uJiZ1KG4scltnXSxyLHkpLHJ9KSkpLnByb3RvdHlwZT1tLG0uY29uc3RydWN0b3I9dyksKFN8fF8pJiYoeChcImRlbGV0ZVwiKSx4KFwiaGFzXCIpLHkmJngoXCJnZXRcIikpLChffHxUKSYmeChnKSx2JiZtLmNsZWFyJiZkZWxldGUgbS5jbGVhcn1yZXR1cm4gRVt0XT13LHIoe2dsb2JhbDohMCxmb3JjZWQ6dyE9Yn0sRSkscCh3LHQpLHZ8fG4uc2V0U3Ryb25nKHcsdCx5KSx3fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMjQpLmYsaT1uKDY2KSxvPW4oMTEzKSxhPW4oNjcpLHM9big2OSksdT1uKDE1NiksYz1uKDE1MyksZj1uKDExNCksbD1uKDE2KSxoPW4oMTczKS5mYXN0S2V5LHA9big0NCksZD1wLnNldCx5PXAuZ2V0dGVyRm9yO3QuZXhwb3J0cz17Z2V0Q29uc3RydWN0b3I6ZnVuY3Rpb24odCxlLG4sYyl7dmFyIGY9dCgoZnVuY3Rpb24odCxyKXtzKHQsZixlKSxkKHQse3R5cGU6ZSxpbmRleDppKG51bGwpLGZpcnN0OnZvaWQgMCxsYXN0OnZvaWQgMCxzaXplOjB9KSxsfHwodC5zaXplPTApLHZvaWQgMCE9ciYmdShyLHRbY10sdCxuKX0pKSxwPXkoZSksdj1mdW5jdGlvbih0LGUsbil7dmFyIHIsaSxvPXAodCksYT1nKHQsZSk7cmV0dXJuIGE/YS52YWx1ZT1uOihvLmxhc3Q9YT17aW5kZXg6aT1oKGUsITApLGtleTplLHZhbHVlOm4scHJldmlvdXM6cj1vLmxhc3QsbmV4dDp2b2lkIDAscmVtb3ZlZDohMX0sby5maXJzdHx8KG8uZmlyc3Q9YSksciYmKHIubmV4dD1hKSxsP28uc2l6ZSsrOnQuc2l6ZSsrLFwiRlwiIT09aSYmKG8uaW5kZXhbaV09YSkpLHR9LGc9ZnVuY3Rpb24odCxlKXt2YXIgbixyPXAodCksaT1oKGUpO2lmKFwiRlwiIT09aSlyZXR1cm4gci5pbmRleFtpXTtmb3Iobj1yLmZpcnN0O247bj1uLm5leHQpaWYobi5rZXk9PWUpcmV0dXJuIG59O3JldHVybiBvKGYucHJvdG90eXBlLHtjbGVhcjpmdW5jdGlvbigpe2Zvcih2YXIgdD1wKHRoaXMpLGU9dC5pbmRleCxuPXQuZmlyc3Q7bjspbi5yZW1vdmVkPSEwLG4ucHJldmlvdXMmJihuLnByZXZpb3VzPW4ucHJldmlvdXMubmV4dD12b2lkIDApLGRlbGV0ZSBlW24uaW5kZXhdLG49bi5uZXh0O3QuZmlyc3Q9dC5sYXN0PXZvaWQgMCxsP3Quc2l6ZT0wOnRoaXMuc2l6ZT0wfSxkZWxldGU6ZnVuY3Rpb24odCl7dmFyIGU9cCh0aGlzKSxuPWcodGhpcyx0KTtpZihuKXt2YXIgcj1uLm5leHQsaT1uLnByZXZpb3VzO2RlbGV0ZSBlLmluZGV4W24uaW5kZXhdLG4ucmVtb3ZlZD0hMCxpJiYoaS5uZXh0PXIpLHImJihyLnByZXZpb3VzPWkpLGUuZmlyc3Q9PW4mJihlLmZpcnN0PXIpLGUubGFzdD09biYmKGUubGFzdD1pKSxsP2Uuc2l6ZS0tOnRoaXMuc2l6ZS0tfXJldHVybiEhbn0sZm9yRWFjaDpmdW5jdGlvbih0KXtmb3IodmFyIGUsbj1wKHRoaXMpLHI9YSh0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpO2U9ZT9lLm5leHQ6bi5maXJzdDspZm9yKHIoZS52YWx1ZSxlLmtleSx0aGlzKTtlJiZlLnJlbW92ZWQ7KWU9ZS5wcmV2aW91c30saGFzOmZ1bmN0aW9uKHQpe3JldHVybiEhZyh0aGlzLHQpfX0pLG8oZi5wcm90b3R5cGUsbj97Z2V0OmZ1bmN0aW9uKHQpe3ZhciBlPWcodGhpcyx0KTtyZXR1cm4gZSYmZS52YWx1ZX0sc2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHYodGhpcywwPT09dD8wOnQsZSl9fTp7YWRkOmZ1bmN0aW9uKHQpe3JldHVybiB2KHRoaXMsdD0wPT09dD8wOnQsdCl9fSksbCYmcihmLnByb3RvdHlwZSxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHAodGhpcykuc2l6ZX19KSxmfSxzZXRTdHJvbmc6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWUrXCIgSXRlcmF0b3JcIixpPXkoZSksbz15KHIpO2ModCxlLChmdW5jdGlvbih0LGUpe2QodGhpcyx7dHlwZTpyLHRhcmdldDp0LHN0YXRlOmkodCksa2luZDplLGxhc3Q6dm9pZCAwfSl9KSwoZnVuY3Rpb24oKXtmb3IodmFyIHQ9byh0aGlzKSxlPXQua2luZCxuPXQubGFzdDtuJiZuLnJlbW92ZWQ7KW49bi5wcmV2aW91cztyZXR1cm4gdC50YXJnZXQmJih0Lmxhc3Q9bj1uP24ubmV4dDp0LnN0YXRlLmZpcnN0KT9cImtleXNcIj09ZT97dmFsdWU6bi5rZXksZG9uZTohMX06XCJ2YWx1ZXNcIj09ZT97dmFsdWU6bi52YWx1ZSxkb25lOiExfTp7dmFsdWU6W24ua2V5LG4udmFsdWVdLGRvbmU6ITF9Oih0LnRhcmdldD12b2lkIDAse3ZhbHVlOnZvaWQgMCxkb25lOiEwfSl9KSxuP1wiZW50cmllc1wiOlwidmFsdWVzXCIsIW4sITApLGYoZSl9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXt2YXIgcj1uKDM2OSk7dC5leHBvcnRzPW4oMzgzKShyKSxcIl9zb2NranNfb25sb2FkXCJpbiBlJiZzZXRUaW1lb3V0KGUuX3NvY2tqc19vbmxvYWQsMSl9KS5jYWxsKHRoaXMsbig2KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9W24oMzcwKSxuKDM3MyksbigyMzYpLG4oMjM3KSxuKDE3NikobigyMzcpKSxuKDI0MSksbigxNzYpKG4oMjQxKSksbigyNDIpLG4oMzc5KSxuKDE3NikobigyNDIpKSxuKDM4MCldfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big2MSksaT1uKDM5KSxvPW4oNSksYT1uKDI5KS5FdmVudEVtaXR0ZXIscz1uKDM3Mik7ZnVuY3Rpb24gdSh0LGUsbil7aWYoIXUuZW5hYmxlZCgpKXRocm93IG5ldyBFcnJvcihcIlRyYW5zcG9ydCBjcmVhdGVkIHdoZW4gZGlzYWJsZWRcIik7YS5jYWxsKHRoaXMpO3ZhciBvPXRoaXMsYz1pLmFkZFBhdGgodCxcIi93ZWJzb2NrZXRcIik7Yz1cImh0dHBzXCI9PT1jLnNsaWNlKDAsNSk/XCJ3c3NcIitjLnNsaWNlKDUpOlwid3NcIitjLnNsaWNlKDQpLHRoaXMudXJsPWMsdGhpcy53cz1uZXcgcyh0aGlzLnVybCxbXSxuKSx0aGlzLndzLm9ubWVzc2FnZT1mdW5jdGlvbih0KXt0LmRhdGEsby5lbWl0KFwibWVzc2FnZVwiLHQuZGF0YSl9LHRoaXMudW5sb2FkUmVmPXIudW5sb2FkQWRkKChmdW5jdGlvbigpe28ud3MuY2xvc2UoKX0pKSx0aGlzLndzLm9uY2xvc2U9ZnVuY3Rpb24odCl7dC5jb2RlLHQucmVhc29uLG8uZW1pdChcImNsb3NlXCIsdC5jb2RlLHQucmVhc29uKSxvLl9jbGVhbnVwKCl9LHRoaXMud3Mub25lcnJvcj1mdW5jdGlvbih0KXtvLmVtaXQoXCJjbG9zZVwiLDEwMDYsXCJXZWJTb2NrZXQgY29ubmVjdGlvbiBicm9rZW5cIiksby5fY2xlYW51cCgpfX1vKHUsYSksdS5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbih0KXt2YXIgZT1cIltcIit0K1wiXVwiO3RoaXMud3Muc2VuZChlKX0sdS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLndzO3RoaXMuX2NsZWFudXAoKSx0JiZ0LmNsb3NlKCl9LHUucHJvdG90eXBlLl9jbGVhbnVwPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy53czt0JiYodC5vbm1lc3NhZ2U9dC5vbmNsb3NlPXQub25lcnJvcj1udWxsKSxyLnVubG9hZERlbCh0aGlzLnVubG9hZFJlZiksdGhpcy51bmxvYWRSZWY9dGhpcy53cz1udWxsLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCl9LHUuZW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiEhc30sdS50cmFuc3BvcnROYW1lPVwid2Vic29ja2V0XCIsdS5yb3VuZFRyaXBzPTIsdC5leHBvcnRzPXV9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7ZS5jcnlwdG8mJmUuY3J5cHRvLmdldFJhbmRvbVZhbHVlcz90LmV4cG9ydHMucmFuZG9tQnl0ZXM9ZnVuY3Rpb24odCl7dmFyIG49bmV3IFVpbnQ4QXJyYXkodCk7cmV0dXJuIGUuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuKSxufTp0LmV4cG9ydHMucmFuZG9tQnl0ZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPU1hdGguZmxvb3IoMjU2Kk1hdGgucmFuZG9tKCkpO3JldHVybiBlfX0pLmNhbGwodGhpcyxuKDYpKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXt2YXIgbj1lLldlYlNvY2tldHx8ZS5Nb3pXZWJTb2NrZXQ7dC5leHBvcnRzPW4/ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBuKHQpfTp2b2lkIDB9KS5jYWxsKHRoaXMsbig2KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7dmFyIHI9big1KSxpPW4oODMpLG89bigxMzApLGE9bigxMzEpLHM9bigxMDUpLHU9bigxMDYpO2Z1bmN0aW9uIGModCl7aWYoIXMuZW5hYmxlZCYmIWEuZW5hYmxlZCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc3BvcnQgY3JlYXRlZCB3aGVuIGRpc2FibGVkXCIpO2kuY2FsbCh0aGlzLHQsXCIveGhyX3N0cmVhbWluZ1wiLG8sYSl9cihjLGkpLGMuZW5hYmxlZD1mdW5jdGlvbih0KXtyZXR1cm4hdC5udWxsT3JpZ2luJiYoIXUuaXNPcGVyYSgpJiZhLmVuYWJsZWQpfSxjLnRyYW5zcG9ydE5hbWU9XCJ4aHItc3RyZWFtaW5nXCIsYy5yb3VuZFRyaXBzPTIsYy5uZWVkQm9keT0hIWUuZG9jdW1lbnQsdC5leHBvcnRzPWN9KS5jYWxsKHRoaXMsbig2KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDUpLGk9bigyOSkuRXZlbnRFbWl0dGVyO2Z1bmN0aW9uIG8odCxlKXtpLmNhbGwodGhpcyksdGhpcy5zZW5kQnVmZmVyPVtdLHRoaXMuc2VuZGVyPWUsdGhpcy51cmw9dH1yKG8saSksby5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbih0KXt0aGlzLnNlbmRCdWZmZXIucHVzaCh0KSx0aGlzLnNlbmRTdG9wfHx0aGlzLnNlbmRTY2hlZHVsZSgpfSxvLnByb3RvdHlwZS5zZW5kU2NoZWR1bGVXYWl0PWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzO3RoaXMuc2VuZFN0b3A9ZnVuY3Rpb24oKXtlLnNlbmRTdG9wPW51bGwsY2xlYXJUaW1lb3V0KHQpfSx0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS5zZW5kU3RvcD1udWxsLGUuc2VuZFNjaGVkdWxlKCl9KSwyNSl9LG8ucHJvdG90eXBlLnNlbmRTY2hlZHVsZT1mdW5jdGlvbigpe3RoaXMuc2VuZEJ1ZmZlci5sZW5ndGg7dmFyIHQ9dGhpcztpZih0aGlzLnNlbmRCdWZmZXIubGVuZ3RoPjApe3ZhciBlPVwiW1wiK3RoaXMuc2VuZEJ1ZmZlci5qb2luKFwiLFwiKStcIl1cIjt0aGlzLnNlbmRTdG9wPXRoaXMuc2VuZGVyKHRoaXMudXJsLGUsKGZ1bmN0aW9uKGUpe3Quc2VuZFN0b3A9bnVsbCxlPyh0LmVtaXQoXCJjbG9zZVwiLGUuY29kZXx8MTAwNixcIlNlbmRpbmcgZXJyb3I6IFwiK2UpLHQuY2xvc2UoKSk6dC5zZW5kU2NoZWR1bGVXYWl0KCl9KSksdGhpcy5zZW5kQnVmZmVyPVtdfX0sby5wcm90b3R5cGUuX2NsZWFudXA9ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpfSxvLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFudXAoKSx0aGlzLnNlbmRTdG9wJiYodGhpcy5zZW5kU3RvcCgpLHRoaXMuc2VuZFN0b3A9bnVsbCl9LHQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big1KSxpPW4oMjkpLkV2ZW50RW1pdHRlcjtmdW5jdGlvbiBvKHQsZSxuKXtpLmNhbGwodGhpcyksdGhpcy5SZWNlaXZlcj10LHRoaXMucmVjZWl2ZVVybD1lLHRoaXMuQWpheE9iamVjdD1uLHRoaXMuX3NjaGVkdWxlUmVjZWl2ZXIoKX1yKG8saSksby5wcm90b3R5cGUuX3NjaGVkdWxlUmVjZWl2ZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5wb2xsPW5ldyB0aGlzLlJlY2VpdmVyKHRoaXMucmVjZWl2ZVVybCx0aGlzLkFqYXhPYmplY3QpO2Uub24oXCJtZXNzYWdlXCIsKGZ1bmN0aW9uKGUpe3QuZW1pdChcIm1lc3NhZ2VcIixlKX0pKSxlLm9uY2UoXCJjbG9zZVwiLChmdW5jdGlvbihuLHIpe3QucG9sbElzQ2xvc2luZyx0LnBvbGw9ZT1udWxsLHQucG9sbElzQ2xvc2luZ3x8KFwibmV0d29ya1wiPT09cj90Ll9zY2hlZHVsZVJlY2VpdmVyKCk6KHQuZW1pdChcImNsb3NlXCIsbnx8MTAwNixyKSx0LnJlbW92ZUFsbExpc3RlbmVycygpKSl9KSl9LG8ucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLnBvbGxJc0Nsb3Npbmc9ITAsdGhpcy5wb2xsJiZ0aGlzLnBvbGwuYWJvcnQoKX0sdC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDUpLGk9bigyOSkuRXZlbnRFbWl0dGVyLG89bigyMzgpO2Z1bmN0aW9uIGEodCl7aS5jYWxsKHRoaXMpO3ZhciBlPXRoaXMsbj10aGlzLmVzPW5ldyBvKHQpO24ub25tZXNzYWdlPWZ1bmN0aW9uKHQpe3QuZGF0YSxlLmVtaXQoXCJtZXNzYWdlXCIsZGVjb2RlVVJJKHQuZGF0YSkpfSxuLm9uZXJyb3I9ZnVuY3Rpb24odCl7bi5yZWFkeVN0YXRlO3ZhciByPTIhPT1uLnJlYWR5U3RhdGU/XCJuZXR3b3JrXCI6XCJwZXJtYW5lbnRcIjtlLl9jbGVhbnVwKCksZS5fY2xvc2Uocil9fXIoYSxpKSxhLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe3RoaXMuX2NsZWFudXAoKSx0aGlzLl9jbG9zZShcInVzZXJcIil9LGEucHJvdG90eXBlLl9jbGVhbnVwPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lczt0JiYodC5vbm1lc3NhZ2U9dC5vbmVycm9yPW51bGwsdC5jbG9zZSgpLHRoaXMuZXM9bnVsbCl9LGEucHJvdG90eXBlLl9jbG9zZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS5lbWl0KFwiY2xvc2VcIixudWxsLHQpLGUucmVtb3ZlQWxsTGlzdGVuZXJzKCl9KSwyMDApfSx0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlKXsoZnVuY3Rpb24oZSl7dC5leHBvcnRzPWV9KS5jYWxsKHRoaXMse30pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe3ZhciByPW4oNSksaT1uKDEwNyksbz1uKDM5KSxhPW4oMjkpLkV2ZW50RW1pdHRlcixzPW4oODIpO2Z1bmN0aW9uIHUodCl7YS5jYWxsKHRoaXMpO3ZhciBuPXRoaXM7aS5wb2xsdXRlR2xvYmFsTmFtZXNwYWNlKCksdGhpcy5pZD1cImFcIitzLnN0cmluZyg2KSx0PW8uYWRkUXVlcnkodCxcImM9XCIrZGVjb2RlVVJJQ29tcG9uZW50KGkuV1ByZWZpeCtcIi5cIit0aGlzLmlkKSksdS5odG1sZmlsZUVuYWJsZWQ7dmFyIHI9dS5odG1sZmlsZUVuYWJsZWQ/aS5jcmVhdGVIdG1sZmlsZTppLmNyZWF0ZUlmcmFtZTtlW2kuV1ByZWZpeF1bdGhpcy5pZF09e3N0YXJ0OmZ1bmN0aW9uKCl7bi5pZnJhbWVPYmoubG9hZGVkKCl9LG1lc3NhZ2U6ZnVuY3Rpb24odCl7bi5lbWl0KFwibWVzc2FnZVwiLHQpfSxzdG9wOmZ1bmN0aW9uKCl7bi5fY2xlYW51cCgpLG4uX2Nsb3NlKFwibmV0d29ya1wiKX19LHRoaXMuaWZyYW1lT2JqPXIodCwoZnVuY3Rpb24oKXtuLl9jbGVhbnVwKCksbi5fY2xvc2UoXCJwZXJtYW5lbnRcIil9KSl9cih1LGEpLHUucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKCl7dGhpcy5fY2xlYW51cCgpLHRoaXMuX2Nsb3NlKFwidXNlclwiKX0sdS5wcm90b3R5cGUuX2NsZWFudXA9ZnVuY3Rpb24oKXt0aGlzLmlmcmFtZU9iaiYmKHRoaXMuaWZyYW1lT2JqLmNsZWFudXAoKSx0aGlzLmlmcmFtZU9iaj1udWxsKSxkZWxldGUgZVtpLldQcmVmaXhdW3RoaXMuaWRdfSx1LnByb3RvdHlwZS5fY2xvc2U9ZnVuY3Rpb24odCl7dGhpcy5lbWl0KFwiY2xvc2VcIixudWxsLHQpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCl9LHUuaHRtbGZpbGVFbmFibGVkPSExO3ZhciBjPVtcIkFjdGl2ZVwiXS5jb25jYXQoXCJPYmplY3RcIikuam9pbihcIlhcIik7aWYoYyBpbiBlKXRyeXt1Lmh0bWxmaWxlRW5hYmxlZD0hIW5ldyBlW2NdKFwiaHRtbGZpbGVcIil9Y2F0Y2godCl7fXUuZW5hYmxlZD11Lmh0bWxmaWxlRW5hYmxlZHx8aS5pZnJhbWVFbmFibGVkLHQuZXhwb3J0cz11fSkuY2FsbCh0aGlzLG4oNikpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big1KSxpPW4oODMpLG89bigyMzYpLGE9bigxMzApLHM9bigxNzUpO2Z1bmN0aW9uIHUodCl7aWYoIXMuZW5hYmxlZCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc3BvcnQgY3JlYXRlZCB3aGVuIGRpc2FibGVkXCIpO2kuY2FsbCh0aGlzLHQsXCIveGhyXCIsYSxzKX1yKHUsaSksdS5lbmFibGVkPW8uZW5hYmxlZCx1LnRyYW5zcG9ydE5hbWU9XCJ4ZHItcG9sbGluZ1wiLHUucm91bmRUcmlwcz0yLHQuZXhwb3J0cz11fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe3ZhciByPW4oNSksaT1uKDIzNCksbz1uKDM4MSksYT1uKDM4Mik7ZnVuY3Rpb24gcyh0KXtpZighcy5lbmFibGVkKCkpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNwb3J0IGNyZWF0ZWQgd2hlbiBkaXNhYmxlZFwiKTtpLmNhbGwodGhpcyx0LFwiL2pzb25wXCIsYSxvKX1yKHMsaSkscy5lbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuISFlLmRvY3VtZW50fSxzLnRyYW5zcG9ydE5hbWU9XCJqc29ucC1wb2xsaW5nXCIscy5yb3VuZFRyaXBzPTEscy5uZWVkQm9keT0hMCx0LmV4cG9ydHM9c30pLmNhbGwodGhpcyxuKDYpKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXt2YXIgcj1uKDEwNyksaT1uKDgyKSxvPW4oMTA2KSxhPW4oMzkpLHM9big1KSx1PW4oMjkpLkV2ZW50RW1pdHRlcjtmdW5jdGlvbiBjKHQpe3ZhciBuPXRoaXM7dS5jYWxsKHRoaXMpLHIucG9sbHV0ZUdsb2JhbE5hbWVzcGFjZSgpLHRoaXMuaWQ9XCJhXCIraS5zdHJpbmcoNik7dmFyIG89YS5hZGRRdWVyeSh0LFwiYz1cIitlbmNvZGVVUklDb21wb25lbnQoci5XUHJlZml4K1wiLlwiK3RoaXMuaWQpKTtlW3IuV1ByZWZpeF1bdGhpcy5pZF09dGhpcy5fY2FsbGJhY2suYmluZCh0aGlzKSx0aGlzLl9jcmVhdGVTY3JpcHQobyksdGhpcy50aW1lb3V0SWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtuLl9hYm9ydChuZXcgRXJyb3IoXCJKU09OUCBzY3JpcHQgbG9hZGVkIGFibm9ybWFsbHkgKHRpbWVvdXQpXCIpKX0pLGMudGltZW91dCl9cyhjLHUpLGMucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKCl7aWYoZVtyLldQcmVmaXhdW3RoaXMuaWRdKXt2YXIgdD1uZXcgRXJyb3IoXCJKU09OUCB1c2VyIGFib3J0ZWQgcmVhZFwiKTt0LmNvZGU9MWUzLHRoaXMuX2Fib3J0KHQpfX0sYy50aW1lb3V0PTM1ZTMsYy5zY3JpcHRFcnJvclRpbWVvdXQ9MWUzLGMucHJvdG90eXBlLl9jYWxsYmFjaz1mdW5jdGlvbih0KXt0aGlzLl9jbGVhbnVwKCksdGhpcy5hYm9ydGluZ3x8KHQmJnRoaXMuZW1pdChcIm1lc3NhZ2VcIix0KSx0aGlzLmVtaXQoXCJjbG9zZVwiLG51bGwsXCJuZXR3b3JrXCIpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCkpfSxjLnByb3RvdHlwZS5fYWJvcnQ9ZnVuY3Rpb24odCl7dGhpcy5fY2xlYW51cCgpLHRoaXMuYWJvcnRpbmc9ITAsdGhpcy5lbWl0KFwiY2xvc2VcIix0LmNvZGUsdC5tZXNzYWdlKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpfSxjLnByb3RvdHlwZS5fY2xlYW51cD1mdW5jdGlvbigpe2lmKGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJZCksdGhpcy5zY3JpcHQyJiYodGhpcy5zY3JpcHQyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5zY3JpcHQyKSx0aGlzLnNjcmlwdDI9bnVsbCksdGhpcy5zY3JpcHQpe3ZhciB0PXRoaXMuc2NyaXB0O3QucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0Lm9ucmVhZHlzdGF0ZWNoYW5nZT10Lm9uZXJyb3I9dC5vbmxvYWQ9dC5vbmNsaWNrPW51bGwsdGhpcy5zY3JpcHQ9bnVsbH1kZWxldGUgZVtyLldQcmVmaXhdW3RoaXMuaWRdfSxjLnByb3RvdHlwZS5fc2NyaXB0RXJyb3I9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZXJyb3JUaW1lcnx8KHRoaXMuZXJyb3JUaW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QubG9hZGVkT2theXx8dC5fYWJvcnQobmV3IEVycm9yKFwiSlNPTlAgc2NyaXB0IGxvYWRlZCBhYm5vcm1hbGx5IChvbmVycm9yKVwiKSl9KSxjLnNjcmlwdEVycm9yVGltZW91dCkpfSxjLnByb3RvdHlwZS5fY3JlYXRlU2NyaXB0PWZ1bmN0aW9uKHQpe3ZhciBuLHI9dGhpcyxhPXRoaXMuc2NyaXB0PWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtpZihhLmlkPVwiYVwiK2kuc3RyaW5nKDgpLGEuc3JjPXQsYS50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIsYS5jaGFyc2V0PVwiVVRGLThcIixhLm9uZXJyb3I9dGhpcy5fc2NyaXB0RXJyb3IuYmluZCh0aGlzKSxhLm9ubG9hZD1mdW5jdGlvbigpe3IuX2Fib3J0KG5ldyBFcnJvcihcIkpTT05QIHNjcmlwdCBsb2FkZWQgYWJub3JtYWxseSAob25sb2FkKVwiKSl9LGEub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoYS5yZWFkeVN0YXRlLC9sb2FkZWR8Y2xvc2VkLy50ZXN0KGEucmVhZHlTdGF0ZSkpe2lmKGEmJmEuaHRtbEZvciYmYS5vbmNsaWNrKXtyLmxvYWRlZE9rYXk9ITA7dHJ5e2Eub25jbGljaygpfWNhdGNoKHQpe319YSYmci5fYWJvcnQobmV3IEVycm9yKFwiSlNPTlAgc2NyaXB0IGxvYWRlZCBhYm5vcm1hbGx5IChvbnJlYWR5c3RhdGVjaGFuZ2UpXCIpKX19LFwidW5kZWZpbmVkXCI9PT10eXBlb2YgYS5hc3luYyYmZS5kb2N1bWVudC5hdHRhY2hFdmVudClpZihvLmlzT3BlcmEoKSkobj10aGlzLnNjcmlwdDI9ZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpKS50ZXh0PVwidHJ5e3ZhciBhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1wiK2EuaWQrXCInKTsgaWYoYSlhLm9uZXJyb3IoKTt9Y2F0Y2goeCl7fTtcIixhLmFzeW5jPW4uYXN5bmM9ITE7ZWxzZXt0cnl7YS5odG1sRm9yPWEuaWQsYS5ldmVudD1cIm9uY2xpY2tcIn1jYXRjaCh0KXt9YS5hc3luYz0hMH1cInVuZGVmaW5lZFwiIT09dHlwZW9mIGEuYXN5bmMmJihhLmFzeW5jPSEwKTt2YXIgcz1lLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtzLmluc2VydEJlZm9yZShhLHMuZmlyc3RDaGlsZCksbiYmcy5pbnNlcnRCZWZvcmUobixzLmZpcnN0Q2hpbGQpfSx0LmV4cG9ydHM9Y30pLmNhbGwodGhpcyxuKDYpKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXt2YXIgcixpLG89big4MiksYT1uKDM5KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxuLHMpe3J8fCgocj1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHIuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHIubWV0aG9kPVwiUE9TVFwiLHIuZW5jdHlwZT1cImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLHIuYWNjZXB0Q2hhcnNldD1cIlVURi04XCIsKGk9ZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIikpLm5hbWU9XCJkXCIsci5hcHBlbmRDaGlsZChpKSxlLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocikpO3ZhciB1PVwiYVwiK28uc3RyaW5nKDgpO3IudGFyZ2V0PXUsci5hY3Rpb249YS5hZGRRdWVyeShhLmFkZFBhdGgodCxcIi9qc29ucF9zZW5kXCIpLFwiaT1cIit1KTt2YXIgYz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIGUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnPGlmcmFtZSBuYW1lPVwiJyt0KydcIj4nKX1jYXRjaChyKXt2YXIgbj1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7cmV0dXJuIG4ubmFtZT10LG59fSh1KTtjLmlkPXUsYy5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHIuYXBwZW5kQ2hpbGQoYyk7dHJ5e2kudmFsdWU9bn1jYXRjaCh0KXt9ci5zdWJtaXQoKTt2YXIgZj1mdW5jdGlvbih0KXtjLm9uZXJyb3ImJihjLm9ucmVhZHlzdGF0ZWNoYW5nZT1jLm9uZXJyb3I9Yy5vbmxvYWQ9bnVsbCxzZXRUaW1lb3V0KChmdW5jdGlvbigpe2MucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKSxjPW51bGx9KSw1MDApLGkudmFsdWU9XCJcIixzKHQpKX07cmV0dXJuIGMub25lcnJvcj1mdW5jdGlvbigpe2YoKX0sYy5vbmxvYWQ9ZnVuY3Rpb24oKXtmKCl9LGMub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKHQpe2MucmVhZHlTdGF0ZSxcImNvbXBsZXRlXCI9PT1jLnJlYWR5U3RhdGUmJmYoKX0sZnVuY3Rpb24oKXtmKG5ldyBFcnJvcihcIkFib3J0ZWRcIikpfX19KS5jYWxsKHRoaXMsbig2KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7bigzODQpO3ZhciByLGk9bigxMzQpLG89big1KSxhPW4oNTApLHM9big4MiksdT1uKDM4NSksYz1uKDM5KSxmPW4oNjEpLGw9bigzODYpLGg9bigxNzcpLHA9bigxMDYpLGQ9bigzODcpLHk9bigxNzgpLHY9bigyMzMpLGc9bigyNDMpLGI9bigzODgpLG09bigzODkpLHc9bigzOTApO2Z1bmN0aW9uIEUodCxlLG4pe2lmKCEodGhpcyBpbnN0YW5jZW9mIEUpKXJldHVybiBuZXcgRSh0LGUsbik7aWYoYXJndW1lbnRzLmxlbmd0aDwxKXRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdTb2NrSlM6IDEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudFwiKTt2LmNhbGwodGhpcyksdGhpcy5yZWFkeVN0YXRlPUUuQ09OTkVDVElORyx0aGlzLmV4dGVuc2lvbnM9XCJcIix0aGlzLnByb3RvY29sPVwiXCIsKG49bnx8e30pLnByb3RvY29sc193aGl0ZWxpc3QmJmQud2FybihcIidwcm90b2NvbHNfd2hpdGVsaXN0JyBpcyBERVBSRUNBVEVELiBVc2UgJ3RyYW5zcG9ydHMnIGluc3RlYWQuXCIpLHRoaXMuX3RyYW5zcG9ydHNXaGl0ZWxpc3Q9bi50cmFuc3BvcnRzLHRoaXMuX3RyYW5zcG9ydE9wdGlvbnM9bi50cmFuc3BvcnRPcHRpb25zfHx7fSx0aGlzLl90aW1lb3V0PW4udGltZW91dHx8MDt2YXIgcj1uLnNlc3Npb25JZHx8ODtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2Ygcil0aGlzLl9nZW5lcmF0ZVNlc3Npb25JZD1yO2Vsc2V7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJZiBzZXNzaW9uSWQgaXMgdXNlZCBpbiB0aGUgb3B0aW9ucywgaXQgbmVlZHMgdG8gYmUgYSBudW1iZXIgb3IgYSBmdW5jdGlvbi5cIik7dGhpcy5fZ2VuZXJhdGVTZXNzaW9uSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gcy5zdHJpbmcocil9fXRoaXMuX3NlcnZlcj1uLnNlcnZlcnx8cy5udW1iZXJTdHJpbmcoMWUzKTt2YXIgbz1uZXcgaSh0KTtpZighby5ob3N0fHwhby5wcm90b2NvbCl0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJUaGUgVVJMICdcIit0K1wiJyBpcyBpbnZhbGlkXCIpO2lmKG8uaGFzaCl0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJUaGUgVVJMIG11c3Qgbm90IGNvbnRhaW4gYSBmcmFnbWVudFwiKTtpZihcImh0dHA6XCIhPT1vLnByb3RvY29sJiZcImh0dHBzOlwiIT09by5wcm90b2NvbCl0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJUaGUgVVJMJ3Mgc2NoZW1lIG11c3QgYmUgZWl0aGVyICdodHRwOicgb3IgJ2h0dHBzOicuICdcIitvLnByb3RvY29sK1wiJyBpcyBub3QgYWxsb3dlZC5cIik7dmFyIGE9XCJodHRwczpcIj09PW8ucHJvdG9jb2w7aWYoXCJodHRwczpcIj09PWcucHJvdG9jb2wmJiFhKXRocm93IG5ldyBFcnJvcihcIlNlY3VyaXR5RXJyb3I6IEFuIGluc2VjdXJlIFNvY2tKUyBjb25uZWN0aW9uIG1heSBub3QgYmUgaW5pdGlhdGVkIGZyb20gYSBwYWdlIGxvYWRlZCBvdmVyIEhUVFBTXCIpO2U/QXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKTplPVtdO3ZhciB1PWUuc29ydCgpO3UuZm9yRWFjaCgoZnVuY3Rpb24odCxlKXtpZighdCl0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJUaGUgcHJvdG9jb2xzIGVudHJ5ICdcIit0K1wiJyBpcyBpbnZhbGlkLlwiKTtpZihlPHUubGVuZ3RoLTEmJnQ9PT11W2UrMV0pdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiVGhlIHByb3RvY29scyBlbnRyeSAnXCIrdCtcIicgaXMgZHVwbGljYXRlZC5cIil9KSk7dmFyIGY9Yy5nZXRPcmlnaW4oZy5ocmVmKTt0aGlzLl9vcmlnaW49Zj9mLnRvTG93ZXJDYXNlKCk6bnVsbCxvLnNldChcInBhdGhuYW1lXCIsby5wYXRobmFtZS5yZXBsYWNlKC9cXC8rJC8sXCJcIikpLHRoaXMudXJsPW8uaHJlZix0aGlzLnVybCx0aGlzLl91cmxJbmZvPXtudWxsT3JpZ2luOiFwLmhhc0RvbWFpbigpLHNhbWVPcmlnaW46Yy5pc09yaWdpbkVxdWFsKHRoaXMudXJsLGcuaHJlZiksc2FtZVNjaGVtZTpjLmlzU2NoZW1lRXF1YWwodGhpcy51cmwsZy5ocmVmKX0sdGhpcy5faXI9bmV3IHcodGhpcy51cmwsdGhpcy5fdXJsSW5mbyksdGhpcy5faXIub25jZShcImZpbmlzaFwiLHRoaXMuX3JlY2VpdmVJbmZvLmJpbmQodGhpcykpfWZ1bmN0aW9uIHgodCl7cmV0dXJuIDFlMz09PXR8fHQ+PTNlMyYmdDw9NDk5OX1vKEUsdiksRS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24odCxlKXtpZih0JiYheCh0KSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkQWNjZXNzRXJyb3I6IEludmFsaWQgY29kZVwiKTtpZihlJiZlLmxlbmd0aD4xMjMpdGhyb3cgbmV3IFN5bnRheEVycm9yKFwicmVhc29uIGFyZ3VtZW50IGhhcyBhbiBpbnZhbGlkIGxlbmd0aFwiKTtpZih0aGlzLnJlYWR5U3RhdGUhPT1FLkNMT1NJTkcmJnRoaXMucmVhZHlTdGF0ZSE9PUUuQ0xPU0VEKXt0aGlzLl9jbG9zZSh0fHwxZTMsZXx8XCJOb3JtYWwgY2xvc3VyZVwiLCEwKX19LEUucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIiE9PXR5cGVvZiB0JiYodD1cIlwiK3QpLHRoaXMucmVhZHlTdGF0ZT09PUUuQ09OTkVDVElORyl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkU3RhdGVFcnJvcjogVGhlIGNvbm5lY3Rpb24gaGFzIG5vdCBiZWVuIGVzdGFibGlzaGVkIHlldFwiKTt0aGlzLnJlYWR5U3RhdGU9PT1FLk9QRU4mJnRoaXMuX3RyYW5zcG9ydC5zZW5kKHUucXVvdGUodCkpfSxFLnZlcnNpb249bigyNDApLEUuQ09OTkVDVElORz0wLEUuT1BFTj0xLEUuQ0xPU0lORz0yLEUuQ0xPU0VEPTMsRS5wcm90b3R5cGUuX3JlY2VpdmVJbmZvPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5faXI9bnVsbCx0KXt0aGlzLl9ydG89dGhpcy5jb3VudFJUTyhlKSx0aGlzLl90cmFuc1VybD10LmJhc2VfdXJsP3QuYmFzZV91cmw6dGhpcy51cmwsdD1oLmV4dGVuZCh0LHRoaXMuX3VybEluZm8pO3ZhciBuPXIuZmlsdGVyVG9FbmFibGVkKHRoaXMuX3RyYW5zcG9ydHNXaGl0ZWxpc3QsdCk7dGhpcy5fdHJhbnNwb3J0cz1uLm1haW4sdGhpcy5fdHJhbnNwb3J0cy5sZW5ndGgsdGhpcy5fY29ubmVjdCgpfWVsc2UgdGhpcy5fY2xvc2UoMTAwMixcIkNhbm5vdCBjb25uZWN0IHRvIHNlcnZlclwiKX0sRS5wcm90b3R5cGUuX2Nvbm5lY3Q9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fdHJhbnNwb3J0cy5zaGlmdCgpO3Q7dD10aGlzLl90cmFuc3BvcnRzLnNoaWZ0KCkpe2lmKHQudHJhbnNwb3J0TmFtZSx0Lm5lZWRCb2R5JiYoIWUuZG9jdW1lbnQuYm9keXx8XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBlLmRvY3VtZW50LnJlYWR5U3RhdGUmJlwiY29tcGxldGVcIiE9PWUuZG9jdW1lbnQucmVhZHlTdGF0ZSYmXCJpbnRlcmFjdGl2ZVwiIT09ZS5kb2N1bWVudC5yZWFkeVN0YXRlKSlyZXR1cm4gdGhpcy5fdHJhbnNwb3J0cy51bnNoaWZ0KHQpLHZvaWQgZi5hdHRhY2hFdmVudChcImxvYWRcIix0aGlzLl9jb25uZWN0LmJpbmQodGhpcykpO3ZhciBuPU1hdGgubWF4KHRoaXMuX3RpbWVvdXQsdGhpcy5fcnRvKnQucm91bmRUcmlwc3x8NWUzKTt0aGlzLl90cmFuc3BvcnRUaW1lb3V0SWQ9c2V0VGltZW91dCh0aGlzLl90cmFuc3BvcnRUaW1lb3V0LmJpbmQodGhpcyksbik7dmFyIHI9Yy5hZGRQYXRoKHRoaXMuX3RyYW5zVXJsLFwiL1wiK3RoaXMuX3NlcnZlcitcIi9cIit0aGlzLl9nZW5lcmF0ZVNlc3Npb25JZCgpKSxpPXRoaXMuX3RyYW5zcG9ydE9wdGlvbnNbdC50cmFuc3BvcnROYW1lXSxvPW5ldyB0KHIsdGhpcy5fdHJhbnNVcmwsaSk7cmV0dXJuIG8ub24oXCJtZXNzYWdlXCIsdGhpcy5fdHJhbnNwb3J0TWVzc2FnZS5iaW5kKHRoaXMpKSxvLm9uY2UoXCJjbG9zZVwiLHRoaXMuX3RyYW5zcG9ydENsb3NlLmJpbmQodGhpcykpLG8udHJhbnNwb3J0TmFtZT10LnRyYW5zcG9ydE5hbWUsdm9pZCh0aGlzLl90cmFuc3BvcnQ9byl9dGhpcy5fY2xvc2UoMmUzLFwiQWxsIHRyYW5zcG9ydHMgZmFpbGVkXCIsITEpfSxFLnByb3RvdHlwZS5fdHJhbnNwb3J0VGltZW91dD1mdW5jdGlvbigpe3RoaXMucmVhZHlTdGF0ZT09PUUuQ09OTkVDVElORyYmKHRoaXMuX3RyYW5zcG9ydCYmdGhpcy5fdHJhbnNwb3J0LmNsb3NlKCksdGhpcy5fdHJhbnNwb3J0Q2xvc2UoMjAwNyxcIlRyYW5zcG9ydCB0aW1lZCBvdXRcIikpfSxFLnByb3RvdHlwZS5fdHJhbnNwb3J0TWVzc2FnZT1mdW5jdGlvbih0KXt2YXIgZSxuPXRoaXMscj10LnNsaWNlKDAsMSksaT10LnNsaWNlKDEpO3N3aXRjaChyKXtjYXNlXCJvXCI6cmV0dXJuIHZvaWQgdGhpcy5fb3BlbigpO2Nhc2VcImhcIjpyZXR1cm4gdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyB5KFwiaGVhcnRiZWF0XCIpKSx2b2lkIHRoaXMudHJhbnNwb3J0fWlmKGkpdHJ5e2U9YS5wYXJzZShpKX1jYXRjaCh0KXt9aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBlKXN3aXRjaChyKXtjYXNlXCJhXCI6QXJyYXkuaXNBcnJheShlKSYmZS5mb3JFYWNoKChmdW5jdGlvbih0KXtuLnRyYW5zcG9ydCxuLmRpc3BhdGNoRXZlbnQobmV3IG0odCkpfSkpO2JyZWFrO2Nhc2VcIm1cIjp0aGlzLnRyYW5zcG9ydCx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IG0oZSkpO2JyZWFrO2Nhc2VcImNcIjpBcnJheS5pc0FycmF5KGUpJiYyPT09ZS5sZW5ndGgmJnRoaXMuX2Nsb3NlKGVbMF0sZVsxXSwhMCl9fSxFLnByb3RvdHlwZS5fdHJhbnNwb3J0Q2xvc2U9ZnVuY3Rpb24odCxlKXt0aGlzLnRyYW5zcG9ydCx0aGlzLl90cmFuc3BvcnQmJih0aGlzLl90cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5fdHJhbnNwb3J0PW51bGwsdGhpcy50cmFuc3BvcnQ9bnVsbCkseCh0KXx8MmUzPT09dHx8dGhpcy5yZWFkeVN0YXRlIT09RS5DT05ORUNUSU5HP3RoaXMuX2Nsb3NlKHQsZSk6dGhpcy5fY29ubmVjdCgpfSxFLnByb3RvdHlwZS5fb3Blbj1mdW5jdGlvbigpe3RoaXMuX3RyYW5zcG9ydCYmdGhpcy5fdHJhbnNwb3J0LnRyYW5zcG9ydE5hbWUsdGhpcy5yZWFkeVN0YXRlLHRoaXMucmVhZHlTdGF0ZT09PUUuQ09OTkVDVElORz8odGhpcy5fdHJhbnNwb3J0VGltZW91dElkJiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RyYW5zcG9ydFRpbWVvdXRJZCksdGhpcy5fdHJhbnNwb3J0VGltZW91dElkPW51bGwpLHRoaXMucmVhZHlTdGF0ZT1FLk9QRU4sdGhpcy50cmFuc3BvcnQ9dGhpcy5fdHJhbnNwb3J0LnRyYW5zcG9ydE5hbWUsdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyB5KFwib3BlblwiKSksdGhpcy50cmFuc3BvcnQpOnRoaXMuX2Nsb3NlKDEwMDYsXCJTZXJ2ZXIgbG9zdCBzZXNzaW9uXCIpfSxFLnByb3RvdHlwZS5fY2xvc2U9ZnVuY3Rpb24odCxlLG4pe3RoaXMudHJhbnNwb3J0LHRoaXMucmVhZHlTdGF0ZTt2YXIgcj0hMTtpZih0aGlzLl9pciYmKHI9ITAsdGhpcy5faXIuY2xvc2UoKSx0aGlzLl9pcj1udWxsKSx0aGlzLl90cmFuc3BvcnQmJih0aGlzLl90cmFuc3BvcnQuY2xvc2UoKSx0aGlzLl90cmFuc3BvcnQ9bnVsbCx0aGlzLnRyYW5zcG9ydD1udWxsKSx0aGlzLnJlYWR5U3RhdGU9PT1FLkNMT1NFRCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkU3RhdGVFcnJvcjogU29ja0pTIGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkXCIpO3RoaXMucmVhZHlTdGF0ZT1FLkNMT1NJTkcsc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMucmVhZHlTdGF0ZT1FLkNMT1NFRCxyJiZ0aGlzLmRpc3BhdGNoRXZlbnQobmV3IHkoXCJlcnJvclwiKSk7dmFyIGk9bmV3IGIoXCJjbG9zZVwiKTtpLndhc0NsZWFuPW58fCExLGkuY29kZT10fHwxZTMsaS5yZWFzb249ZSx0aGlzLmRpc3BhdGNoRXZlbnQoaSksdGhpcy5vbm1lc3NhZ2U9dGhpcy5vbmNsb3NlPXRoaXMub25lcnJvcj1udWxsfS5iaW5kKHRoaXMpLDApfSxFLnByb3RvdHlwZS5jb3VudFJUTz1mdW5jdGlvbih0KXtyZXR1cm4gdD4xMDA/NCp0OjMwMCt0fSx0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHI9bCh0KSxuKDM5MykoRSx0KSxFfX0pLmNhbGwodGhpcyxuKDYpKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9QXJyYXkucHJvdG90eXBlLG89T2JqZWN0LnByb3RvdHlwZSxhPUZ1bmN0aW9uLnByb3RvdHlwZSxzPVN0cmluZy5wcm90b3R5cGUsdT1pLnNsaWNlLGM9by50b1N0cmluZyxmPWZ1bmN0aW9uKHQpe3JldHVyblwiW29iamVjdCBGdW5jdGlvbl1cIj09PW8udG9TdHJpbmcuY2FsbCh0KX0sbD1mdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgU3RyaW5nXVwiPT09Yy5jYWxsKHQpfSxoPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmZnVuY3Rpb24oKXt0cnl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSxcInhcIix7fSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3I9aD9mdW5jdGlvbih0LGUsbixyKXshciYmZSBpbiB0fHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCx2YWx1ZTpufSl9OmZ1bmN0aW9uKHQsZSxuLHIpeyFyJiZlIGluIHR8fCh0W2VdPW4pfTt2YXIgcD1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpIGluIGUpby5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkmJnIodCxpLGVbaV0sbil9LGQ9ZnVuY3Rpb24odCl7aWYobnVsbD09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2FuJ3QgY29udmVydCBcIit0K1wiIHRvIG9iamVjdFwiKTtyZXR1cm4gT2JqZWN0KHQpfTtmdW5jdGlvbiB5KHQpe3ZhciBlPSt0O3JldHVybiBlIT09ZT9lPTA6MCE9PWUmJmUhPT0xLzAmJmUhPT0tMS8wJiYoZT0oZT4wfHwtMSkqTWF0aC5mbG9vcihNYXRoLmFicyhlKSkpLGV9ZnVuY3Rpb24gdigpe31wKGEse2JpbmQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZighZihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgY2FsbGVkIG9uIGluY29tcGF0aWJsZSBcIitlKTtmb3IodmFyIG49dS5jYWxsKGFyZ3VtZW50cywxKSxyPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIHMpe3ZhciByPWUuYXBwbHkodGhpcyxuLmNvbmNhdCh1LmNhbGwoYXJndW1lbnRzKSkpO3JldHVybiBPYmplY3Qocik9PT1yP3I6dGhpc31yZXR1cm4gZS5hcHBseSh0LG4uY29uY2F0KHUuY2FsbChhcmd1bWVudHMpKSl9LGk9TWF0aC5tYXgoMCxlLmxlbmd0aC1uLmxlbmd0aCksbz1bXSxhPTA7YTxpO2ErKylvLnB1c2goXCIkXCIrYSk7dmFyIHM9RnVuY3Rpb24oXCJiaW5kZXJcIixcInJldHVybiBmdW5jdGlvbiAoXCIrby5qb2luKFwiLFwiKStcIil7IHJldHVybiBiaW5kZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVwiKShyKTtyZXR1cm4gZS5wcm90b3R5cGUmJih2LnByb3RvdHlwZT1lLnByb3RvdHlwZSxzLnByb3RvdHlwZT1uZXcgdix2LnByb3RvdHlwZT1udWxsKSxzfX0pLHAoQXJyYXkse2lzQXJyYXk6ZnVuY3Rpb24odCl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09Yy5jYWxsKHQpfX0pO3ZhciBnLGIsbSx3PU9iamVjdChcImFcIiksRT1cImFcIiE9PXdbMF18fCEoMCBpbiB3KTtwKGkse2ZvckVhY2g6ZnVuY3Rpb24odCl7dmFyIGU9ZCh0aGlzKSxuPUUmJmwodGhpcyk/dGhpcy5zcGxpdChcIlwiKTplLHI9YXJndW1lbnRzWzFdLGk9LTEsbz1uLmxlbmd0aD4+PjA7aWYoIWYodCkpdGhyb3cgbmV3IFR5cGVFcnJvcjtmb3IoOysraTxvOylpIGluIG4mJnQuY2FsbChyLG5baV0saSxlKX19LChnPWkuZm9yRWFjaCxiPSEwLG09ITAsZyYmKGcuY2FsbChcImZvb1wiLChmdW5jdGlvbih0LGUsbil7XCJvYmplY3RcIiE9PXR5cGVvZiBuJiYoYj0hMSl9KSksZy5jYWxsKFsxXSwoZnVuY3Rpb24oKXttPVwic3RyaW5nXCI9PT10eXBlb2YgdGhpc30pLFwieFwiKSksIShnJiZiJiZtKSkpO3ZhciB4PUFycmF5LnByb3RvdHlwZS5pbmRleE9mJiYtMSE9PVswLDFdLmluZGV4T2YoMSwyKTtwKGkse2luZGV4T2Y6ZnVuY3Rpb24odCl7dmFyIGU9RSYmbCh0aGlzKT90aGlzLnNwbGl0KFwiXCIpOmQodGhpcyksbj1lLmxlbmd0aD4+PjA7aWYoIW4pcmV0dXJuLTE7dmFyIHI9MDtmb3IoYXJndW1lbnRzLmxlbmd0aD4xJiYocj15KGFyZ3VtZW50c1sxXSkpLHI9cj49MD9yOk1hdGgubWF4KDAsbityKTtyPG47cisrKWlmKHIgaW4gZSYmZVtyXT09PXQpcmV0dXJuIHI7cmV0dXJuLTF9fSx4KTt2YXIgTyxUPXMuc3BsaXQ7MiE9PVwiYWJcIi5zcGxpdCgvKD86YWIpKi8pLmxlbmd0aHx8NCE9PVwiLlwiLnNwbGl0KC8oLj8pKC4/KS8pLmxlbmd0aHx8XCJ0XCI9PT1cInRlc3N0XCIuc3BsaXQoLyhzKSovKVsxXXx8NCE9PVwidGVzdFwiLnNwbGl0KC8oPzopLywtMSkubGVuZ3RofHxcIlwiLnNwbGl0KC8uPy8pLmxlbmd0aHx8XCIuXCIuc3BsaXQoLygpKCkvKS5sZW5ndGg+MT8oTz12b2lkIDA9PT0vKCk/Py8uZXhlYyhcIlwiKVsxXSxzLnNwbGl0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztpZih2b2lkIDA9PT10JiYwPT09ZSlyZXR1cm5bXTtpZihcIltvYmplY3QgUmVnRXhwXVwiIT09Yy5jYWxsKHQpKXJldHVybiBULmNhbGwodGhpcyx0LGUpO3ZhciByLG8sYSxzLHU9W10sZj0odC5pZ25vcmVDYXNlP1wiaVwiOlwiXCIpKyh0Lm11bHRpbGluZT9cIm1cIjpcIlwiKSsodC5leHRlbmRlZD9cInhcIjpcIlwiKSsodC5zdGlja3k/XCJ5XCI6XCJcIiksbD0wO2Zvcih0PW5ldyBSZWdFeHAodC5zb3VyY2UsZitcImdcIiksbis9XCJcIixPfHwocj1uZXcgUmVnRXhwKFwiXlwiK3Quc291cmNlK1wiJCg/IVxcXFxzKVwiLGYpKSxlPXZvaWQgMD09PWU/LTE+Pj4wOmU+Pj4wOyhvPXQuZXhlYyhuKSkmJiEoKGE9by5pbmRleCtvWzBdLmxlbmd0aCk+bCYmKHUucHVzaChuLnNsaWNlKGwsby5pbmRleCkpLCFPJiZvLmxlbmd0aD4xJiZvWzBdLnJlcGxhY2UociwoZnVuY3Rpb24oKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGgtMjt0Kyspdm9pZCAwPT09YXJndW1lbnRzW3RdJiYob1t0XT12b2lkIDApfSkpLG8ubGVuZ3RoPjEmJm8uaW5kZXg8bi5sZW5ndGgmJmkucHVzaC5hcHBseSh1LG8uc2xpY2UoMSkpLHM9b1swXS5sZW5ndGgsbD1hLHUubGVuZ3RoPj1lKSk7KXQubGFzdEluZGV4PT09by5pbmRleCYmdC5sYXN0SW5kZXgrKztyZXR1cm4gbD09PW4ubGVuZ3RoPyFzJiZ0LnRlc3QoXCJcIil8fHUucHVzaChcIlwiKTp1LnB1c2gobi5zbGljZShsKSksdS5sZW5ndGg+ZT91LnNsaWNlKDAsZSk6dX0pOlwiMFwiLnNwbGl0KHZvaWQgMCwwKS5sZW5ndGgmJihzLnNwbGl0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJjA9PT1lP1tdOlQuY2FsbCh0aGlzLHQsZSl9KTt2YXIgUz1zLnN1YnN0cixrPVwiXCIuc3Vic3RyJiZcImJcIiE9PVwiMGJcIi5zdWJzdHIoLTEpO3Aocyx7c3Vic3RyOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIFMuY2FsbCh0aGlzLHQ8MCYmKHQ9dGhpcy5sZW5ndGgrdCk8MD8wOnQsZSl9fSxrKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9big1MCksbz0vW1xceDAwLVxceDFmXFx1ZDgwMC1cXHVkZmZmXFx1ZmZmZVxcdWZmZmZcXHUwMzAwLVxcdTAzMzNcXHUwMzNkLVxcdTAzNDZcXHUwMzRhLVxcdTAzNGNcXHUwMzUwLVxcdTAzNTJcXHUwMzU3LVxcdTAzNThcXHUwMzVjLVxcdTAzNjJcXHUwMzc0XFx1MDM3ZVxcdTAzODdcXHUwNTkxLVxcdTA1YWZcXHUwNWM0XFx1MDYxMC1cXHUwNjE3XFx1MDY1My1cXHUwNjU0XFx1MDY1Ny1cXHUwNjViXFx1MDY1ZC1cXHUwNjVlXFx1MDZkZi1cXHUwNmUyXFx1MDZlYi1cXHUwNmVjXFx1MDczMFxcdTA3MzItXFx1MDczM1xcdTA3MzUtXFx1MDczNlxcdTA3M2FcXHUwNzNkXFx1MDczZi1cXHUwNzQxXFx1MDc0M1xcdTA3NDVcXHUwNzQ3XFx1MDdlYi1cXHUwN2YxXFx1MDk1MVxcdTA5NTgtXFx1MDk1ZlxcdTA5ZGMtXFx1MDlkZFxcdTA5ZGZcXHUwYTMzXFx1MGEzNlxcdTBhNTktXFx1MGE1YlxcdTBhNWVcXHUwYjVjLVxcdTBiNWRcXHUwZTM4LVxcdTBlMzlcXHUwZjQzXFx1MGY0ZFxcdTBmNTJcXHUwZjU3XFx1MGY1Y1xcdTBmNjlcXHUwZjcyLVxcdTBmNzZcXHUwZjc4XFx1MGY4MC1cXHUwZjgzXFx1MGY5M1xcdTBmOWRcXHUwZmEyXFx1MGZhN1xcdTBmYWNcXHUwZmI5XFx1MTkzOS1cXHUxOTNhXFx1MWExN1xcdTFiNmJcXHUxY2RhLVxcdTFjZGJcXHUxZGMwLVxcdTFkY2ZcXHUxZGZjXFx1MWRmZVxcdTFmNzFcXHUxZjczXFx1MWY3NVxcdTFmNzdcXHUxZjc5XFx1MWY3YlxcdTFmN2RcXHUxZmJiXFx1MWZiZVxcdTFmYzlcXHUxZmNiXFx1MWZkM1xcdTFmZGJcXHUxZmUzXFx1MWZlYlxcdTFmZWUtXFx1MWZlZlxcdTFmZjlcXHUxZmZiXFx1MWZmZFxcdTIwMDAtXFx1MjAwMVxcdTIwZDAtXFx1MjBkMVxcdTIwZDQtXFx1MjBkN1xcdTIwZTctXFx1MjBlOVxcdTIxMjZcXHUyMTJhLVxcdTIxMmJcXHUyMzI5LVxcdTIzMmFcXHUyYWRjXFx1MzAyYi1cXHUzMDJjXFx1YWFiMi1cXHVhYWIzXFx1ZjkwMC1cXHVmYTBkXFx1ZmExMFxcdWZhMTJcXHVmYTE1LVxcdWZhMWVcXHVmYTIwXFx1ZmEyMlxcdWZhMjUtXFx1ZmEyNlxcdWZhMmEtXFx1ZmEyZFxcdWZhMzAtXFx1ZmE2ZFxcdWZhNzAtXFx1ZmFkOVxcdWZiMWRcXHVmYjFmXFx1ZmIyYS1cXHVmYjM2XFx1ZmIzOC1cXHVmYjNjXFx1ZmIzZVxcdWZiNDAtXFx1ZmI0MVxcdWZiNDMtXFx1ZmI0NFxcdWZiNDYtXFx1ZmI0ZVxcdWZmZjAtXFx1ZmZmZl0vZzt0LmV4cG9ydHM9e3F1b3RlOmZ1bmN0aW9uKHQpe3ZhciBlPWkuc3RyaW5naWZ5KHQpO3JldHVybiBvLmxhc3RJbmRleD0wLG8udGVzdChlKT8ocnx8KHI9ZnVuY3Rpb24odCl7dmFyIGUsbj17fSxyPVtdO2ZvcihlPTA7ZTw2NTUzNjtlKyspci5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoZSkpO3JldHVybiB0Lmxhc3RJbmRleD0wLHIuam9pbihcIlwiKS5yZXBsYWNlKHQsKGZ1bmN0aW9uKHQpe3JldHVybiBuW3RdPVwiXFxcXHVcIisoXCIwMDAwXCIrdC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpLFwiXCJ9KSksdC5sYXN0SW5kZXg9MCxufShvKSksZS5yZXBsYWNlKG8sKGZ1bmN0aW9uKHQpe3JldHVybiByW3RdfSkpKTplfX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJue2ZpbHRlclRvRW5hYmxlZDpmdW5jdGlvbihlLG4pe3ZhciByPXttYWluOltdLGZhY2FkZTpbXX07cmV0dXJuIGU/XCJzdHJpbmdcIj09PXR5cGVvZiBlJiYoZT1bZV0pOmU9W10sdC5mb3JFYWNoKChmdW5jdGlvbih0KXt0JiYoXCJ3ZWJzb2NrZXRcIj09PXQudHJhbnNwb3J0TmFtZSYmITE9PT1uLndlYnNvY2tldHx8KGUubGVuZ3RoJiYtMT09PWUuaW5kZXhPZih0LnRyYW5zcG9ydE5hbWUpP3QudHJhbnNwb3J0TmFtZTp0LmVuYWJsZWQobik/KHQudHJhbnNwb3J0TmFtZSxyLm1haW4ucHVzaCh0KSx0LmZhY2FkZVRyYW5zcG9ydCYmci5mYWNhZGUucHVzaCh0LmZhY2FkZVRyYW5zcG9ydCkpOnQudHJhbnNwb3J0TmFtZSkpfSkpLHJ9fX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7dmFyIG49e307W1wibG9nXCIsXCJkZWJ1Z1wiLFwid2FyblwiXS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcjt0cnl7cj1lLmNvbnNvbGUmJmUuY29uc29sZVt0XSYmZS5jb25zb2xlW3RdLmFwcGx5fWNhdGNoKHQpe31uW3RdPXI/ZnVuY3Rpb24oKXtyZXR1cm4gZS5jb25zb2xlW3RdLmFwcGx5KGUuY29uc29sZSxhcmd1bWVudHMpfTpcImxvZ1wiPT09dD9mdW5jdGlvbigpe306bi5sb2d9KSksdC5leHBvcnRzPW59KS5jYWxsKHRoaXMsbig2KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDUpLGk9bigxNzgpO2Z1bmN0aW9uIG8oKXtpLmNhbGwodGhpcyksdGhpcy5pbml0RXZlbnQoXCJjbG9zZVwiLCExLCExKSx0aGlzLndhc0NsZWFuPSExLHRoaXMuY29kZT0wLHRoaXMucmVhc29uPVwiXCJ9cihvLGkpLHQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big1KSxpPW4oMTc4KTtmdW5jdGlvbiBvKHQpe2kuY2FsbCh0aGlzKSx0aGlzLmluaXRFdmVudChcIm1lc3NhZ2VcIiwhMSwhMSksdGhpcy5kYXRhPXR9cihvLGkpLHQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyOSkuRXZlbnRFbWl0dGVyLGk9big1KSxvPW4oMzkpLGE9bigxNzUpLHM9bigxMzEpLHU9bigxMDUpLGM9bigzOTEpLGY9bigzOTIpLGw9bigyNDUpO2Z1bmN0aW9uIGgodCxlKXt2YXIgbj10aGlzO3IuY2FsbCh0aGlzKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe24uZG9YaHIodCxlKX0pLDApfWkoaCxyKSxoLl9nZXRSZWNlaXZlcj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG4uc2FtZU9yaWdpbj9uZXcgbChlLHUpOnMuZW5hYmxlZD9uZXcgbChlLHMpOmEuZW5hYmxlZCYmbi5zYW1lU2NoZW1lP25ldyBsKGUsYSk6Zi5lbmFibGVkKCk/bmV3IGYodCxlKTpuZXcgbChlLGMpfSxoLnByb3RvdHlwZS5kb1hocj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1vLmFkZFBhdGgodCxcIi9pbmZvXCIpO3RoaXMueG89aC5fZ2V0UmVjZWl2ZXIodCxyLGUpLHRoaXMudGltZW91dFJlZj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe24uX2NsZWFudXAoITEpLG4uZW1pdChcImZpbmlzaFwiKX0pLGgudGltZW91dCksdGhpcy54by5vbmNlKFwiZmluaXNoXCIsKGZ1bmN0aW9uKHQsZSl7bi5fY2xlYW51cCghMCksbi5lbWl0KFwiZmluaXNoXCIsdCxlKX0pKX0saC5wcm90b3R5cGUuX2NsZWFudXA9ZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHRoaXMudGltZW91dFJlZiksdGhpcy50aW1lb3V0UmVmPW51bGwsIXQmJnRoaXMueG8mJnRoaXMueG8uY2xvc2UoKSx0aGlzLnhvPW51bGx9LGgucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLl9jbGVhbnVwKCExKX0saC50aW1lb3V0PThlMyx0LmV4cG9ydHM9aH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMjkpLkV2ZW50RW1pdHRlcjtmdW5jdGlvbiBpKCl7dmFyIHQ9dGhpcztyLmNhbGwodGhpcyksdGhpcy50bz1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuZW1pdChcImZpbmlzaFwiLDIwMCxcInt9XCIpfSksaS50aW1lb3V0KX1uKDUpKGksciksaS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy50byl9LGkudGltZW91dD0yZTMsdC5leHBvcnRzPWl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7dmFyIHI9bigyOSkuRXZlbnRFbWl0dGVyLGk9big1KSxvPW4oNTApLGE9big2MSkscz1uKDIzOSksdT1uKDI0NCk7ZnVuY3Rpb24gYyh0LG4pe3ZhciBpPXRoaXM7ci5jYWxsKHRoaXMpO3ZhciBjPWZ1bmN0aW9uKCl7dmFyIGU9aS5pZnI9bmV3IHModS50cmFuc3BvcnROYW1lLG4sdCk7ZS5vbmNlKFwibWVzc2FnZVwiLChmdW5jdGlvbih0KXtpZih0KXt2YXIgZTt0cnl7ZT1vLnBhcnNlKHQpfWNhdGNoKHQpe3JldHVybiBpLmVtaXQoXCJmaW5pc2hcIiksdm9pZCBpLmNsb3NlKCl9dmFyIG49ZVswXSxyPWVbMV07aS5lbWl0KFwiZmluaXNoXCIsbixyKX1pLmNsb3NlKCl9KSksZS5vbmNlKFwiY2xvc2VcIiwoZnVuY3Rpb24oKXtpLmVtaXQoXCJmaW5pc2hcIiksaS5jbG9zZSgpfSkpfTtlLmRvY3VtZW50LmJvZHk/YygpOmEuYXR0YWNoRXZlbnQoXCJsb2FkXCIsYyl9aShjLHIpLGMuZW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiBzLmVuYWJsZWQoKX0sYy5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLmlmciYmdGhpcy5pZnIuY2xvc2UoKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMuaWZyPW51bGx9LHQuZXhwb3J0cz1jfSkuY2FsbCh0aGlzLG4oNikpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigzOSksaT1uKDYxKSxvPW4oNTApLGE9bigzOTQpLHM9bigyNDQpLHU9bigxMDcpLGM9bigyNDMpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLGY9e307ZS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmZhY2FkZVRyYW5zcG9ydCYmKGZbdC5mYWNhZGVUcmFuc3BvcnQudHJhbnNwb3J0TmFtZV09dC5mYWNhZGVUcmFuc3BvcnQpfSkpLGZbcy50cmFuc3BvcnROYW1lXT1zLHQuYm9vdHN0cmFwX2lmcmFtZT1mdW5jdGlvbigpe3ZhciBlO3UuY3VycmVudFdpbmRvd0lkPWMuaGFzaC5zbGljZSgxKTtpLmF0dGFjaEV2ZW50KFwibWVzc2FnZVwiLChmdW5jdGlvbihpKXtpZihpLnNvdXJjZT09PXBhcmVudCYmKFwidW5kZWZpbmVkXCI9PT10eXBlb2YgbiYmKG49aS5vcmlnaW4pLGkub3JpZ2luPT09bikpe3ZhciBzO3RyeXtzPW8ucGFyc2UoaS5kYXRhKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBpLmRhdGF9aWYocy53aW5kb3dJZD09PXUuY3VycmVudFdpbmRvd0lkKXN3aXRjaChzLnR5cGUpe2Nhc2VcInNcIjp2YXIgbDt0cnl7bD1vLnBhcnNlKHMuZGF0YSl9Y2F0Y2godCl7cy5kYXRhO2JyZWFrfXZhciBoPWxbMF0scD1sWzFdLGQ9bFsyXSx5PWxbM107aWYoaCE9PXQudmVyc2lvbil0aHJvdyBuZXcgRXJyb3IoJ0luY29tcGF0aWJsZSBTb2NrSlMhIE1haW4gc2l0ZSB1c2VzOiBcIicraCsnXCIsIHRoZSBpZnJhbWU6IFwiJyt0LnZlcnNpb24rJ1wiLicpO2lmKCFyLmlzT3JpZ2luRXF1YWwoZCxjLmhyZWYpfHwhci5pc09yaWdpbkVxdWFsKHksYy5ocmVmKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBjb25uZWN0IHRvIGRpZmZlcmVudCBkb21haW4gZnJvbSB3aXRoaW4gYW4gaWZyYW1lLiAoXCIrYy5ocmVmK1wiLCBcIitkK1wiLCBcIit5K1wiKVwiKTtlPW5ldyBhKG5ldyBmW3BdKGQseSkpO2JyZWFrO2Nhc2VcIm1cIjplLl9zZW5kKHMuZGF0YSk7YnJlYWs7Y2FzZVwiY1wiOmUmJmUuX2Nsb3NlKCksZT1udWxsfX19KSksdS5wb3N0TWVzc2FnZShcInNcIil9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oNTApLGk9bigxMDcpO2Z1bmN0aW9uIG8odCl7dGhpcy5fdHJhbnNwb3J0PXQsdC5vbihcIm1lc3NhZ2VcIix0aGlzLl90cmFuc3BvcnRNZXNzYWdlLmJpbmQodGhpcykpLHQub24oXCJjbG9zZVwiLHRoaXMuX3RyYW5zcG9ydENsb3NlLmJpbmQodGhpcykpfW8ucHJvdG90eXBlLl90cmFuc3BvcnRDbG9zZT1mdW5jdGlvbih0LGUpe2kucG9zdE1lc3NhZ2UoXCJjXCIsci5zdHJpbmdpZnkoW3QsZV0pKX0sby5wcm90b3R5cGUuX3RyYW5zcG9ydE1lc3NhZ2U9ZnVuY3Rpb24odCl7aS5wb3N0TWVzc2FnZShcInRcIix0KX0sby5wcm90b3R5cGUuX3NlbmQ9ZnVuY3Rpb24odCl7dGhpcy5fdHJhbnNwb3J0LnNlbmQodCl9LG8ucHJvdG90eXBlLl9jbG9zZT1mdW5jdGlvbigpe3RoaXMuX3RyYW5zcG9ydC5jbG9zZSgpLHRoaXMuX3RyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKX0sdC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDIpLGk9big0KSxvPW4oMTc5KSxhPW4oMTE0KSxzPW8uQXJyYXlCdWZmZXI7cih7Z2xvYmFsOiEwLGZvcmNlZDppLkFycmF5QnVmZmVyIT09c30se0FycmF5QnVmZmVyOnN9KSxhKFwiQXJyYXlCdWZmZXJcIil9LGZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5hYnMscj1NYXRoLnBvdyxpPU1hdGguZmxvb3Isbz1NYXRoLmxvZyxhPU1hdGguTE4yO3QuZXhwb3J0cz17cGFjazpmdW5jdGlvbih0LGUscyl7dmFyIHUsYyxmLGw9bmV3IEFycmF5KHMpLGg9OCpzLWUtMSxwPSgxPDxoKS0xLGQ9cD4+MSx5PTIzPT09ZT9yKDIsLTI0KS1yKDIsLTc3KTowLHY9dDwwfHwwPT09dCYmMS90PDA/MTowLGc9MDtmb3IoKHQ9bih0KSkhPXR8fHQ9PT0xLzA/KGM9dCE9dD8xOjAsdT1wKToodT1pKG8odCkvYSksdCooZj1yKDIsLXUpKTwxJiYodS0tLGYqPTIpLCh0Kz11K2Q+PTE/eS9mOnkqcigyLDEtZCkpKmY+PTImJih1KyssZi89MiksdStkPj1wPyhjPTAsdT1wKTp1K2Q+PTE/KGM9KHQqZi0xKSpyKDIsZSksdSs9ZCk6KGM9dCpyKDIsZC0xKSpyKDIsZSksdT0wKSk7ZT49ODtsW2crK109MjU1JmMsYy89MjU2LGUtPTgpO2Zvcih1PXU8PGV8YyxoKz1lO2g+MDtsW2crK109MjU1JnUsdS89MjU2LGgtPTgpO3JldHVybiBsWy0tZ118PTEyOCp2LGx9LHVucGFjazpmdW5jdGlvbih0LGUpe3ZhciBuLGk9dC5sZW5ndGgsbz04KmktZS0xLGE9KDE8PG8pLTEscz1hPj4xLHU9by03LGM9aS0xLGY9dFtjLS1dLGw9MTI3JmY7Zm9yKGY+Pj03O3U+MDtsPTI1NipsK3RbY10sYy0tLHUtPTgpO2ZvcihuPWwmKDE8PC11KS0xLGw+Pj0tdSx1Kz1lO3U+MDtuPTI1NipuK3RbY10sYy0tLHUtPTgpO2lmKDA9PT1sKWw9MS1zO2Vsc2V7aWYobD09PWEpcmV0dXJuIG4/TmFOOmY/LTEvMDoxLzA7bis9cigyLGUpLGwtPXN9cmV0dXJuKGY/LTE6MSkqbipyKDIsbC1lKX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHIsaSxvO2k9W10sdm9pZCAwPT09KG89XCJmdW5jdGlvblwiPT09dHlwZW9mKHI9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLmxvdz0wfHQsdGhpcy5oaWdoPTB8ZSx0aGlzLnVuc2lnbmVkPSEhbn1mdW5jdGlvbiBlKHQpe3JldHVybiEwPT09KHQmJnQuX19pc0xvbmdfXyl9dC5wcm90b3R5cGUuX19pc0xvbmdfXyxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJfX2lzTG9uZ19fXCIse3ZhbHVlOiEwLGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiExfSksdC5pc0xvbmc9ZTt2YXIgbj17fSxyPXt9O2Z1bmN0aW9uIGkodCxlKXt2YXIgaSxvLHM7cmV0dXJuIGU/KHM9MDw9KHQ+Pj49MCkmJnQ8MjU2KSYmKG89clt0XSk/bzooaT1hKHQsKDB8dCk8MD8tMTowLCEwKSxzJiYoclt0XT1pKSxpKToocz0tMTI4PD0odHw9MCkmJnQ8MTI4KSYmKG89blt0XSk/bzooaT1hKHQsdDwwPy0xOjAsITEpLHMmJihuW3RdPWkpLGkpfWZ1bmN0aW9uIG8odCxlKXtpZihpc05hTih0KXx8IWlzRmluaXRlKHQpKXJldHVybiBlP3k6ZDtpZihlKXtpZih0PDApcmV0dXJuIHk7aWYodD49bClyZXR1cm4gd31lbHNle2lmKHQ8PS1oKXJldHVybiBFO2lmKHQrMT49aClyZXR1cm4gbX1yZXR1cm4gdDwwP28oLXQsZSkubmVnKCk6YSh0JWZ8MCx0L2Z8MCxlKX1mdW5jdGlvbiBhKGUsbixyKXtyZXR1cm4gbmV3IHQoZSxuLHIpfXQuZnJvbUludD1pLHQuZnJvbU51bWJlcj1vLHQuZnJvbUJpdHM9YTt2YXIgcz1NYXRoLnBvdztmdW5jdGlvbiB1KHQsZSxuKXtpZigwPT09dC5sZW5ndGgpdGhyb3cgRXJyb3IoXCJlbXB0eSBzdHJpbmdcIik7aWYoXCJOYU5cIj09PXR8fFwiSW5maW5pdHlcIj09PXR8fFwiK0luZmluaXR5XCI9PT10fHxcIi1JbmZpbml0eVwiPT09dClyZXR1cm4gZDtpZihcIm51bWJlclwiPT09dHlwZW9mIGU/KG49ZSxlPSExKTplPSEhZSwobj1ufHwxMCk8Mnx8MzY8bil0aHJvdyBSYW5nZUVycm9yKFwicmFkaXhcIik7dmFyIHI7aWYoKHI9dC5pbmRleE9mKFwiLVwiKSk+MCl0aHJvdyBFcnJvcihcImludGVyaW9yIGh5cGhlblwiKTtpZigwPT09cilyZXR1cm4gdSh0LnN1YnN0cmluZygxKSxlLG4pLm5lZygpO2Zvcih2YXIgaT1vKHMobiw4KSksYT1kLGM9MDtjPHQubGVuZ3RoO2MrPTgpe3ZhciBmPU1hdGgubWluKDgsdC5sZW5ndGgtYyksbD1wYXJzZUludCh0LnN1YnN0cmluZyhjLGMrZiksbik7aWYoZjw4KXt2YXIgaD1vKHMobixmKSk7YT1hLm11bChoKS5hZGQobyhsKSl9ZWxzZSBhPShhPWEubXVsKGkpKS5hZGQobyhsKSl9cmV0dXJuIGEudW5zaWduZWQ9ZSxhfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0P2U6XCJudW1iZXJcIj09PXR5cGVvZiBlP28oZSk6XCJzdHJpbmdcIj09PXR5cGVvZiBlP3UoZSk6YShlLmxvdyxlLmhpZ2gsZS51bnNpZ25lZCl9dC5mcm9tU3RyaW5nPXUsdC5mcm9tVmFsdWU9Yzt2YXIgZj00Mjk0OTY3Mjk2LGw9ZipmLGg9bC8yLHA9aSgxPDwyNCksZD1pKDApO3QuWkVSTz1kO3ZhciB5PWkoMCwhMCk7dC5VWkVSTz15O3ZhciB2PWkoMSk7dC5PTkU9djt2YXIgZz1pKDEsITApO3QuVU9ORT1nO3ZhciBiPWkoLTEpO3QuTkVHX09ORT1iO3ZhciBtPWEoLTEsMjE0NzQ4MzY0NywhMSk7dC5NQVhfVkFMVUU9bTt2YXIgdz1hKC0xLC0xLCEwKTt0Lk1BWF9VTlNJR05FRF9WQUxVRT13O3ZhciBFPWEoMCwtMjE0NzQ4MzY0OCwhMSk7dC5NSU5fVkFMVUU9RTt2YXIgeD10LnByb3RvdHlwZTtyZXR1cm4geC50b0ludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVuc2lnbmVkP3RoaXMubG93Pj4+MDp0aGlzLmxvd30seC50b051bWJlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVuc2lnbmVkPyh0aGlzLmhpZ2g+Pj4wKSpmKyh0aGlzLmxvdz4+PjApOnRoaXMuaGlnaCpmKyh0aGlzLmxvdz4+PjApfSx4LnRvU3RyaW5nPWZ1bmN0aW9uKHQpe2lmKCh0PXR8fDEwKTwyfHwzNjx0KXRocm93IFJhbmdlRXJyb3IoXCJyYWRpeFwiKTtpZih0aGlzLmlzWmVybygpKXJldHVyblwiMFwiO2lmKHRoaXMuaXNOZWdhdGl2ZSgpKXtpZih0aGlzLmVxKEUpKXt2YXIgZT1vKHQpLG49dGhpcy5kaXYoZSkscj1uLm11bChlKS5zdWIodGhpcyk7cmV0dXJuIG4udG9TdHJpbmcodCkrci50b0ludCgpLnRvU3RyaW5nKHQpfXJldHVyblwiLVwiK3RoaXMubmVnKCkudG9TdHJpbmcodCl9Zm9yKHZhciBpPW8ocyh0LDYpLHRoaXMudW5zaWduZWQpLGE9dGhpcyx1PVwiXCI7Oyl7dmFyIGM9YS5kaXYoaSksZj0oYS5zdWIoYy5tdWwoaSkpLnRvSW50KCk+Pj4wKS50b1N0cmluZyh0KTtpZigoYT1jKS5pc1plcm8oKSlyZXR1cm4gZit1O2Zvcig7Zi5sZW5ndGg8NjspZj1cIjBcIitmO3U9XCJcIitmK3V9fSx4LmdldEhpZ2hCaXRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGlnaH0seC5nZXRIaWdoQml0c1Vuc2lnbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGlnaD4+PjB9LHguZ2V0TG93Qml0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvd30seC5nZXRMb3dCaXRzVW5zaWduZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb3c+Pj4wfSx4LmdldE51bUJpdHNBYnM9ZnVuY3Rpb24oKXtpZih0aGlzLmlzTmVnYXRpdmUoKSlyZXR1cm4gdGhpcy5lcShFKT82NDp0aGlzLm5lZygpLmdldE51bUJpdHNBYnMoKTtmb3IodmFyIHQ9MCE9dGhpcy5oaWdoP3RoaXMuaGlnaDp0aGlzLmxvdyxlPTMxO2U+MCYmMD09KHQmMTw8ZSk7ZS0tKTtyZXR1cm4gMCE9dGhpcy5oaWdoP2UrMzM6ZSsxfSx4LmlzWmVybz1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5oaWdoJiYwPT09dGhpcy5sb3d9LHguaXNOZWdhdGl2ZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLnVuc2lnbmVkJiZ0aGlzLmhpZ2g8MH0seC5pc1Bvc2l0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5zaWduZWR8fHRoaXMuaGlnaD49MH0seC5pc09kZD1mdW5jdGlvbigpe3JldHVybiAxPT09KDEmdGhpcy5sb3cpfSx4LmlzRXZlbj1mdW5jdGlvbigpe3JldHVybiAwPT09KDEmdGhpcy5sb3cpfSx4LmVxdWFscz1mdW5jdGlvbih0KXtyZXR1cm4gZSh0KXx8KHQ9Yyh0KSksKHRoaXMudW5zaWduZWQ9PT10LnVuc2lnbmVkfHx0aGlzLmhpZ2g+Pj4zMSE9PTF8fHQuaGlnaD4+PjMxIT09MSkmJnRoaXMuaGlnaD09PXQuaGlnaCYmdGhpcy5sb3c9PT10Lmxvd30seC5lcT14LmVxdWFscyx4Lm5vdEVxdWFscz1mdW5jdGlvbih0KXtyZXR1cm4hdGhpcy5lcSh0KX0seC5uZXE9eC5ub3RFcXVhbHMseC5sZXNzVGhhbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wKHQpPDB9LHgubHQ9eC5sZXNzVGhhbix4Lmxlc3NUaGFuT3JFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wKHQpPD0wfSx4Lmx0ZT14Lmxlc3NUaGFuT3JFcXVhbCx4LmdyZWF0ZXJUaGFuPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbXAodCk+MH0seC5ndD14LmdyZWF0ZXJUaGFuLHguZ3JlYXRlclRoYW5PckVxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbXAodCk+PTB9LHguZ3RlPXguZ3JlYXRlclRoYW5PckVxdWFsLHguY29tcGFyZT1mdW5jdGlvbih0KXtpZihlKHQpfHwodD1jKHQpKSx0aGlzLmVxKHQpKXJldHVybiAwO3ZhciBuPXRoaXMuaXNOZWdhdGl2ZSgpLHI9dC5pc05lZ2F0aXZlKCk7cmV0dXJuIG4mJiFyPy0xOiFuJiZyPzE6dGhpcy51bnNpZ25lZD90LmhpZ2g+Pj4wPnRoaXMuaGlnaD4+PjB8fHQuaGlnaD09PXRoaXMuaGlnaCYmdC5sb3c+Pj4wPnRoaXMubG93Pj4+MD8tMToxOnRoaXMuc3ViKHQpLmlzTmVnYXRpdmUoKT8tMToxfSx4LmNvbXA9eC5jb21wYXJlLHgubmVnYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMudW5zaWduZWQmJnRoaXMuZXEoRSk/RTp0aGlzLm5vdCgpLmFkZCh2KX0seC5uZWc9eC5uZWdhdGUseC5hZGQ9ZnVuY3Rpb24odCl7ZSh0KXx8KHQ9Yyh0KSk7dmFyIG49dGhpcy5oaWdoPj4+MTYscj02NTUzNSZ0aGlzLmhpZ2gsaT10aGlzLmxvdz4+PjE2LG89NjU1MzUmdGhpcy5sb3cscz10LmhpZ2g+Pj4xNix1PTY1NTM1JnQuaGlnaCxmPXQubG93Pj4+MTYsbD0wLGg9MCxwPTAsZD0wO3JldHVybiBwKz0oZCs9bysoNjU1MzUmdC5sb3cpKT4+PjE2LGgrPShwKz1pK2YpPj4+MTYsbCs9KGgrPXIrdSk+Pj4xNixsKz1uK3MsYSgocCY9NjU1MzUpPDwxNnwoZCY9NjU1MzUpLChsJj02NTUzNSk8PDE2fChoJj02NTUzNSksdGhpcy51bnNpZ25lZCl9LHguc3VidHJhY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIGUodCl8fCh0PWModCkpLHRoaXMuYWRkKHQubmVnKCkpfSx4LnN1Yj14LnN1YnRyYWN0LHgubXVsdGlwbHk9ZnVuY3Rpb24odCl7aWYodGhpcy5pc1plcm8oKSlyZXR1cm4gZDtpZihlKHQpfHwodD1jKHQpKSx0LmlzWmVybygpKXJldHVybiBkO2lmKHRoaXMuZXEoRSkpcmV0dXJuIHQuaXNPZGQoKT9FOmQ7aWYodC5lcShFKSlyZXR1cm4gdGhpcy5pc09kZCgpP0U6ZDtpZih0aGlzLmlzTmVnYXRpdmUoKSlyZXR1cm4gdC5pc05lZ2F0aXZlKCk/dGhpcy5uZWcoKS5tdWwodC5uZWcoKSk6dGhpcy5uZWcoKS5tdWwodCkubmVnKCk7aWYodC5pc05lZ2F0aXZlKCkpcmV0dXJuIHRoaXMubXVsKHQubmVnKCkpLm5lZygpO2lmKHRoaXMubHQocCkmJnQubHQocCkpcmV0dXJuIG8odGhpcy50b051bWJlcigpKnQudG9OdW1iZXIoKSx0aGlzLnVuc2lnbmVkKTt2YXIgbj10aGlzLmhpZ2g+Pj4xNixyPTY1NTM1JnRoaXMuaGlnaCxpPXRoaXMubG93Pj4+MTYscz02NTUzNSZ0aGlzLmxvdyx1PXQuaGlnaD4+PjE2LGY9NjU1MzUmdC5oaWdoLGw9dC5sb3c+Pj4xNixoPTY1NTM1JnQubG93LHk9MCx2PTAsZz0wLGI9MDtyZXR1cm4gZys9KGIrPXMqaCk+Pj4xNix2Kz0oZys9aSpoKT4+PjE2LGcmPTY1NTM1LHYrPShnKz1zKmwpPj4+MTYseSs9KHYrPXIqaCk+Pj4xNix2Jj02NTUzNSx5Kz0odis9aSpsKT4+PjE2LHYmPTY1NTM1LHkrPSh2Kz1zKmYpPj4+MTYseSs9bipoK3IqbCtpKmYrcyp1LGEoKGcmPTY1NTM1KTw8MTZ8KGImPTY1NTM1KSwoeSY9NjU1MzUpPDwxNnwodiY9NjU1MzUpLHRoaXMudW5zaWduZWQpfSx4Lm11bD14Lm11bHRpcGx5LHguZGl2aWRlPWZ1bmN0aW9uKHQpe2lmKGUodCl8fCh0PWModCkpLHQuaXNaZXJvKCkpdGhyb3cgRXJyb3IoXCJkaXZpc2lvbiBieSB6ZXJvXCIpO2lmKHRoaXMuaXNaZXJvKCkpcmV0dXJuIHRoaXMudW5zaWduZWQ/eTpkO3ZhciBuLHIsaTtpZih0aGlzLnVuc2lnbmVkKXtpZih0LnVuc2lnbmVkfHwodD10LnRvVW5zaWduZWQoKSksdC5ndCh0aGlzKSlyZXR1cm4geTtpZih0Lmd0KHRoaXMuc2hydSgxKSkpcmV0dXJuIGc7aT15fWVsc2V7aWYodGhpcy5lcShFKSlyZXR1cm4gdC5lcSh2KXx8dC5lcShiKT9FOnQuZXEoRSk/djoobj10aGlzLnNocigxKS5kaXYodCkuc2hsKDEpKS5lcShkKT90LmlzTmVnYXRpdmUoKT92OmI6KHI9dGhpcy5zdWIodC5tdWwobikpLGk9bi5hZGQoci5kaXYodCkpKTtpZih0LmVxKEUpKXJldHVybiB0aGlzLnVuc2lnbmVkP3k6ZDtpZih0aGlzLmlzTmVnYXRpdmUoKSlyZXR1cm4gdC5pc05lZ2F0aXZlKCk/dGhpcy5uZWcoKS5kaXYodC5uZWcoKSk6dGhpcy5uZWcoKS5kaXYodCkubmVnKCk7aWYodC5pc05lZ2F0aXZlKCkpcmV0dXJuIHRoaXMuZGl2KHQubmVnKCkpLm5lZygpO2k9ZH1mb3Iocj10aGlzO3IuZ3RlKHQpOyl7bj1NYXRoLm1heCgxLE1hdGguZmxvb3Ioci50b051bWJlcigpL3QudG9OdW1iZXIoKSkpO2Zvcih2YXIgYT1NYXRoLmNlaWwoTWF0aC5sb2cobikvTWF0aC5MTjIpLHU9YTw9NDg/MTpzKDIsYS00OCksZj1vKG4pLGw9Zi5tdWwodCk7bC5pc05lZ2F0aXZlKCl8fGwuZ3Qocik7KWw9KGY9byhuLT11LHRoaXMudW5zaWduZWQpKS5tdWwodCk7Zi5pc1plcm8oKSYmKGY9diksaT1pLmFkZChmKSxyPXIuc3ViKGwpfXJldHVybiBpfSx4LmRpdj14LmRpdmlkZSx4Lm1vZHVsbz1mdW5jdGlvbih0KXtyZXR1cm4gZSh0KXx8KHQ9Yyh0KSksdGhpcy5zdWIodGhpcy5kaXYodCkubXVsKHQpKX0seC5tb2Q9eC5tb2R1bG8seC5ub3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYSh+dGhpcy5sb3csfnRoaXMuaGlnaCx0aGlzLnVuc2lnbmVkKX0seC5hbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIGUodCl8fCh0PWModCkpLGEodGhpcy5sb3cmdC5sb3csdGhpcy5oaWdoJnQuaGlnaCx0aGlzLnVuc2lnbmVkKX0seC5vcj1mdW5jdGlvbih0KXtyZXR1cm4gZSh0KXx8KHQ9Yyh0KSksYSh0aGlzLmxvd3x0Lmxvdyx0aGlzLmhpZ2h8dC5oaWdoLHRoaXMudW5zaWduZWQpfSx4Lnhvcj1mdW5jdGlvbih0KXtyZXR1cm4gZSh0KXx8KHQ9Yyh0KSksYSh0aGlzLmxvd150Lmxvdyx0aGlzLmhpZ2hedC5oaWdoLHRoaXMudW5zaWduZWQpfSx4LnNoaWZ0TGVmdD1mdW5jdGlvbih0KXtyZXR1cm4gZSh0KSYmKHQ9dC50b0ludCgpKSwwPT09KHQmPTYzKT90aGlzOnQ8MzI/YSh0aGlzLmxvdzw8dCx0aGlzLmhpZ2g8PHR8dGhpcy5sb3c+Pj4zMi10LHRoaXMudW5zaWduZWQpOmEoMCx0aGlzLmxvdzw8dC0zMix0aGlzLnVuc2lnbmVkKX0seC5zaGw9eC5zaGlmdExlZnQseC5zaGlmdFJpZ2h0PWZ1bmN0aW9uKHQpe3JldHVybiBlKHQpJiYodD10LnRvSW50KCkpLDA9PT0odCY9NjMpP3RoaXM6dDwzMj9hKHRoaXMubG93Pj4+dHx0aGlzLmhpZ2g8PDMyLXQsdGhpcy5oaWdoPj50LHRoaXMudW5zaWduZWQpOmEodGhpcy5oaWdoPj50LTMyLHRoaXMuaGlnaD49MD8wOi0xLHRoaXMudW5zaWduZWQpfSx4LnNocj14LnNoaWZ0UmlnaHQseC5zaGlmdFJpZ2h0VW5zaWduZWQ9ZnVuY3Rpb24odCl7aWYoZSh0KSYmKHQ9dC50b0ludCgpKSwwPT09KHQmPTYzKSlyZXR1cm4gdGhpczt2YXIgbj10aGlzLmhpZ2g7cmV0dXJuIHQ8MzI/YSh0aGlzLmxvdz4+PnR8bjw8MzItdCxuPj4+dCx0aGlzLnVuc2lnbmVkKTphKDMyPT09dD9uOm4+Pj50LTMyLDAsdGhpcy51bnNpZ25lZCl9LHguc2hydT14LnNoaWZ0UmlnaHRVbnNpZ25lZCx4LnRvU2lnbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5zaWduZWQ/YSh0aGlzLmxvdyx0aGlzLmhpZ2gsITEpOnRoaXN9LHgudG9VbnNpZ25lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVuc2lnbmVkP3RoaXM6YSh0aGlzLmxvdyx0aGlzLmhpZ2gsITApfSx4LnRvQnl0ZXM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dGhpcy50b0J5dGVzTEUoKTp0aGlzLnRvQnl0ZXNCRSgpfSx4LnRvQnl0ZXNMRT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuaGlnaCxlPXRoaXMubG93O3JldHVyblsyNTUmZSxlPj4+OCYyNTUsZT4+PjE2JjI1NSxlPj4+MjQmMjU1LDI1NSZ0LHQ+Pj44JjI1NSx0Pj4+MTYmMjU1LHQ+Pj4yNCYyNTVdfSx4LnRvQnl0ZXNCRT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuaGlnaCxlPXRoaXMubG93O3JldHVyblt0Pj4+MjQmMjU1LHQ+Pj4xNiYyNTUsdD4+PjgmMjU1LDI1NSZ0LGU+Pj4yNCYyNTUsZT4+PjE2JjI1NSxlPj4+OCYyNTUsMjU1JmVdfSx0fSk/ci5hcHBseShlLGkpOnIpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsbil7bigzOTkpKFwiVWludDhcIiwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdCh0aGlzLGUsbixyKX19KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDIpLGk9big0KSxvPW4oMTYpLGE9big0MDApLHM9big4KSx1PW4oMTc5KSxjPW4oNjkpLGY9big2NCksbD1uKDM1KSxoPW4oMjApLHA9bigyNDcpLGQ9bigyNTApLHk9big5Miksdj1uKDE5KSxnPW4oOTkpLGI9bigxMSksbT1uKDY2KSx3PW4oOTgpLEU9big5NSkuZix4PW4oNDAyKSxPPW4oMzcpLmZvckVhY2gsVD1uKDExNCksUz1uKDI0KSxrPW4oNTUpLF89big0NCksaj1uKDIzMiksQT1fLmdldCxJPV8uc2V0LEM9Uy5mLFA9ay5mLFI9TWF0aC5yb3VuZCxMPWkuUmFuZ2VFcnJvcixOPXUuQXJyYXlCdWZmZXIsRD11LkRhdGFWaWV3LFU9cy5OQVRJVkVfQVJSQVlfQlVGRkVSX1ZJRVdTLE09cy5UWVBFRF9BUlJBWV9UQUcsRj1zLlR5cGVkQXJyYXksQj1zLlR5cGVkQXJyYXlQcm90b3R5cGUsSD1zLmFUeXBlZEFycmF5Q29uc3RydWN0b3IscT1zLmlzVHlwZWRBcnJheSx6PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aCxpPW5ldyhIKHQpKShyKTtyPm47KWlbbl09ZVtuKytdO3JldHVybiBpfSxWPWZ1bmN0aW9uKHQsZSl7Qyh0LGUse2dldDpmdW5jdGlvbigpe3JldHVybiBBKHRoaXMpW2VdfX0pfSxHPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0IGluc3RhbmNlb2YgTnx8XCJBcnJheUJ1ZmZlclwiPT0oZT1nKHQpKXx8XCJTaGFyZWRBcnJheUJ1ZmZlclwiPT1lfSxXPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHEodCkmJlwic3ltYm9sXCIhPXR5cGVvZiBlJiZlIGluIHQmJlN0cmluZygrZSk9PVN0cmluZyhlKX0sSj1mdW5jdGlvbih0LGUpe3JldHVybiBXKHQsZT15KGUsITApKT9mKDIsdFtlXSk6UCh0LGUpfSxZPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4hKFcodCxlPXkoZSwhMCkpJiZiKG4pJiZ2KG4sXCJ2YWx1ZVwiKSl8fHYobixcImdldFwiKXx8dihuLFwic2V0XCIpfHxuLmNvbmZpZ3VyYWJsZXx8dihuLFwid3JpdGFibGVcIikmJiFuLndyaXRhYmxlfHx2KG4sXCJlbnVtZXJhYmxlXCIpJiYhbi5lbnVtZXJhYmxlP0ModCxlLG4pOih0W2VdPW4udmFsdWUsdCl9O28/KFV8fChrLmY9SixTLmY9WSxWKEIsXCJidWZmZXJcIiksVihCLFwiYnl0ZU9mZnNldFwiKSxWKEIsXCJieXRlTGVuZ3RoXCIpLFYoQixcImxlbmd0aFwiKSkscih7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6IVV9LHtnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6SixkZWZpbmVQcm9wZXJ0eTpZfSksdC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10Lm1hdGNoKC9cXGQrJC8pWzBdLzgscz10KyhuP1wiQ2xhbXBlZFwiOlwiXCIpK1wiQXJyYXlcIix1PVwiZ2V0XCIrdCxmPVwic2V0XCIrdCx5PWlbc10sdj15LGc9diYmdi5wcm90b3R5cGUsUz17fSxrPWZ1bmN0aW9uKHQsZSl7Qyh0LGUse2dldDpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPUEodCk7cmV0dXJuIG4udmlld1t1XShlKm8rbi5ieXRlT2Zmc2V0LCEwKX0odGhpcyxlKX0sc2V0OmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUscil7dmFyIGk9QSh0KTtuJiYocj0ocj1SKHIpKTwwPzA6cj4yNTU/MjU1OjI1NSZyKSxpLnZpZXdbZl0oZSpvK2kuYnl0ZU9mZnNldCxyLCEwKX0odGhpcyxlLHQpfSxlbnVtZXJhYmxlOiEwfSl9O1U/YSYmKHY9ZSgoZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIGModCx2LHMpLGooYihlKT9HKGUpP3ZvaWQgMCE9PXI/bmV3IHkoZSxkKG4sbykscik6dm9pZCAwIT09bj9uZXcgeShlLGQobixvKSk6bmV3IHkoZSk6cShlKT96KHYsZSk6eC5jYWxsKHYsZSk6bmV3IHkocChlKSksdCx2KX0pKSx3JiZ3KHYsRiksTyhFKHkpLChmdW5jdGlvbih0KXt0IGluIHZ8fGwodix0LHlbdF0pfSkpLHYucHJvdG90eXBlPWcpOih2PWUoKGZ1bmN0aW9uKHQsZSxuLHIpe2ModCx2LHMpO3ZhciBpLGEsdSxmPTAsbD0wO2lmKGIoZSkpe2lmKCFHKGUpKXJldHVybiBxKGUpP3oodixlKTp4LmNhbGwodixlKTtpPWUsbD1kKG4sbyk7dmFyIHk9ZS5ieXRlTGVuZ3RoO2lmKHZvaWQgMD09PXIpe2lmKHklbyl0aHJvdyBMKFwiV3JvbmcgbGVuZ3RoXCIpO2lmKChhPXktbCk8MCl0aHJvdyBMKFwiV3JvbmcgbGVuZ3RoXCIpfWVsc2UgaWYoKGE9aChyKSpvKStsPnkpdGhyb3cgTChcIldyb25nIGxlbmd0aFwiKTt1PWEvb31lbHNlIHU9cChlKSxpPW5ldyBOKGE9dSpvKTtmb3IoSSh0LHtidWZmZXI6aSxieXRlT2Zmc2V0OmwsYnl0ZUxlbmd0aDphLGxlbmd0aDp1LHZpZXc6bmV3IEQoaSl9KTtmPHU7KWsodCxmKyspfSkpLHcmJncodixGKSxnPXYucHJvdG90eXBlPW0oQikpLGcuY29uc3RydWN0b3IhPT12JiZsKGcsXCJjb25zdHJ1Y3RvclwiLHYpLE0mJmwoZyxNLHMpLFNbc109dixyKHtnbG9iYWw6ITAsZm9yY2VkOnYhPXksc2hhbTohVX0sUyksXCJCWVRFU19QRVJfRUxFTUVOVFwiaW4gdnx8bCh2LFwiQllURVNfUEVSX0VMRU1FTlRcIixvKSxcIkJZVEVTX1BFUl9FTEVNRU5UXCJpbiBnfHxsKGcsXCJCWVRFU19QRVJfRUxFTUVOVFwiLG8pLFQocyl9KTp0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0KSxpPW4oMyksbz1uKDExNSksYT1uKDgpLk5BVElWRV9BUlJBWV9CVUZGRVJfVklFV1Mscz1yLkFycmF5QnVmZmVyLHU9ci5JbnQ4QXJyYXk7dC5leHBvcnRzPSFhfHwhaSgoZnVuY3Rpb24oKXt1KDEpfSkpfHwhaSgoZnVuY3Rpb24oKXtuZXcgdSgtMSl9KSl8fCFvKChmdW5jdGlvbih0KXtuZXcgdSxuZXcgdShudWxsKSxuZXcgdSgxLjUpLG5ldyB1KHQpfSksITApfHxpKChmdW5jdGlvbigpe3JldHVybiAxIT09bmV3IHUobmV3IHMoMiksMSx2b2lkIDApLmxlbmd0aH0pKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNjUpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1yKHQpO2lmKGU8MCl0aHJvdyBSYW5nZUVycm9yKFwiVGhlIGFyZ3VtZW50IGNhbid0IGJlIGxlc3MgdGhhbiAwXCIpO3JldHVybiBlfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzYpLGk9bigyMCksbz1uKDEwMCksYT1uKDE1Nykscz1uKDY3KSx1PW4oOCkuYVR5cGVkQXJyYXlDb25zdHJ1Y3Rvcjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUsbixjLGYsbCxoLHA9cih0KSxkPWFyZ3VtZW50cy5sZW5ndGgseT1kPjE/YXJndW1lbnRzWzFdOnZvaWQgMCx2PXZvaWQgMCE9PXksZz1vKHApO2lmKHZvaWQgMCE9ZyYmIWEoZykpZm9yKGg9KGw9Zy5jYWxsKHApKS5uZXh0LHA9W107IShmPWguY2FsbChsKSkuZG9uZTspcC5wdXNoKGYudmFsdWUpO2Zvcih2JiZkPjImJih5PXMoeSxhcmd1bWVudHNbMl0sMikpLG49aShwLmxlbmd0aCksYz1uZXcodSh0aGlzKSkobiksZT0wO24+ZTtlKyspY1tlXT12P3kocFtlXSxlKTpwW2VdO3JldHVybiBjfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oOCksaT1uKDQwNCksbz1yLmFUeXBlZEFycmF5OygwLHIuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCkoXCJjb3B5V2l0aGluXCIsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuY2FsbChvKHRoaXMpLHQsZSxhcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCl9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDM2KSxpPW4oNzcpLG89bigyMCksYT1NYXRoLm1pbjt0LmV4cG9ydHM9W10uY29weVdpdGhpbnx8ZnVuY3Rpb24odCxlKXt2YXIgbj1yKHRoaXMpLHM9byhuLmxlbmd0aCksdT1pKHQscyksYz1pKGUscyksZj1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCxsPWEoKHZvaWQgMD09PWY/czppKGYscykpLWMscy11KSxoPTE7Zm9yKGM8dSYmdTxjK2wmJihoPS0xLGMrPWwtMSx1Kz1sLTEpO2wtLSA+MDspYyBpbiBuP25bdV09bltjXTpkZWxldGUgblt1XSx1Kz1oLGMrPWg7cmV0dXJuIG59fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big4KSxpPW4oMzcpLmV2ZXJ5LG89ci5hVHlwZWRBcnJheTsoMCxyLmV4cG9ydFR5cGVkQXJyYXlNZXRob2QpKFwiZXZlcnlcIiwoZnVuY3Rpb24odCl7cmV0dXJuIGkobyh0aGlzKSx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oOCksaT1uKDI0OCksbz1yLmFUeXBlZEFycmF5OygwLHIuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCkoXCJmaWxsXCIsKGZ1bmN0aW9uKHQpe3JldHVybiBpLmFwcGx5KG8odGhpcyksYXJndW1lbnRzKX0pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oOCksaT1uKDM3KS5maWx0ZXIsbz1uKDcwKSxhPXIuYVR5cGVkQXJyYXkscz1yLmFUeXBlZEFycmF5Q29uc3RydWN0b3I7KDAsci5leHBvcnRUeXBlZEFycmF5TWV0aG9kKShcImZpbHRlclwiLChmdW5jdGlvbih0KXtmb3IodmFyIGU9aShhKHRoaXMpLHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApLG49byh0aGlzLHRoaXMuY29uc3RydWN0b3IpLHI9MCx1PWUubGVuZ3RoLGM9bmV3KHMobikpKHUpO3U+cjspY1tyXT1lW3IrK107cmV0dXJuIGN9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDgpLGk9bigzNykuZmluZCxvPXIuYVR5cGVkQXJyYXk7KDAsci5leHBvcnRUeXBlZEFycmF5TWV0aG9kKShcImZpbmRcIiwoZnVuY3Rpb24odCl7cmV0dXJuIGkobyh0aGlzKSx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oOCksaT1uKDM3KS5maW5kSW5kZXgsbz1yLmFUeXBlZEFycmF5OygwLHIuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCkoXCJmaW5kSW5kZXhcIiwoZnVuY3Rpb24odCl7cmV0dXJuIGkobyh0aGlzKSx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oOCksaT1uKDM3KS5mb3JFYWNoLG89ci5hVHlwZWRBcnJheTsoMCxyLmV4cG9ydFR5cGVkQXJyYXlNZXRob2QpKFwiZm9yRWFjaFwiLChmdW5jdGlvbih0KXtpKG8odGhpcyksdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDgpLGk9big5NikuaW5jbHVkZXMsbz1yLmFUeXBlZEFycmF5OygwLHIuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCkoXCJpbmNsdWRlc1wiLChmdW5jdGlvbih0KXtyZXR1cm4gaShvKHRoaXMpLHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big4KSxpPW4oOTYpLmluZGV4T2Ysbz1yLmFUeXBlZEFycmF5OygwLHIuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCkoXCJpbmRleE9mXCIsKGZ1bmN0aW9uKHQpe3JldHVybiBpKG8odGhpcyksdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDQpLGk9big4KSxvPW4oMTQpLGE9big3KShcIml0ZXJhdG9yXCIpLHM9ci5VaW50OEFycmF5LHU9by52YWx1ZXMsYz1vLmtleXMsZj1vLmVudHJpZXMsbD1pLmFUeXBlZEFycmF5LGg9aS5leHBvcnRUeXBlZEFycmF5TWV0aG9kLHA9cyYmcy5wcm90b3R5cGVbYV0sZD0hIXAmJihcInZhbHVlc1wiPT1wLm5hbWV8fHZvaWQgMD09cC5uYW1lKSx5PWZ1bmN0aW9uKCl7cmV0dXJuIHUuY2FsbChsKHRoaXMpKX07aChcImVudHJpZXNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZi5jYWxsKGwodGhpcykpfSkpLGgoXCJrZXlzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGMuY2FsbChsKHRoaXMpKX0pKSxoKFwidmFsdWVzXCIseSwhZCksaChhLHksIWQpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big4KSxpPXIuYVR5cGVkQXJyYXksbz1yLmV4cG9ydFR5cGVkQXJyYXlNZXRob2QsYT1bXS5qb2luO28oXCJqb2luXCIsKGZ1bmN0aW9uKHQpe3JldHVybiBhLmFwcGx5KGkodGhpcyksYXJndW1lbnRzKX0pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oOCksaT1uKDQxNiksbz1yLmFUeXBlZEFycmF5OygwLHIuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCkoXCJsYXN0SW5kZXhPZlwiLChmdW5jdGlvbih0KXtyZXR1cm4gaS5hcHBseShvKHRoaXMpLGFyZ3VtZW50cyl9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDQxKSxpPW4oNjUpLG89bigyMCksYT1uKDEwMikscz1uKDQ5KSx1PU1hdGgubWluLGM9W10ubGFzdEluZGV4T2YsZj0hIWMmJjEvWzFdLmxhc3RJbmRleE9mKDEsLTApPDAsbD1hKFwibGFzdEluZGV4T2ZcIiksaD1zKFwiaW5kZXhPZlwiLHtBQ0NFU1NPUlM6ITAsMTowfSkscD1mfHwhbHx8IWg7dC5leHBvcnRzPXA/ZnVuY3Rpb24odCl7aWYoZilyZXR1cm4gYy5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fDA7dmFyIGU9cih0aGlzKSxuPW8oZS5sZW5ndGgpLGE9bi0xO2Zvcihhcmd1bWVudHMubGVuZ3RoPjEmJihhPXUoYSxpKGFyZ3VtZW50c1sxXSkpKSxhPDAmJihhPW4rYSk7YT49MDthLS0paWYoYSBpbiBlJiZlW2FdPT09dClyZXR1cm4gYXx8MDtyZXR1cm4tMX06Y30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oOCksaT1uKDM3KS5tYXAsbz1uKDcwKSxhPXIuYVR5cGVkQXJyYXkscz1yLmFUeXBlZEFycmF5Q29uc3RydWN0b3I7KDAsci5leHBvcnRUeXBlZEFycmF5TWV0aG9kKShcIm1hcFwiLChmdW5jdGlvbih0KXtyZXR1cm4gaShhKHRoaXMpLHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyhzKG8odCx0LmNvbnN0cnVjdG9yKSkpKGUpfSkpfSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big4KSxpPW4oMTYxKS5sZWZ0LG89ci5hVHlwZWRBcnJheTsoMCxyLmV4cG9ydFR5cGVkQXJyYXlNZXRob2QpKFwicmVkdWNlXCIsKGZ1bmN0aW9uKHQpe3JldHVybiBpKG8odGhpcyksdCxhcmd1bWVudHMubGVuZ3RoLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oOCksaT1uKDE2MSkucmlnaHQsbz1yLmFUeXBlZEFycmF5OygwLHIuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCkoXCJyZWR1Y2VSaWdodFwiLChmdW5jdGlvbih0KXtyZXR1cm4gaShvKHRoaXMpLHQsYXJndW1lbnRzLmxlbmd0aCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDgpLGk9ci5hVHlwZWRBcnJheSxvPXIuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCxhPU1hdGguZmxvb3I7byhcInJldmVyc2VcIiwoZnVuY3Rpb24oKXtmb3IodmFyIHQsZT1pKHRoaXMpLmxlbmd0aCxuPWEoZS8yKSxyPTA7cjxuOyl0PXRoaXNbcl0sdGhpc1tyKytdPXRoaXNbLS1lXSx0aGlzW2VdPXQ7cmV0dXJuIHRoaXN9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDgpLGk9bigyMCksbz1uKDI1MCksYT1uKDM2KSxzPW4oMyksdT1yLmFUeXBlZEFycmF5OygwLHIuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCkoXCJzZXRcIiwoZnVuY3Rpb24odCl7dSh0aGlzKTt2YXIgZT1vKGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDEpLG49dGhpcy5sZW5ndGgscj1hKHQpLHM9aShyLmxlbmd0aCksYz0wO2lmKHMrZT5uKXRocm93IFJhbmdlRXJyb3IoXCJXcm9uZyBsZW5ndGhcIik7Zm9yKDtjPHM7KXRoaXNbZStjXT1yW2MrK119KSxzKChmdW5jdGlvbigpe25ldyBJbnQ4QXJyYXkoMSkuc2V0KHt9KX0pKSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDgpLGk9big3MCksbz1uKDMpLGE9ci5hVHlwZWRBcnJheSxzPXIuYVR5cGVkQXJyYXlDb25zdHJ1Y3Rvcix1PXIuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCxjPVtdLnNsaWNlO3UoXCJzbGljZVwiLChmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1jLmNhbGwoYSh0aGlzKSx0LGUpLHI9aSh0aGlzLHRoaXMuY29uc3RydWN0b3IpLG89MCx1PW4ubGVuZ3RoLGY9bmV3KHMocikpKHUpO3U+bzspZltvXT1uW28rK107cmV0dXJuIGZ9KSxvKChmdW5jdGlvbigpe25ldyBJbnQ4QXJyYXkoMSkuc2xpY2UoKX0pKSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDgpLGk9bigzNykuc29tZSxvPXIuYVR5cGVkQXJyYXk7KDAsci5leHBvcnRUeXBlZEFycmF5TWV0aG9kKShcInNvbWVcIiwoZnVuY3Rpb24odCl7cmV0dXJuIGkobyh0aGlzKSx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oOCksaT1yLmFUeXBlZEFycmF5LG89ci5leHBvcnRUeXBlZEFycmF5TWV0aG9kLGE9W10uc29ydDtvKFwic29ydFwiLChmdW5jdGlvbih0KXtyZXR1cm4gYS5jYWxsKGkodGhpcyksdCl9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDgpLGk9bigyMCksbz1uKDc3KSxhPW4oNzApLHM9ci5hVHlwZWRBcnJheTsoMCxyLmV4cG9ydFR5cGVkQXJyYXlNZXRob2QpKFwic3ViYXJyYXlcIiwoZnVuY3Rpb24odCxlKXt2YXIgbj1zKHRoaXMpLHI9bi5sZW5ndGgsdT1vKHQscik7cmV0dXJuIG5ldyhhKG4sbi5jb25zdHJ1Y3RvcikpKG4uYnVmZmVyLG4uYnl0ZU9mZnNldCt1Km4uQllURVNfUEVSX0VMRU1FTlQsaSgodm9pZCAwPT09ZT9yOm8oZSxyKSktdSkpfSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big0KSxpPW4oOCksbz1uKDMpLGE9ci5JbnQ4QXJyYXkscz1pLmFUeXBlZEFycmF5LHU9aS5leHBvcnRUeXBlZEFycmF5TWV0aG9kLGM9W10udG9Mb2NhbGVTdHJpbmcsZj1bXS5zbGljZSxsPSEhYSYmbygoZnVuY3Rpb24oKXtjLmNhbGwobmV3IGEoMSkpfSkpO3UoXCJ0b0xvY2FsZVN0cmluZ1wiLChmdW5jdGlvbigpe3JldHVybiBjLmFwcGx5KGw/Zi5jYWxsKHModGhpcykpOnModGhpcyksYXJndW1lbnRzKX0pLG8oKGZ1bmN0aW9uKCl7cmV0dXJuWzEsMl0udG9Mb2NhbGVTdHJpbmcoKSE9bmV3IGEoWzEsMl0pLnRvTG9jYWxlU3RyaW5nKCl9KSl8fCFvKChmdW5jdGlvbigpe2EucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nLmNhbGwoWzEsMl0pfSkpKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oOCkuZXhwb3J0VHlwZWRBcnJheU1ldGhvZCxpPW4oMyksbz1uKDQpLlVpbnQ4QXJyYXksYT1vJiZvLnByb3RvdHlwZXx8e30scz1bXS50b1N0cmluZyx1PVtdLmpvaW47aSgoZnVuY3Rpb24oKXtzLmNhbGwoe30pfSkpJiYocz1mdW5jdGlvbigpe3JldHVybiB1LmNhbGwodGhpcyl9KTt2YXIgYz1hLnRvU3RyaW5nIT1zO3IoXCJ0b1N0cmluZ1wiLHMsYyl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIpLGk9bigyMzEpLG89bigzKSxhPW4oMTEpLHM9bigxNzMpLm9uRnJlZXplLHU9T2JqZWN0LmZyZWV6ZTtyKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDpvKChmdW5jdGlvbigpe3UoMSl9KSksc2hhbTohaX0se2ZyZWV6ZTpmdW5jdGlvbih0KXtyZXR1cm4gdSYmYSh0KT91KHModCkpOnR9fSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuKDIxKTt2YXIgcixpPW4oMiksbz1uKDE2KSxhPW4oMjUxKSxzPW4oNCksdT1uKDE5MCksYz1uKDM4KSxmPW4oNjkpLGw9bigxOSksaD1uKDIwNikscD1uKDIyOCksZD1uKDE2MCkuY29kZUF0LHk9big0MzApLHY9big1OCksZz1uKDQzMSksYj1uKDQ0KSxtPXMuVVJMLHc9Zy5VUkxTZWFyY2hQYXJhbXMsRT1nLmdldFN0YXRlLHg9Yi5zZXQsTz1iLmdldHRlckZvcihcIlVSTFwiKSxUPU1hdGguZmxvb3IsUz1NYXRoLnBvdyxrPS9bQS1aYS16XS8sXz0vW1xcZCtcXC0uQS1aYS16XS8saj0vXFxkLyxBPS9eKDB4fDBYKS8sST0vXlswLTddKyQvLEM9L15cXGQrJC8sUD0vXltcXGRBLUZhLWZdKyQvLFI9L1tcXHUwMDAwXFx1MDAwOVxcdTAwMEFcXHUwMDBEICMlLzo/QFtcXFxcXV0vLEw9L1tcXHUwMDAwXFx1MDAwOVxcdTAwMEFcXHUwMDBEICMvOj9AW1xcXFxdXS8sTj0vXltcXHUwMDAwLVxcdTAwMUYgXSt8W1xcdTAwMDAtXFx1MDAxRiBdKyQvZyxEPS9bXFx1MDAwOVxcdTAwMEFcXHUwMDBEXS9nLFU9ZnVuY3Rpb24odCxlKXt2YXIgbixyLGk7aWYoXCJbXCI9PWUuY2hhckF0KDApKXtpZihcIl1cIiE9ZS5jaGFyQXQoZS5sZW5ndGgtMSkpcmV0dXJuXCJJbnZhbGlkIGhvc3RcIjtpZighKG49RihlLnNsaWNlKDEsLTEpKSkpcmV0dXJuXCJJbnZhbGlkIGhvc3RcIjt0Lmhvc3Q9bn1lbHNlIGlmKEoodCkpe2lmKGU9eShlKSxSLnRlc3QoZSkpcmV0dXJuXCJJbnZhbGlkIGhvc3RcIjtpZihudWxsPT09KG49TShlKSkpcmV0dXJuXCJJbnZhbGlkIGhvc3RcIjt0Lmhvc3Q9bn1lbHNle2lmKEwudGVzdChlKSlyZXR1cm5cIkludmFsaWQgaG9zdFwiO2ZvcihuPVwiXCIscj1wKGUpLGk9MDtpPHIubGVuZ3RoO2krKyluKz1HKHJbaV0sSCk7dC5ob3N0PW59fSxNPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG8sYSxzLHU9dC5zcGxpdChcIi5cIik7aWYodS5sZW5ndGgmJlwiXCI9PXVbdS5sZW5ndGgtMV0mJnUucG9wKCksKGU9dS5sZW5ndGgpPjQpcmV0dXJuIHQ7Zm9yKG49W10scj0wO3I8ZTtyKyspe2lmKFwiXCI9PShpPXVbcl0pKXJldHVybiB0O2lmKG89MTAsaS5sZW5ndGg+MSYmXCIwXCI9PWkuY2hhckF0KDApJiYobz1BLnRlc3QoaSk/MTY6OCxpPWkuc2xpY2UoOD09bz8xOjIpKSxcIlwiPT09aSlhPTA7ZWxzZXtpZighKDEwPT1vP0M6OD09bz9JOlApLnRlc3QoaSkpcmV0dXJuIHQ7YT1wYXJzZUludChpLG8pfW4ucHVzaChhKX1mb3Iocj0wO3I8ZTtyKyspaWYoYT1uW3JdLHI9PWUtMSl7aWYoYT49UygyNTYsNS1lKSlyZXR1cm4gbnVsbH1lbHNlIGlmKGE+MjU1KXJldHVybiBudWxsO2ZvcihzPW4ucG9wKCkscj0wO3I8bi5sZW5ndGg7cisrKXMrPW5bcl0qUygyNTYsMy1yKTtyZXR1cm4gc30sRj1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyx1PVswLDAsMCwwLDAsMCwwLDBdLGM9MCxmPW51bGwsbD0wLGg9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jaGFyQXQobCl9O2lmKFwiOlwiPT1oKCkpe2lmKFwiOlwiIT10LmNoYXJBdCgxKSlyZXR1cm47bCs9MixmPSsrY31mb3IoO2goKTspe2lmKDg9PWMpcmV0dXJuO2lmKFwiOlwiIT1oKCkpe2ZvcihlPW49MDtuPDQmJlAudGVzdChoKCkpOyllPTE2KmUrcGFyc2VJbnQoaCgpLDE2KSxsKyssbisrO2lmKFwiLlwiPT1oKCkpe2lmKDA9PW4pcmV0dXJuO2lmKGwtPW4sYz42KXJldHVybjtmb3Iocj0wO2goKTspe2lmKGk9bnVsbCxyPjApe2lmKCEoXCIuXCI9PWgoKSYmcjw0KSlyZXR1cm47bCsrfWlmKCFqLnRlc3QoaCgpKSlyZXR1cm47Zm9yKDtqLnRlc3QoaCgpKTspe2lmKG89cGFyc2VJbnQoaCgpLDEwKSxudWxsPT09aSlpPW87ZWxzZXtpZigwPT1pKXJldHVybjtpPTEwKmkrb31pZihpPjI1NSlyZXR1cm47bCsrfXVbY109MjU2KnVbY10raSwyIT0rK3ImJjQhPXJ8fGMrK31pZig0IT1yKXJldHVybjticmVha31pZihcIjpcIj09aCgpKXtpZihsKyssIWgoKSlyZXR1cm59ZWxzZSBpZihoKCkpcmV0dXJuO3VbYysrXT1lfWVsc2V7aWYobnVsbCE9PWYpcmV0dXJuO2wrKyxmPSsrY319aWYobnVsbCE9PWYpZm9yKGE9Yy1mLGM9NzswIT1jJiZhPjA7KXM9dVtjXSx1W2MtLV09dVtmK2EtMV0sdVtmKy0tYV09cztlbHNlIGlmKDghPWMpcmV0dXJuO3JldHVybiB1fSxCPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXtmb3IoZT1bXSxuPTA7bjw0O24rKyllLnVuc2hpZnQodCUyNTYpLHQ9VCh0LzI1Nik7cmV0dXJuIGUuam9pbihcIi5cIil9aWYoXCJvYmplY3RcIj09dHlwZW9mIHQpe2ZvcihlPVwiXCIscj1mdW5jdGlvbih0KXtmb3IodmFyIGU9bnVsbCxuPTEscj1udWxsLGk9MCxvPTA7bzw4O28rKykwIT09dFtvXT8oaT5uJiYoZT1yLG49aSkscj1udWxsLGk9MCk6KG51bGw9PT1yJiYocj1vKSwrK2kpO3JldHVybiBpPm4mJihlPXIsbj1pKSxlfSh0KSxuPTA7bjw4O24rKylpJiYwPT09dFtuXXx8KGkmJihpPSExKSxyPT09bj8oZSs9bj9cIjpcIjpcIjo6XCIsaT0hMCk6KGUrPXRbbl0udG9TdHJpbmcoMTYpLG48NyYmKGUrPVwiOlwiKSkpO3JldHVyblwiW1wiK2UrXCJdXCJ9cmV0dXJuIHR9LEg9e30scT1oKHt9LEgse1wiIFwiOjEsJ1wiJzoxLFwiPFwiOjEsXCI+XCI6MSxcImBcIjoxfSksej1oKHt9LHEse1wiI1wiOjEsXCI/XCI6MSxcIntcIjoxLFwifVwiOjF9KSxWPWgoe30seix7XCIvXCI6MSxcIjpcIjoxLFwiO1wiOjEsXCI9XCI6MSxcIkBcIjoxLFwiW1wiOjEsXCJcXFxcXCI6MSxcIl1cIjoxLFwiXlwiOjEsXCJ8XCI6MX0pLEc9ZnVuY3Rpb24odCxlKXt2YXIgbj1kKHQsMCk7cmV0dXJuIG4+MzImJm48MTI3JiYhbChlLHQpP3Q6ZW5jb2RlVVJJQ29tcG9uZW50KHQpfSxXPXtmdHA6MjEsZmlsZTpudWxsLGh0dHA6ODAsaHR0cHM6NDQzLHdzOjgwLHdzczo0NDN9LEo9ZnVuY3Rpb24odCl7cmV0dXJuIGwoVyx0LnNjaGVtZSl9LFk9ZnVuY3Rpb24odCl7cmV0dXJuXCJcIiE9dC51c2VybmFtZXx8XCJcIiE9dC5wYXNzd29yZH0sWj1mdW5jdGlvbih0KXtyZXR1cm4hdC5ob3N0fHx0LmNhbm5vdEJlQUJhc2VVUkx8fFwiZmlsZVwiPT10LnNjaGVtZX0sSz1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiAyPT10Lmxlbmd0aCYmay50ZXN0KHQuY2hhckF0KDApKSYmKFwiOlwiPT0obj10LmNoYXJBdCgxKSl8fCFlJiZcInxcIj09bil9LCQ9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHQubGVuZ3RoPjEmJksodC5zbGljZSgwLDIpKSYmKDI9PXQubGVuZ3RofHxcIi9cIj09PShlPXQuY2hhckF0KDIpKXx8XCJcXFxcXCI9PT1lfHxcIj9cIj09PWV8fFwiI1wiPT09ZSl9LFg9ZnVuY3Rpb24odCl7dmFyIGU9dC5wYXRoLG49ZS5sZW5ndGg7IW58fFwiZmlsZVwiPT10LnNjaGVtZSYmMT09biYmSyhlWzBdLCEwKXx8ZS5wb3AoKX0sUT1mdW5jdGlvbih0KXtyZXR1cm5cIi5cIj09PXR8fFwiJTJlXCI9PT10LnRvTG93ZXJDYXNlKCl9LHR0PXt9LGV0PXt9LG50PXt9LHJ0PXt9LGl0PXt9LG90PXt9LGF0PXt9LHN0PXt9LHV0PXt9LGN0PXt9LGZ0PXt9LGx0PXt9LGh0PXt9LHB0PXt9LGR0PXt9LHl0PXt9LHZ0PXt9LGd0PXt9LGJ0PXt9LG10PXt9LHd0PXt9LEV0PWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciBvLGEscyx1LGMsZj1ufHx0dCxoPTAsZD1cIlwiLHk9ITEsdj0hMSxnPSExO2ZvcihufHwodC5zY2hlbWU9XCJcIix0LnVzZXJuYW1lPVwiXCIsdC5wYXNzd29yZD1cIlwiLHQuaG9zdD1udWxsLHQucG9ydD1udWxsLHQucGF0aD1bXSx0LnF1ZXJ5PW51bGwsdC5mcmFnbWVudD1udWxsLHQuY2Fubm90QmVBQmFzZVVSTD0hMSxlPWUucmVwbGFjZShOLFwiXCIpKSxlPWUucmVwbGFjZShELFwiXCIpLG89cChlKTtoPD1vLmxlbmd0aDspe3N3aXRjaChhPW9baF0sZil7Y2FzZSB0dDppZighYXx8IWsudGVzdChhKSl7aWYobilyZXR1cm5cIkludmFsaWQgc2NoZW1lXCI7Zj1udDtjb250aW51ZX1kKz1hLnRvTG93ZXJDYXNlKCksZj1ldDticmVhaztjYXNlIGV0OmlmKGEmJihfLnRlc3QoYSl8fFwiK1wiPT1hfHxcIi1cIj09YXx8XCIuXCI9PWEpKWQrPWEudG9Mb3dlckNhc2UoKTtlbHNle2lmKFwiOlwiIT1hKXtpZihuKXJldHVyblwiSW52YWxpZCBzY2hlbWVcIjtkPVwiXCIsZj1udCxoPTA7Y29udGludWV9aWYobiYmKEoodCkhPWwoVyxkKXx8XCJmaWxlXCI9PWQmJihZKHQpfHxudWxsIT09dC5wb3J0KXx8XCJmaWxlXCI9PXQuc2NoZW1lJiYhdC5ob3N0KSlyZXR1cm47aWYodC5zY2hlbWU9ZCxuKXJldHVybiB2b2lkKEoodCkmJldbdC5zY2hlbWVdPT10LnBvcnQmJih0LnBvcnQ9bnVsbCkpO2Q9XCJcIixcImZpbGVcIj09dC5zY2hlbWU/Zj1wdDpKKHQpJiZpJiZpLnNjaGVtZT09dC5zY2hlbWU/Zj1ydDpKKHQpP2Y9c3Q6XCIvXCI9PW9baCsxXT8oZj1pdCxoKyspOih0LmNhbm5vdEJlQUJhc2VVUkw9ITAsdC5wYXRoLnB1c2goXCJcIiksZj1idCl9YnJlYWs7Y2FzZSBudDppZighaXx8aS5jYW5ub3RCZUFCYXNlVVJMJiZcIiNcIiE9YSlyZXR1cm5cIkludmFsaWQgc2NoZW1lXCI7aWYoaS5jYW5ub3RCZUFCYXNlVVJMJiZcIiNcIj09YSl7dC5zY2hlbWU9aS5zY2hlbWUsdC5wYXRoPWkucGF0aC5zbGljZSgpLHQucXVlcnk9aS5xdWVyeSx0LmZyYWdtZW50PVwiXCIsdC5jYW5ub3RCZUFCYXNlVVJMPSEwLGY9d3Q7YnJlYWt9Zj1cImZpbGVcIj09aS5zY2hlbWU/cHQ6b3Q7Y29udGludWU7Y2FzZSBydDppZihcIi9cIiE9YXx8XCIvXCIhPW9baCsxXSl7Zj1vdDtjb250aW51ZX1mPXV0LGgrKzticmVhaztjYXNlIGl0OmlmKFwiL1wiPT1hKXtmPWN0O2JyZWFrfWY9Z3Q7Y29udGludWU7Y2FzZSBvdDppZih0LnNjaGVtZT1pLnNjaGVtZSxhPT1yKXQudXNlcm5hbWU9aS51c2VybmFtZSx0LnBhc3N3b3JkPWkucGFzc3dvcmQsdC5ob3N0PWkuaG9zdCx0LnBvcnQ9aS5wb3J0LHQucGF0aD1pLnBhdGguc2xpY2UoKSx0LnF1ZXJ5PWkucXVlcnk7ZWxzZSBpZihcIi9cIj09YXx8XCJcXFxcXCI9PWEmJkoodCkpZj1hdDtlbHNlIGlmKFwiP1wiPT1hKXQudXNlcm5hbWU9aS51c2VybmFtZSx0LnBhc3N3b3JkPWkucGFzc3dvcmQsdC5ob3N0PWkuaG9zdCx0LnBvcnQ9aS5wb3J0LHQucGF0aD1pLnBhdGguc2xpY2UoKSx0LnF1ZXJ5PVwiXCIsZj1tdDtlbHNle2lmKFwiI1wiIT1hKXt0LnVzZXJuYW1lPWkudXNlcm5hbWUsdC5wYXNzd29yZD1pLnBhc3N3b3JkLHQuaG9zdD1pLmhvc3QsdC5wb3J0PWkucG9ydCx0LnBhdGg9aS5wYXRoLnNsaWNlKCksdC5wYXRoLnBvcCgpLGY9Z3Q7Y29udGludWV9dC51c2VybmFtZT1pLnVzZXJuYW1lLHQucGFzc3dvcmQ9aS5wYXNzd29yZCx0Lmhvc3Q9aS5ob3N0LHQucG9ydD1pLnBvcnQsdC5wYXRoPWkucGF0aC5zbGljZSgpLHQucXVlcnk9aS5xdWVyeSx0LmZyYWdtZW50PVwiXCIsZj13dH1icmVhaztjYXNlIGF0OmlmKCFKKHQpfHxcIi9cIiE9YSYmXCJcXFxcXCIhPWEpe2lmKFwiL1wiIT1hKXt0LnVzZXJuYW1lPWkudXNlcm5hbWUsdC5wYXNzd29yZD1pLnBhc3N3b3JkLHQuaG9zdD1pLmhvc3QsdC5wb3J0PWkucG9ydCxmPWd0O2NvbnRpbnVlfWY9Y3R9ZWxzZSBmPXV0O2JyZWFrO2Nhc2Ugc3Q6aWYoZj11dCxcIi9cIiE9YXx8XCIvXCIhPWQuY2hhckF0KGgrMSkpY29udGludWU7aCsrO2JyZWFrO2Nhc2UgdXQ6aWYoXCIvXCIhPWEmJlwiXFxcXFwiIT1hKXtmPWN0O2NvbnRpbnVlfWJyZWFrO2Nhc2UgY3Q6aWYoXCJAXCI9PWEpe3kmJihkPVwiJTQwXCIrZCkseT0hMCxzPXAoZCk7Zm9yKHZhciBiPTA7YjxzLmxlbmd0aDtiKyspe3ZhciBtPXNbYl07aWYoXCI6XCIhPW18fGcpe3ZhciB3PUcobSxWKTtnP3QucGFzc3dvcmQrPXc6dC51c2VybmFtZSs9d31lbHNlIGc9ITB9ZD1cIlwifWVsc2UgaWYoYT09cnx8XCIvXCI9PWF8fFwiP1wiPT1hfHxcIiNcIj09YXx8XCJcXFxcXCI9PWEmJkoodCkpe2lmKHkmJlwiXCI9PWQpcmV0dXJuXCJJbnZhbGlkIGF1dGhvcml0eVwiO2gtPXAoZCkubGVuZ3RoKzEsZD1cIlwiLGY9ZnR9ZWxzZSBkKz1hO2JyZWFrO2Nhc2UgZnQ6Y2FzZSBsdDppZihuJiZcImZpbGVcIj09dC5zY2hlbWUpe2Y9eXQ7Y29udGludWV9aWYoXCI6XCIhPWF8fHYpe2lmKGE9PXJ8fFwiL1wiPT1hfHxcIj9cIj09YXx8XCIjXCI9PWF8fFwiXFxcXFwiPT1hJiZKKHQpKXtpZihKKHQpJiZcIlwiPT1kKXJldHVyblwiSW52YWxpZCBob3N0XCI7aWYobiYmXCJcIj09ZCYmKFkodCl8fG51bGwhPT10LnBvcnQpKXJldHVybjtpZih1PVUodCxkKSlyZXR1cm4gdTtpZihkPVwiXCIsZj12dCxuKXJldHVybjtjb250aW51ZX1cIltcIj09YT92PSEwOlwiXVwiPT1hJiYodj0hMSksZCs9YX1lbHNle2lmKFwiXCI9PWQpcmV0dXJuXCJJbnZhbGlkIGhvc3RcIjtpZih1PVUodCxkKSlyZXR1cm4gdTtpZihkPVwiXCIsZj1odCxuPT1sdClyZXR1cm59YnJlYWs7Y2FzZSBodDppZighai50ZXN0KGEpKXtpZihhPT1yfHxcIi9cIj09YXx8XCI/XCI9PWF8fFwiI1wiPT1hfHxcIlxcXFxcIj09YSYmSih0KXx8bil7aWYoXCJcIiE9ZCl7dmFyIEU9cGFyc2VJbnQoZCwxMCk7aWYoRT42NTUzNSlyZXR1cm5cIkludmFsaWQgcG9ydFwiO3QucG9ydD1KKHQpJiZFPT09V1t0LnNjaGVtZV0/bnVsbDpFLGQ9XCJcIn1pZihuKXJldHVybjtmPXZ0O2NvbnRpbnVlfXJldHVyblwiSW52YWxpZCBwb3J0XCJ9ZCs9YTticmVhaztjYXNlIHB0OmlmKHQuc2NoZW1lPVwiZmlsZVwiLFwiL1wiPT1hfHxcIlxcXFxcIj09YSlmPWR0O2Vsc2V7aWYoIWl8fFwiZmlsZVwiIT1pLnNjaGVtZSl7Zj1ndDtjb250aW51ZX1pZihhPT1yKXQuaG9zdD1pLmhvc3QsdC5wYXRoPWkucGF0aC5zbGljZSgpLHQucXVlcnk9aS5xdWVyeTtlbHNlIGlmKFwiP1wiPT1hKXQuaG9zdD1pLmhvc3QsdC5wYXRoPWkucGF0aC5zbGljZSgpLHQucXVlcnk9XCJcIixmPW10O2Vsc2V7aWYoXCIjXCIhPWEpeyQoby5zbGljZShoKS5qb2luKFwiXCIpKXx8KHQuaG9zdD1pLmhvc3QsdC5wYXRoPWkucGF0aC5zbGljZSgpLFgodCkpLGY9Z3Q7Y29udGludWV9dC5ob3N0PWkuaG9zdCx0LnBhdGg9aS5wYXRoLnNsaWNlKCksdC5xdWVyeT1pLnF1ZXJ5LHQuZnJhZ21lbnQ9XCJcIixmPXd0fX1icmVhaztjYXNlIGR0OmlmKFwiL1wiPT1hfHxcIlxcXFxcIj09YSl7Zj15dDticmVha31pJiZcImZpbGVcIj09aS5zY2hlbWUmJiEkKG8uc2xpY2UoaCkuam9pbihcIlwiKSkmJihLKGkucGF0aFswXSwhMCk/dC5wYXRoLnB1c2goaS5wYXRoWzBdKTp0Lmhvc3Q9aS5ob3N0KSxmPWd0O2NvbnRpbnVlO2Nhc2UgeXQ6aWYoYT09cnx8XCIvXCI9PWF8fFwiXFxcXFwiPT1hfHxcIj9cIj09YXx8XCIjXCI9PWEpe2lmKCFuJiZLKGQpKWY9Z3Q7ZWxzZSBpZihcIlwiPT1kKXtpZih0Lmhvc3Q9XCJcIixuKXJldHVybjtmPXZ0fWVsc2V7aWYodT1VKHQsZCkpcmV0dXJuIHU7aWYoXCJsb2NhbGhvc3RcIj09dC5ob3N0JiYodC5ob3N0PVwiXCIpLG4pcmV0dXJuO2Q9XCJcIixmPXZ0fWNvbnRpbnVlfWQrPWE7YnJlYWs7Y2FzZSB2dDppZihKKHQpKXtpZihmPWd0LFwiL1wiIT1hJiZcIlxcXFxcIiE9YSljb250aW51ZX1lbHNlIGlmKG58fFwiP1wiIT1hKWlmKG58fFwiI1wiIT1hKXtpZihhIT1yJiYoZj1ndCxcIi9cIiE9YSkpY29udGludWV9ZWxzZSB0LmZyYWdtZW50PVwiXCIsZj13dDtlbHNlIHQucXVlcnk9XCJcIixmPW10O2JyZWFrO2Nhc2UgZ3Q6aWYoYT09cnx8XCIvXCI9PWF8fFwiXFxcXFwiPT1hJiZKKHQpfHwhbiYmKFwiP1wiPT1hfHxcIiNcIj09YSkpe2lmKFwiLi5cIj09PShjPShjPWQpLnRvTG93ZXJDYXNlKCkpfHxcIiUyZS5cIj09PWN8fFwiLiUyZVwiPT09Y3x8XCIlMmUlMmVcIj09PWM/KFgodCksXCIvXCI9PWF8fFwiXFxcXFwiPT1hJiZKKHQpfHx0LnBhdGgucHVzaChcIlwiKSk6UShkKT9cIi9cIj09YXx8XCJcXFxcXCI9PWEmJkoodCl8fHQucGF0aC5wdXNoKFwiXCIpOihcImZpbGVcIj09dC5zY2hlbWUmJiF0LnBhdGgubGVuZ3RoJiZLKGQpJiYodC5ob3N0JiYodC5ob3N0PVwiXCIpLGQ9ZC5jaGFyQXQoMCkrXCI6XCIpLHQucGF0aC5wdXNoKGQpKSxkPVwiXCIsXCJmaWxlXCI9PXQuc2NoZW1lJiYoYT09cnx8XCI/XCI9PWF8fFwiI1wiPT1hKSlmb3IoO3QucGF0aC5sZW5ndGg+MSYmXCJcIj09PXQucGF0aFswXTspdC5wYXRoLnNoaWZ0KCk7XCI/XCI9PWE/KHQucXVlcnk9XCJcIixmPW10KTpcIiNcIj09YSYmKHQuZnJhZ21lbnQ9XCJcIixmPXd0KX1lbHNlIGQrPUcoYSx6KTticmVhaztjYXNlIGJ0OlwiP1wiPT1hPyh0LnF1ZXJ5PVwiXCIsZj1tdCk6XCIjXCI9PWE/KHQuZnJhZ21lbnQ9XCJcIixmPXd0KTphIT1yJiYodC5wYXRoWzBdKz1HKGEsSCkpO2JyZWFrO2Nhc2UgbXQ6bnx8XCIjXCIhPWE/YSE9ciYmKFwiJ1wiPT1hJiZKKHQpP3QucXVlcnkrPVwiJTI3XCI6dC5xdWVyeSs9XCIjXCI9PWE/XCIlMjNcIjpHKGEsSCkpOih0LmZyYWdtZW50PVwiXCIsZj13dCk7YnJlYWs7Y2FzZSB3dDphIT1yJiYodC5mcmFnbWVudCs9RyhhLHEpKX1oKyt9fSx4dD1mdW5jdGlvbih0KXt2YXIgZSxuLHI9Zih0aGlzLHh0LFwiVVJMXCIpLGk9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsYT1TdHJpbmcodCkscz14KHIse3R5cGU6XCJVUkxcIn0pO2lmKHZvaWQgMCE9PWkpaWYoaSBpbnN0YW5jZW9mIHh0KWU9TyhpKTtlbHNlIGlmKG49RXQoZT17fSxTdHJpbmcoaSkpKXRocm93IFR5cGVFcnJvcihuKTtpZihuPUV0KHMsYSxudWxsLGUpKXRocm93IFR5cGVFcnJvcihuKTt2YXIgdT1zLnNlYXJjaFBhcmFtcz1uZXcgdyxjPUUodSk7Yy51cGRhdGVTZWFyY2hQYXJhbXMocy5xdWVyeSksYy51cGRhdGVVUkw9ZnVuY3Rpb24oKXtzLnF1ZXJ5PVN0cmluZyh1KXx8bnVsbH0sb3x8KHIuaHJlZj1UdC5jYWxsKHIpLHIub3JpZ2luPVN0LmNhbGwociksci5wcm90b2NvbD1rdC5jYWxsKHIpLHIudXNlcm5hbWU9X3QuY2FsbChyKSxyLnBhc3N3b3JkPWp0LmNhbGwociksci5ob3N0PUF0LmNhbGwociksci5ob3N0bmFtZT1JdC5jYWxsKHIpLHIucG9ydD1DdC5jYWxsKHIpLHIucGF0aG5hbWU9UHQuY2FsbChyKSxyLnNlYXJjaD1SdC5jYWxsKHIpLHIuc2VhcmNoUGFyYW1zPUx0LmNhbGwociksci5oYXNoPU50LmNhbGwocikpfSxPdD14dC5wcm90b3R5cGUsVHQ9ZnVuY3Rpb24oKXt2YXIgdD1PKHRoaXMpLGU9dC5zY2hlbWUsbj10LnVzZXJuYW1lLHI9dC5wYXNzd29yZCxpPXQuaG9zdCxvPXQucG9ydCxhPXQucGF0aCxzPXQucXVlcnksdT10LmZyYWdtZW50LGM9ZStcIjpcIjtyZXR1cm4gbnVsbCE9PWk/KGMrPVwiLy9cIixZKHQpJiYoYys9bisocj9cIjpcIityOlwiXCIpK1wiQFwiKSxjKz1CKGkpLG51bGwhPT1vJiYoYys9XCI6XCIrbykpOlwiZmlsZVwiPT1lJiYoYys9XCIvL1wiKSxjKz10LmNhbm5vdEJlQUJhc2VVUkw/YVswXTphLmxlbmd0aD9cIi9cIithLmpvaW4oXCIvXCIpOlwiXCIsbnVsbCE9PXMmJihjKz1cIj9cIitzKSxudWxsIT09dSYmKGMrPVwiI1wiK3UpLGN9LFN0PWZ1bmN0aW9uKCl7dmFyIHQ9Tyh0aGlzKSxlPXQuc2NoZW1lLG49dC5wb3J0O2lmKFwiYmxvYlwiPT1lKXRyeXtyZXR1cm4gbmV3IFVSTChlLnBhdGhbMF0pLm9yaWdpbn1jYXRjaCh0KXtyZXR1cm5cIm51bGxcIn1yZXR1cm5cImZpbGVcIiE9ZSYmSih0KT9lK1wiOi8vXCIrQih0Lmhvc3QpKyhudWxsIT09bj9cIjpcIituOlwiXCIpOlwibnVsbFwifSxrdD1mdW5jdGlvbigpe3JldHVybiBPKHRoaXMpLnNjaGVtZStcIjpcIn0sX3Q9ZnVuY3Rpb24oKXtyZXR1cm4gTyh0aGlzKS51c2VybmFtZX0sanQ9ZnVuY3Rpb24oKXtyZXR1cm4gTyh0aGlzKS5wYXNzd29yZH0sQXQ9ZnVuY3Rpb24oKXt2YXIgdD1PKHRoaXMpLGU9dC5ob3N0LG49dC5wb3J0O3JldHVybiBudWxsPT09ZT9cIlwiOm51bGw9PT1uP0IoZSk6QihlKStcIjpcIitufSxJdD1mdW5jdGlvbigpe3ZhciB0PU8odGhpcykuaG9zdDtyZXR1cm4gbnVsbD09PXQ/XCJcIjpCKHQpfSxDdD1mdW5jdGlvbigpe3ZhciB0PU8odGhpcykucG9ydDtyZXR1cm4gbnVsbD09PXQ/XCJcIjpTdHJpbmcodCl9LFB0PWZ1bmN0aW9uKCl7dmFyIHQ9Tyh0aGlzKSxlPXQucGF0aDtyZXR1cm4gdC5jYW5ub3RCZUFCYXNlVVJMP2VbMF06ZS5sZW5ndGg/XCIvXCIrZS5qb2luKFwiL1wiKTpcIlwifSxSdD1mdW5jdGlvbigpe3ZhciB0PU8odGhpcykucXVlcnk7cmV0dXJuIHQ/XCI/XCIrdDpcIlwifSxMdD1mdW5jdGlvbigpe3JldHVybiBPKHRoaXMpLnNlYXJjaFBhcmFtc30sTnQ9ZnVuY3Rpb24oKXt2YXIgdD1PKHRoaXMpLmZyYWdtZW50O3JldHVybiB0P1wiI1wiK3Q6XCJcIn0sRHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm57Z2V0OnQsc2V0OmUsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9fTtpZihvJiZ1KE90LHtocmVmOkR0KFR0LChmdW5jdGlvbih0KXt2YXIgZT1PKHRoaXMpLG49U3RyaW5nKHQpLHI9RXQoZSxuKTtpZihyKXRocm93IFR5cGVFcnJvcihyKTtFKGUuc2VhcmNoUGFyYW1zKS51cGRhdGVTZWFyY2hQYXJhbXMoZS5xdWVyeSl9KSksb3JpZ2luOkR0KFN0KSxwcm90b2NvbDpEdChrdCwoZnVuY3Rpb24odCl7dmFyIGU9Tyh0aGlzKTtFdChlLFN0cmluZyh0KStcIjpcIix0dCl9KSksdXNlcm5hbWU6RHQoX3QsKGZ1bmN0aW9uKHQpe3ZhciBlPU8odGhpcyksbj1wKFN0cmluZyh0KSk7aWYoIVooZSkpe2UudXNlcm5hbWU9XCJcIjtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyllLnVzZXJuYW1lKz1HKG5bcl0sVil9fSkpLHBhc3N3b3JkOkR0KGp0LChmdW5jdGlvbih0KXt2YXIgZT1PKHRoaXMpLG49cChTdHJpbmcodCkpO2lmKCFaKGUpKXtlLnBhc3N3b3JkPVwiXCI7Zm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspZS5wYXNzd29yZCs9RyhuW3JdLFYpfX0pKSxob3N0OkR0KEF0LChmdW5jdGlvbih0KXt2YXIgZT1PKHRoaXMpO2UuY2Fubm90QmVBQmFzZVVSTHx8RXQoZSxTdHJpbmcodCksZnQpfSkpLGhvc3RuYW1lOkR0KEl0LChmdW5jdGlvbih0KXt2YXIgZT1PKHRoaXMpO2UuY2Fubm90QmVBQmFzZVVSTHx8RXQoZSxTdHJpbmcodCksbHQpfSkpLHBvcnQ6RHQoQ3QsKGZ1bmN0aW9uKHQpe3ZhciBlPU8odGhpcyk7WihlKXx8KFwiXCI9PSh0PVN0cmluZyh0KSk/ZS5wb3J0PW51bGw6RXQoZSx0LGh0KSl9KSkscGF0aG5hbWU6RHQoUHQsKGZ1bmN0aW9uKHQpe3ZhciBlPU8odGhpcyk7ZS5jYW5ub3RCZUFCYXNlVVJMfHwoZS5wYXRoPVtdLEV0KGUsdCtcIlwiLHZ0KSl9KSksc2VhcmNoOkR0KFJ0LChmdW5jdGlvbih0KXt2YXIgZT1PKHRoaXMpO1wiXCI9PSh0PVN0cmluZyh0KSk/ZS5xdWVyeT1udWxsOihcIj9cIj09dC5jaGFyQXQoMCkmJih0PXQuc2xpY2UoMSkpLGUucXVlcnk9XCJcIixFdChlLHQsbXQpKSxFKGUuc2VhcmNoUGFyYW1zKS51cGRhdGVTZWFyY2hQYXJhbXMoZS5xdWVyeSl9KSksc2VhcmNoUGFyYW1zOkR0KEx0KSxoYXNoOkR0KE50LChmdW5jdGlvbih0KXt2YXIgZT1PKHRoaXMpO1wiXCIhPSh0PVN0cmluZyh0KSk/KFwiI1wiPT10LmNoYXJBdCgwKSYmKHQ9dC5zbGljZSgxKSksZS5mcmFnbWVudD1cIlwiLEV0KGUsdCx3dCkpOmUuZnJhZ21lbnQ9bnVsbH0pKX0pLGMoT3QsXCJ0b0pTT05cIiwoZnVuY3Rpb24oKXtyZXR1cm4gVHQuY2FsbCh0aGlzKX0pLHtlbnVtZXJhYmxlOiEwfSksYyhPdCxcInRvU3RyaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFR0LmNhbGwodGhpcyl9KSx7ZW51bWVyYWJsZTohMH0pLG0pe3ZhciBVdD1tLmNyZWF0ZU9iamVjdFVSTCxNdD1tLnJldm9rZU9iamVjdFVSTDtVdCYmYyh4dCxcImNyZWF0ZU9iamVjdFVSTFwiLChmdW5jdGlvbih0KXtyZXR1cm4gVXQuYXBwbHkobSxhcmd1bWVudHMpfSkpLE10JiZjKHh0LFwicmV2b2tlT2JqZWN0VVJMXCIsKGZ1bmN0aW9uKHQpe3JldHVybiBNdC5hcHBseShtLGFyZ3VtZW50cyl9KSl9dih4dCxcIlVSTFwiKSxpKHtnbG9iYWw6ITAsZm9yY2VkOiFhLHNoYW06IW99LHtVUkw6eHR9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPS9bXlxcMC1cXHUwMDdFXS8saT0vWy5cXHUzMDAyXFx1RkYwRVxcdUZGNjFdL2csbz1cIk92ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzXCIsYT1NYXRoLmZsb29yLHM9U3RyaW5nLmZyb21DaGFyQ29kZSx1PWZ1bmN0aW9uKHQpe3JldHVybiB0KzIyKzc1Kih0PDI2KX0sYz1mdW5jdGlvbih0LGUsbil7dmFyIHI9MDtmb3IodD1uP2EodC83MDApOnQ+PjEsdCs9YSh0L2UpO3Q+NDU1O3IrPTM2KXQ9YSh0LzM1KTtyZXR1cm4gYShyKzM2KnQvKHQrMzgpKX0sZj1mdW5jdGlvbih0KXt2YXIgZSxuLHI9W10saT0odD1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wLHI9dC5sZW5ndGg7bjxyOyl7dmFyIGk9dC5jaGFyQ29kZUF0KG4rKyk7aWYoaT49NTUyOTYmJmk8PTU2MzE5JiZuPHIpe3ZhciBvPXQuY2hhckNvZGVBdChuKyspOzU2MzIwPT0oNjQ1MTImbyk/ZS5wdXNoKCgoMTAyMyZpKTw8MTApKygxMDIzJm8pKzY1NTM2KTooZS5wdXNoKGkpLG4tLSl9ZWxzZSBlLnB1c2goaSl9cmV0dXJuIGV9KHQpKS5sZW5ndGgsZj0xMjgsbD0wLGg9NzI7Zm9yKGU9MDtlPHQubGVuZ3RoO2UrKykobj10W2VdKTwxMjgmJnIucHVzaChzKG4pKTt2YXIgcD1yLmxlbmd0aCxkPXA7Zm9yKHAmJnIucHVzaChcIi1cIik7ZDxpOyl7dmFyIHk9MjE0NzQ4MzY0Nztmb3IoZT0wO2U8dC5sZW5ndGg7ZSsrKShuPXRbZV0pPj1mJiZuPHkmJih5PW4pO3ZhciB2PWQrMTtpZih5LWY+YSgoMjE0NzQ4MzY0Ny1sKS92KSl0aHJvdyBSYW5nZUVycm9yKG8pO2ZvcihsKz0oeS1mKSp2LGY9eSxlPTA7ZTx0Lmxlbmd0aDtlKyspe2lmKChuPXRbZV0pPGYmJisrbD4yMTQ3NDgzNjQ3KXRocm93IFJhbmdlRXJyb3Iobyk7aWYobj09Zil7Zm9yKHZhciBnPWwsYj0zNjs7Yis9MzYpe3ZhciBtPWI8PWg/MTpiPj1oKzI2PzI2OmItaDtpZihnPG0pYnJlYWs7dmFyIHc9Zy1tLEU9MzYtbTtyLnB1c2gocyh1KG0rdyVFKSkpLGc9YSh3L0UpfXIucHVzaChzKHUoZykpKSxoPWMobCx2LGQ9PXApLGw9MCwrK2R9fSsrbCwrK2Z9cmV0dXJuIHIuam9pbihcIlwiKX07dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlLG4sbz1bXSxhPXQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKGksXCIuXCIpLnNwbGl0KFwiLlwiKTtmb3IoZT0wO2U8YS5sZW5ndGg7ZSsrKW49YVtlXSxvLnB1c2goci50ZXN0KG4pP1wieG4tLVwiK2Yobik6bik7cmV0dXJuIG8uam9pbihcIi5cIil9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bigxNCk7dmFyIHI9bigyKSxpPW4oNTcpLG89bigyNTEpLGE9bigzOCkscz1uKDExMyksdT1uKDU4KSxjPW4oMTk2KSxmPW4oNDQpLGw9big2OSksaD1uKDE5KSxwPW4oNjcpLGQ9big5OSkseT1uKDE3KSx2PW4oMTEpLGc9big2NiksYj1uKDY0KSxtPW4oNDMyKSx3PW4oMTAwKSxFPW4oNykseD1pKFwiZmV0Y2hcIiksTz1pKFwiSGVhZGVyc1wiKSxUPUUoXCJpdGVyYXRvclwiKSxTPWYuc2V0LGs9Zi5nZXR0ZXJGb3IoXCJVUkxTZWFyY2hQYXJhbXNcIiksXz1mLmdldHRlckZvcihcIlVSTFNlYXJjaFBhcmFtc0l0ZXJhdG9yXCIpLGo9L1xcKy9nLEE9QXJyYXkoNCksST1mdW5jdGlvbih0KXtyZXR1cm4gQVt0LTFdfHwoQVt0LTFdPVJlZ0V4cChcIigoPzolW1xcXFxkYS1mXXsyfSl7XCIrdCtcIn0pXCIsXCJnaVwiKSl9LEM9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQodCl9Y2F0Y2goZSl7cmV0dXJuIHR9fSxQPWZ1bmN0aW9uKHQpe3ZhciBlPXQucmVwbGFjZShqLFwiIFwiKSxuPTQ7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZSl9Y2F0Y2godCl7Zm9yKDtuOyllPWUucmVwbGFjZShJKG4tLSksQyk7cmV0dXJuIGV9fSxSPS9bIScoKX5dfCUyMC9nLEw9e1wiIVwiOlwiJTIxXCIsXCInXCI6XCIlMjdcIixcIihcIjpcIiUyOFwiLFwiKVwiOlwiJTI5XCIsXCJ+XCI6XCIlN0VcIixcIiUyMFwiOlwiK1wifSxOPWZ1bmN0aW9uKHQpe3JldHVybiBMW3RdfSxEPWZ1bmN0aW9uKHQpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQodCkucmVwbGFjZShSLE4pfSxVPWZ1bmN0aW9uKHQsZSl7aWYoZSlmb3IodmFyIG4scixpPWUuc3BsaXQoXCImXCIpLG89MDtvPGkubGVuZ3RoOykobj1pW28rK10pLmxlbmd0aCYmKHI9bi5zcGxpdChcIj1cIiksdC5wdXNoKHtrZXk6UChyLnNoaWZ0KCkpLHZhbHVlOlAoci5qb2luKFwiPVwiKSl9KSl9LE09ZnVuY3Rpb24odCl7dGhpcy5lbnRyaWVzLmxlbmd0aD0wLFUodGhpcy5lbnRyaWVzLHQpfSxGPWZ1bmN0aW9uKHQsZSl7aWYodDxlKXRocm93IFR5cGVFcnJvcihcIk5vdCBlbm91Z2ggYXJndW1lbnRzXCIpfSxCPWMoKGZ1bmN0aW9uKHQsZSl7Uyh0aGlzLHt0eXBlOlwiVVJMU2VhcmNoUGFyYW1zSXRlcmF0b3JcIixpdGVyYXRvcjptKGsodCkuZW50cmllcyksa2luZDplfSl9KSxcIkl0ZXJhdG9yXCIsKGZ1bmN0aW9uKCl7dmFyIHQ9Xyh0aGlzKSxlPXQua2luZCxuPXQuaXRlcmF0b3IubmV4dCgpLHI9bi52YWx1ZTtyZXR1cm4gbi5kb25lfHwobi52YWx1ZT1cImtleXNcIj09PWU/ci5rZXk6XCJ2YWx1ZXNcIj09PWU/ci52YWx1ZTpbci5rZXksci52YWx1ZV0pLG59KSksSD1mdW5jdGlvbigpe2wodGhpcyxILFwiVVJMU2VhcmNoUGFyYW1zXCIpO3ZhciB0LGUsbixyLGksbyxhLHMsdSxjPWFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwLGY9dGhpcyxwPVtdO2lmKFMoZix7dHlwZTpcIlVSTFNlYXJjaFBhcmFtc1wiLGVudHJpZXM6cCx1cGRhdGVVUkw6ZnVuY3Rpb24oKXt9LHVwZGF0ZVNlYXJjaFBhcmFtczpNfSksdm9pZCAwIT09YylpZih2KGMpKWlmKFwiZnVuY3Rpb25cIj09PXR5cGVvZih0PXcoYykpKWZvcihuPShlPXQuY2FsbChjKSkubmV4dDshKHI9bi5jYWxsKGUpKS5kb25lOyl7aWYoKGE9KG89KGk9bSh5KHIudmFsdWUpKSkubmV4dCkuY2FsbChpKSkuZG9uZXx8KHM9by5jYWxsKGkpKS5kb25lfHwhby5jYWxsKGkpLmRvbmUpdGhyb3cgVHlwZUVycm9yKFwiRXhwZWN0ZWQgc2VxdWVuY2Ugd2l0aCBsZW5ndGggMlwiKTtwLnB1c2goe2tleTphLnZhbHVlK1wiXCIsdmFsdWU6cy52YWx1ZStcIlwifSl9ZWxzZSBmb3IodSBpbiBjKWgoYyx1KSYmcC5wdXNoKHtrZXk6dSx2YWx1ZTpjW3VdK1wiXCJ9KTtlbHNlIFUocCxcInN0cmluZ1wiPT09dHlwZW9mIGM/XCI/XCI9PT1jLmNoYXJBdCgwKT9jLnNsaWNlKDEpOmM6YytcIlwiKX0scT1ILnByb3RvdHlwZTtzKHEse2FwcGVuZDpmdW5jdGlvbih0LGUpe0YoYXJndW1lbnRzLmxlbmd0aCwyKTt2YXIgbj1rKHRoaXMpO24uZW50cmllcy5wdXNoKHtrZXk6dCtcIlwiLHZhbHVlOmUrXCJcIn0pLG4udXBkYXRlVVJMKCl9LGRlbGV0ZTpmdW5jdGlvbih0KXtGKGFyZ3VtZW50cy5sZW5ndGgsMSk7Zm9yKHZhciBlPWsodGhpcyksbj1lLmVudHJpZXMscj10K1wiXCIsaT0wO2k8bi5sZW5ndGg7KW5baV0ua2V5PT09cj9uLnNwbGljZShpLDEpOmkrKztlLnVwZGF0ZVVSTCgpfSxnZXQ6ZnVuY3Rpb24odCl7Rihhcmd1bWVudHMubGVuZ3RoLDEpO2Zvcih2YXIgZT1rKHRoaXMpLmVudHJpZXMsbj10K1wiXCIscj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0ua2V5PT09bilyZXR1cm4gZVtyXS52YWx1ZTtyZXR1cm4gbnVsbH0sZ2V0QWxsOmZ1bmN0aW9uKHQpe0YoYXJndW1lbnRzLmxlbmd0aCwxKTtmb3IodmFyIGU9ayh0aGlzKS5lbnRyaWVzLG49dCtcIlwiLHI9W10saT0wO2k8ZS5sZW5ndGg7aSsrKWVbaV0ua2V5PT09biYmci5wdXNoKGVbaV0udmFsdWUpO3JldHVybiByfSxoYXM6ZnVuY3Rpb24odCl7Rihhcmd1bWVudHMubGVuZ3RoLDEpO2Zvcih2YXIgZT1rKHRoaXMpLmVudHJpZXMsbj10K1wiXCIscj0wO3I8ZS5sZW5ndGg7KWlmKGVbcisrXS5rZXk9PT1uKXJldHVybiEwO3JldHVybiExfSxzZXQ6ZnVuY3Rpb24odCxlKXtGKGFyZ3VtZW50cy5sZW5ndGgsMSk7Zm9yKHZhciBuLHI9ayh0aGlzKSxpPXIuZW50cmllcyxvPSExLGE9dCtcIlwiLHM9ZStcIlwiLHU9MDt1PGkubGVuZ3RoO3UrKykobj1pW3VdKS5rZXk9PT1hJiYobz9pLnNwbGljZSh1LS0sMSk6KG89ITAsbi52YWx1ZT1zKSk7b3x8aS5wdXNoKHtrZXk6YSx2YWx1ZTpzfSksci51cGRhdGVVUkwoKX0sc29ydDpmdW5jdGlvbigpe3ZhciB0LGUsbixyPWsodGhpcyksaT1yLmVudHJpZXMsbz1pLnNsaWNlKCk7Zm9yKGkubGVuZ3RoPTAsbj0wO248by5sZW5ndGg7bisrKXtmb3IodD1vW25dLGU9MDtlPG47ZSsrKWlmKGlbZV0ua2V5PnQua2V5KXtpLnNwbGljZShlLDAsdCk7YnJlYWt9ZT09PW4mJmkucHVzaCh0KX1yLnVwZGF0ZVVSTCgpfSxmb3JFYWNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPWsodGhpcykuZW50cmllcyxyPXAodCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKSxpPTA7aTxuLmxlbmd0aDspcigoZT1uW2krK10pLnZhbHVlLGUua2V5LHRoaXMpfSxrZXlzOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBCKHRoaXMsXCJrZXlzXCIpfSx2YWx1ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEIodGhpcyxcInZhbHVlc1wiKX0sZW50cmllczpmdW5jdGlvbigpe3JldHVybiBuZXcgQih0aGlzLFwiZW50cmllc1wiKX19LHtlbnVtZXJhYmxlOiEwfSksYShxLFQscS5lbnRyaWVzKSxhKHEsXCJ0b1N0cmluZ1wiLChmdW5jdGlvbigpe2Zvcih2YXIgdCxlPWsodGhpcykuZW50cmllcyxuPVtdLHI9MDtyPGUubGVuZ3RoOyl0PWVbcisrXSxuLnB1c2goRCh0LmtleSkrXCI9XCIrRCh0LnZhbHVlKSk7cmV0dXJuIG4uam9pbihcIiZcIil9KSx7ZW51bWVyYWJsZTohMH0pLHUoSCxcIlVSTFNlYXJjaFBhcmFtc1wiKSxyKHtnbG9iYWw6ITAsZm9yY2VkOiFvfSx7VVJMU2VhcmNoUGFyYW1zOkh9KSxvfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB4fHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBPfHxyKHtnbG9iYWw6ITAsZW51bWVyYWJsZTohMCxmb3JjZWQ6ITB9LHtmZXRjaDpmdW5jdGlvbih0KXt2YXIgZSxuLHIsaT1bdF07cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MSYmKGU9YXJndW1lbnRzWzFdLHYoZSkmJihuPWUuYm9keSxcIlVSTFNlYXJjaFBhcmFtc1wiPT09ZChuKSYmKChyPWUuaGVhZGVycz9uZXcgTyhlLmhlYWRlcnMpOm5ldyBPKS5oYXMoXCJjb250ZW50LXR5cGVcIil8fHIuc2V0KFwiY29udGVudC10eXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOFwiKSxlPWcoZSx7Ym9keTpiKDAsU3RyaW5nKG4pKSxoZWFkZXJzOmIoMCxyKX0pKSksaS5wdXNoKGUpKSx4LmFwcGx5KHRoaXMsaSl9fSksdC5leHBvcnRzPXtVUkxTZWFyY2hQYXJhbXM6SCxnZXRTdGF0ZTprfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTcpLGk9bigxMDApO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1pKHQpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFN0cmluZyh0KStcIiBpcyBub3QgaXRlcmFibGVcIik7cmV0dXJuIHIoZS5jYWxsKHQpKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDIpLGk9big5NikuaW5jbHVkZXMsbz1uKDE1Mik7cih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IW4oNDkpKFwiaW5kZXhPZlwiLHtBQ0NFU1NPUlM6ITAsMTowfSl9LHtpbmNsdWRlczpmdW5jdGlvbih0KXtyZXR1cm4gaSh0aGlzLHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pLG8oXCJpbmNsdWRlc1wiKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMiksaT1uKDQzNSksbz1uKDc1KTtyKHt0YXJnZXQ6XCJTdHJpbmdcIixwcm90bzohMCxmb3JjZWQ6IW4oNDM2KShcImluY2x1ZGVzXCIpfSx7aW5jbHVkZXM6ZnVuY3Rpb24odCl7cmV0dXJuISF+U3RyaW5nKG8odGhpcykpLmluZGV4T2YoaSh0KSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIyNyk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKHIodCkpdGhyb3cgVHlwZUVycm9yKFwiVGhlIG1ldGhvZCBkb2Vzbid0IGFjY2VwdCByZWd1bGFyIGV4cHJlc3Npb25zXCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNykoXCJtYXRjaFwiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9Ly4vO3RyeXtcIi8uL1wiW3RdKGUpfWNhdGNoKG4pe3RyeXtyZXR1cm4gZVtyXT0hMSxcIi8uL1wiW3RdKGUpfWNhdGNoKHQpe319cmV0dXJuITF9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyKSxpPW4oNTcpLG89big2OCksYT1uKDE3KSxzPW4oMTEpLHU9big2NiksYz1uKDQzOCksZj1uKDMpLGw9aShcIlJlZmxlY3RcIixcImNvbnN0cnVjdFwiKSxoPWYoKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4hKGwoKGZ1bmN0aW9uKCl7fSksW10sdClpbnN0YW5jZW9mIHQpfSkpLHA9IWYoKGZ1bmN0aW9uKCl7bCgoZnVuY3Rpb24oKXt9KSl9KSksZD1ofHxwO3Ioe3RhcmdldDpcIlJlZmxlY3RcIixzdGF0OiEwLGZvcmNlZDpkLHNoYW06ZH0se2NvbnN0cnVjdDpmdW5jdGlvbih0LGUpe28odCksYShlKTt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPDM/dDpvKGFyZ3VtZW50c1syXSk7aWYocCYmIWgpcmV0dXJuIGwodCxlLG4pO2lmKHQ9PW4pe3N3aXRjaChlLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgdDtjYXNlIDE6cmV0dXJuIG5ldyB0KGVbMF0pO2Nhc2UgMjpyZXR1cm4gbmV3IHQoZVswXSxlWzFdKTtjYXNlIDM6cmV0dXJuIG5ldyB0KGVbMF0sZVsxXSxlWzJdKTtjYXNlIDQ6cmV0dXJuIG5ldyB0KGVbMF0sZVsxXSxlWzJdLGVbM10pfXZhciByPVtudWxsXTtyZXR1cm4gci5wdXNoLmFwcGx5KHIsZSksbmV3KGMuYXBwbHkodCxyKSl9dmFyIGk9bi5wcm90b3R5cGUsZj11KHMoaSk/aTpPYmplY3QucHJvdG90eXBlKSxkPUZ1bmN0aW9uLmFwcGx5LmNhbGwodCxmLGUpO3JldHVybiBzKGQpP2Q6Zn19KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oNjgpLGk9bigxMSksbz1bXS5zbGljZSxhPXt9LHM9ZnVuY3Rpb24odCxlLG4pe2lmKCEoZSBpbiBhKSl7Zm9yKHZhciByPVtdLGk9MDtpPGU7aSsrKXJbaV09XCJhW1wiK2krXCJdXCI7YVtlXT1GdW5jdGlvbihcIkMsYVwiLFwicmV0dXJuIG5ldyBDKFwiK3Iuam9pbihcIixcIikrXCIpXCIpfXJldHVybiBhW2VdKHQsbil9O3QuZXhwb3J0cz1GdW5jdGlvbi5iaW5kfHxmdW5jdGlvbih0KXt2YXIgZT1yKHRoaXMpLG49by5jYWxsKGFyZ3VtZW50cywxKSxhPWZ1bmN0aW9uKCl7dmFyIHI9bi5jb25jYXQoby5jYWxsKGFyZ3VtZW50cykpO3JldHVybiB0aGlzIGluc3RhbmNlb2YgYT9zKGUsci5sZW5ndGgscik6ZS5hcHBseSh0LHIpfTtyZXR1cm4gaShlLnByb3RvdHlwZSkmJihhLnByb3RvdHlwZT1lLnByb3RvdHlwZSksYX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLnIoZSk7bigxMyksbig0Nyksbig0OCksbigxNCksbig5KSxuKDI1KSxuKDcxKSxuKDIxKSxuKDI2KTt2YXIgcj1uKDApLGk9bigyMyk7big1OSksbig3Mik7ZnVuY3Rpb24gbyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLnZlcnNpb249XCIyLjEuMFwiLGUmJmUubmFtZT90aGlzLmludGVncmF0aW9uPWU6dGhpcy5pbnRlZ3JhdGlvbj17bmFtZTpcImtzZGtcIn0sdGhpcy5yZXBvcnRJbnRlcnZhbD1ufHwzZTV9dmFyIGUsbixyO3JldHVybiBlPXQsKG49W3trZXk6XCJzZXRJbnRlZ3JhdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lm5hbWUmJih0aGlzLmludGVncmF0aW9uPXQpLHRoaXN9fSx7a2V5Olwic2V0UmVwb3J0SW50ZXJ2YWxcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmdD4wJiYodGhpcy5yZXBvcnRJbnRlcnZhbD10KSx0aGlzfX0se2tleTpcImludGVncmF0aW9uTmFtZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW50ZWdyYXRpb24ubmFtZX19XSkmJm8oZS5wcm90b3R5cGUsbiksciYmbyhlLHIpLHR9KCk7dmFyIHM9bigxKSx1PW4oMjcpLGM9bigxMzcpLGY9big4Nyk7bigxMjkpLG4oNTQpLG4oNTIpO24oMTM1KTt2YXIgbD1uKDE0MCksaD1uKDEzNikscD0obigxMDgpLG4oMjUyKSxuKDMwKSk7ZnVuY3Rpb24gZCh0KXtyZXR1cm4oZD1cImZ1bmN0aW9uXCI9PT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSkodCl9ZnVuY3Rpb24geSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19ZnVuY3Rpb24gdih0KXtyZXR1cm4odj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSkodCl9ZnVuY3Rpb24gZyh0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH1mdW5jdGlvbiBiKHQsZSl7cmV0dXJuKGI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9KSh0LGUpfWguYSxuKDQzKSxuKDEzMyk7dmFyIG09bigxMzgpLHc9big1MSksRT1uKDEzMikseD0obig4Niksbig4NSkpO2Z1bmN0aW9uIE8oKXt9dmFyIFQ9ZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIHQ/dDpPfSxTPW4oODQpLGs9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9T2JqZWN0KHcuYSkodCksbz17bWV0aG9kOlwiR0VUXCIsdXJsOlwiXCIuY29uY2F0KGksXCIvYXBpL2NvbnRlbnQvXCIpLmNvbmNhdChlLFwiL1wiKS5jb25jYXQobiksYXN5bmM6ITAsaGVhZGVyczp7QXV0aG9yaXphdGlvbjpcIkJlYXJlciBcIi5jb25jYXQocil9fTtyZXR1cm4gT2JqZWN0KHguYSkobyl9O24oNjApO2Z1bmN0aW9uIF8odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fWZ1bmN0aW9uIGoodCl7cmV0dXJuIHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm57c3JjOnQudXJsLHR5cGU6dC5kYXRhLm1pbWV9fSkpfXZhciBBPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMucGxheWVyPWV9dmFyIGUsbixyO3JldHVybiBlPXQsKG49W3trZXk6XCJiaW5kSW50ZXJjZXB0b3JcIix2YWx1ZTpmdW5jdGlvbih0LGUpeyFmdW5jdGlvbih0LGUsbil7dC5yZWFkeSgoZnVuY3Rpb24oKXt2YXIgcixpPXQudGVjaCh7SVdpbGxOb3RVc2VUaGlzSW5QbHVnaW5zOiEwfSk7cj1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtpLmhscyYmKGNsZWFySW50ZXJ2YWwociksaS5obHMueGhyLmJlZm9yZVJlcXVlc3Q9ZnVuY3Rpb24odCl7ZSgpJiYodC54aHI9bmV3IGwuYShuKCkpKX0pfSksMil9KSl9KHRoaXMucGxheWVyLHQsZSl9fSx7a2V5Olwic3dpdGNoVG9DRE5cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1qKHQpO3RoaXMucGxheWVyLnNyYyhlKX19LHtrZXk6XCJmYWxsYmFja1RvQ0ROXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9aih0KTt0aGlzLnBsYXllci5zcmMoZSl9fSx7a2V5OlwicGxheUtvbGxlY3RpdmVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1qKHQpO3RoaXMucGxheWVyLnNyYyhlKX19LHtrZXk6XCJ2aWRlb0VsZW1lbnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBPYmplY3QoUy5iKSh0aGlzLnBsYXllcil9fV0pJiZfKGUucHJvdG90eXBlLG4pLHImJl8oZSxyKSx0fSgpO2Z1bmN0aW9uIEkodCl7cmV0dXJuIG5ldyBFcnJvcihcIlwiLmNvbmNhdCh0LFwiIGludGVncmF0aW9uIGhhcyB5ZXQgdG8gYmUgaW1wbGVtZW50ZWQsIGJ1dCBpdCdzIHBsYW5uZWQuIEZlZWwgZnJlZSB0byByZWFjaCBvdXQgdG8gS29sbGVjdGl2ZSByZWdhcmRpbmcgdGhpcyBpc3N1ZS5cIikpfXZhciBDPWZ1bmN0aW9uKHQsZSl7c3dpdGNoKGUpe2Nhc2VcIkFNUFwiOmNhc2VcIkhMU2pzXCI6dGhyb3cgSShlKTtjYXNlXCJWaWRlb0pTXCI6cmV0dXJuIG5ldyBBKHQpO2Nhc2VcIlNIQUtBXCI6dGhyb3cgSShlKTtkZWZhdWx0OnRocm93IGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRXJyb3IoXCJcIi5jb25jYXQodCxcIiBoYXMgeWV0IHRvIGJlIGltcGxlbWVudGVkLCBhbmQgaXQgaXMgbm90IHBsYW5uZWQuIEZlZWwgZnJlZSB0byByZWFjaCBvdXQgdG8gS29sbGVjdGl2ZSBmb3IgYW55IHF1ZXN0aW9ucy5cIikpfShlKX19O24oNDMzKSxuKDQzNCk7ZnVuY3Rpb24gUCh0LGUpe3N3aXRjaCh0KXtjYXNlXCJhcHBsaWNhdGlvbi92bmQubXMtc3N0cit4bWxcIjpyZXR1cm4gcy5jLlNNT09USDtjYXNlXCJhcHBsaWNhdGlvbi9kYXNoK3htbFwiOnJldHVybiBzLmMuREFTSDtjYXNlXCJhcHBsaWNhdGlvbi92bmQuYXBwbGUubXBlZ3VybFwiOmNhc2VcImFwcGxpY2F0aW9uL3gtbXBlZ1VSTFwiOnJldHVybiBzLmMuSExTO2Nhc2VcInZpZGVvL21wNFwiOnJldHVybiBzLmMuTVA0O2RlZmF1bHQ6cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHQpe2lmKHQuaW5jbHVkZXMoXCIubTN1OFwiKSlyZXR1cm4gcy5jLkhMUztpZih0LmluY2x1ZGVzKFwiLm1kcFwiKXx8dC5pbmNsdWRlcyhcInBsYXlsaXN0LmlzbS9NYW5pZmVzdChmb3JtYXQ9bXBkLXRpbWUtY3NmKVwiKSlyZXR1cm4gcy5jLkRBU0g7aWYodC5pbmNsdWRlcyhcInBsYXlsaXN0LmlzbS9NYW5pZmVzdFwiKSlyZXR1cm4gcy5jLlNNT09USDtpZih0LmluY2x1ZGVzKFwiLm1wNFwiKSlyZXR1cm4gcy5jLk1QNH1yZXR1cm4gbnVsbH0oZSl9fW4oMTI3KSxuKDEyOCksbigxMDQpLG4oNDM3KTtmdW5jdGlvbiBSKHQpe3JldHVybihSPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9KSh0KX1mdW5jdGlvbiBMKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1mdW5jdGlvbiBOKHQsZSl7cmV0dXJuIWV8fFwib2JqZWN0XCIhPT1SKGUpJiZcImZ1bmN0aW9uXCIhPT10eXBlb2YgZT9mdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCk6ZX1mdW5jdGlvbiBEKHQpe3ZhciBlPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBNYXA/bmV3IE1hcDp2b2lkIDA7cmV0dXJuKEQ9ZnVuY3Rpb24odCl7aWYobnVsbD09PXR8fChuPXQsLTE9PT1GdW5jdGlvbi50b1N0cmluZy5jYWxsKG4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpKSlyZXR1cm4gdDt2YXIgbjtpZihcImZ1bmN0aW9uXCIhPT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBlKXtpZihlLmhhcyh0KSlyZXR1cm4gZS5nZXQodCk7ZS5zZXQodCxyKX1mdW5jdGlvbiByKCl7cmV0dXJuIE0odCxhcmd1bWVudHMsQih0aGlzKS5jb25zdHJ1Y3Rvcil9cmV0dXJuIHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpyLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLEYocix0KX0pKHQpfWZ1bmN0aW9uIFUoKXtpZihcInVuZGVmaW5lZFwiPT09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSxbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX1mdW5jdGlvbiBNKHQsZSxuKXtyZXR1cm4oTT1VKCk/UmVmbGVjdC5jb25zdHJ1Y3Q6ZnVuY3Rpb24odCxlLG4pe3ZhciByPVtudWxsXTtyLnB1c2guYXBwbHkocixlKTt2YXIgaT1uZXcoRnVuY3Rpb24uYmluZC5hcHBseSh0LHIpKTtyZXR1cm4gbiYmRihpLG4ucHJvdG90eXBlKSxpfSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIEYodCxlKXtyZXR1cm4oRj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0pKHQsZSl9ZnVuY3Rpb24gQih0KXtyZXR1cm4oQj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSkodCl9dmFyIEg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgbjtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLChuPU4odGhpcyxCKGUpLmNhbGwodGhpcyx0KSkpLm5hbWU9XCJDb21wb3NpdGVFcnJvclwiLG4uZXJyb3JzPVtdLG59dmFyIG4scixpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJkYodCxlKX0oZSx0KSxuPWUsKHI9W3trZXk6XCJhZGRFcnJvclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZXJyb3JzLnB1c2godCl9fV0pJiZMKG4ucHJvdG90eXBlLHIpLGkmJkwobixpKSxlfShEKEVycm9yKSk7ZnVuY3Rpb24gcSh0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBlPTAsbj1uZXcgQXJyYXkodC5sZW5ndGgpO2U8dC5sZW5ndGg7ZSsrKW5bZV09dFtlXTtyZXR1cm4gbn19KHQpfHxmdW5jdGlvbih0KXtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpfHxcIltvYmplY3QgQXJndW1lbnRzXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiBBcnJheS5mcm9tKHQpfSh0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2VcIil9KCl9dmFyIHo9ZnVuY3Rpb24gdChlLG4pe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpuZXcgSChcIndyYXBSZXRyeVwiKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaT1hcmd1bWVudHM7cmV0dXJuIGUuYXBwbHkodm9pZCAwLHEoaSkpLmNhdGNoKChmdW5jdGlvbihvKXtpZihyLmFkZEVycm9yKG8pLG4+MSlyZXR1cm4gdChlLG4tMSxyKS5hcHBseSh2b2lkIDAscShpKSk7dGhyb3cgcn0pKX19O2Z1bmN0aW9uIFYodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdH0odCl8fGZ1bmN0aW9uKHQsZSl7aWYoIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpfHxcIltvYmplY3QgQXJndW1lbnRzXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKSlyZXR1cm47dmFyIG49W10scj0hMCxpPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIGEscz10W1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KGE9cy5uZXh0KCkpLmRvbmUpJiYobi5wdXNoKGEudmFsdWUpLCFlfHxuLmxlbmd0aCE9PWUpO3I9ITApO31jYXRjaCh0KXtpPSEwLG89dH1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgb319cmV0dXJuIG59KHQsZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIil9KCl9ZnVuY3Rpb24gRyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19dmFyIFc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7dmFyIG89dGhpczshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLE9iamVjdChpLmEpKHRoaXMpLHRoaXMucGxheWVyPW4sdGhpcy5wbGF5ZXJUeXBlPWUsdGhpcy5wbGF5ZXJJbnRlcmFjdGlvbj1DKG4sZSksdGhpcy5hdmFpbGFibGVQbGF5ZXJUeXBlcz1bXCJWaWRlb0pTXCJdLHRoaXMuc2RrQ29uZmlnPW5ldyBhKHtuYW1lOlwia3Nka1wifSwyZTQpLGNvbnNvbGUubG9nKFwiS3NkayAgdlwiK3RoaXMuc2RrQ29uZmlnLnZlcnNpb24rXCIgbG9hZGVkXCIpLHRoaXMubG9nPXIuYSx0aGlzLnBsYXllckludGVyYWN0aW9uLmJpbmRJbnRlcmNlcHRvcigoZnVuY3Rpb24oKXtyZXR1cm4gby5lbmFibGVXZWJSVEN9KSwoZnVuY3Rpb24oKXtyZXR1cm4gby5wbGF5YmFja01vZHVsZS5wZWVyTWFuYWdlcn0pKX12YXIgZSxuLG87cmV0dXJuIGU9dCwobj1be2tleTpcImdldENvbnRleHRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNka0NvbmZpZy5pbnRlZ3JhdGlvbk5hbWUoKX19LHtrZXk6XCJsb2FkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLmNvbnRlbnRUb2tlbj10LmNvbnRlbnRUb2tlbix0aGlzLnVzZXJUb2tlbj10LnVzZXJUb2tlbix0aGlzLnRpdGxlPXQuY29udGVudFRpdGxlLHRoaXMuY29udGVudFVybD10LmNvbnRlbnRVcmwsdGhpcy5zb3VyY2VUeXBlPXQuc291cmNlVHlwZSx0aGlzLnZpZGVvRWxlbWVudD10LnZpZGVvRWxlbWVudCx0aGlzLmNhbGxiYWNrcz10LmNhbGxiYWNrc3x8e30sdGhpcy5zdGFydD1EYXRlLm5vdygpLHRoaXMuY29uZmlnPXQuY29uZmlnO3ZhciBuPU9iamVjdChFLmEpKHRoaXMuY29udGVudFRva2VuKTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvbnRlbnRUb2tlbi4gQ291bGQgbm90IGRlY29kZSB0b2tlbi5cIik7dGhpcy50ZW5hbnRJZD1uLnRpZCx0aGlzLmNvbnRlbnRJZD1uLmNpZCx0aGlzLmNvbnRlbnRIb3N0PW4uY29udGVudEhvc3R8fG4uaXNzLHooaywzKSh0aGlzLmNvbnRlbnRIb3N0LHRoaXMudGVuYW50SWQsdGhpcy5jb250ZW50SWQsdGhpcy5jb250ZW50VG9rZW4pLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBuPXQuZGF0YTtuLmNvbmZpZyYmKGUuY29uZmlnPW4uY29uZmlnKSxyLmEuaShcImNvbmZpZzpcIixlLmNvbmZpZyksZS5sZWdhY3lDb25maWc9bi5sZWdhY3l8fHt9LGUuand0PW4udG9rZW4sZS5jb250ZW50U291cmNlcz1uLml0ZW1zO3ZhciBpPVYoZS5jb250ZW50U291cmNlcywxKVswXTtpZihlLmNvbnRlbnRJZD1pLmlkLGUudGVuYW50SWQ9aS50ZW5hbnRJZCxlLmNvbnRlbnRVcmx8fChlLmNvbnRlbnRVcmw9aS51cmwpLCFlLnNvdXJjZVR5cGUpe3ZhciBvPWkubWltZXx8aS5kYXRhLm1pbWU7ZS5zb3VyY2VUeXBlPVAobyxlLmNvbnRlbnRVcmwpfWlmKGUuY29uZmlnLmNoIT09ZS5jb250ZW50SG9zdCYmci5hLmUoXCJTZGtDb25maWcgcmV0dXJuIGNvbnRlbnQgaG9zdCB0aGF0IGRpZmZlcnMgZnJvbSBob3N0IHJlcXVlc3RlZCBmb3IgY29uZmlnLlwiLGUuY29uZmlnLmNoLGUuY29udGVudEhvc3QpLCFlLmNvbmZpZyl0aHJvdyByLmEuZShcIk5vIGNvbmZpZyBmb3VuZDogZmFpbGluZ1wiKSxFcnJvcihcIk5vIGNvbmZpZyBwcm92aWRlZC4gYSBjb25maWcgaXMgbmVjZXNzYXJ5IGZvciBwbGF5YmFjayB3aXRoIHRoZSBLb2xsZWN0aXZlIHNka1wiKTtpZihlLnNka0NvbmZpZy5zZXRJbnRlZ3JhdGlvbih7bmFtZTplLmNvbmZpZy5hcHB9KSxlLnNka0NvbmZpZy5zZXRSZXBvcnRJbnRlcnZhbChlLmNvbmZpZy5pYXIpLGUuY29udGVudEhvc3Q9ZS5jb25maWcuY2gsZS5zaWduYWxIb3N0PWUuY29uZmlnLnNnaCxlLnN0YXRzSG9zdD1lLmNvbmZpZy5zdGgsIWUuY29udGVudFVybHx8IWUuc291cmNlVHlwZSlyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiT25lIG9mIGNvbnRlbnRVcmwgb3Igc291cmNlVHlwZSB3YXMgbm90IGZvdW5kLlwiKSk7ZS5yZXBvcnRlcj1mdW5jdGlvbih0KXt2YXIgZT10LnRpdGxlLG49dC5jb250ZW50SWQscj10LnN0YXRzSG9zdCxpPXQuand0LG89dC5zZGtDb25maWcsYT10LmxlZ2FjeUNvbmZpZyxzPXtzdGg6cn0sYz1uZXcgdS5hKHtjb25maWc6c30sbyksZj11LmEuU2VjdGlvbnMsbD1mLkVDRE4xMCxoPWYuRUNETjExO3JldHVybiBjLmp3dD1pLGMucnBrPWEucnBrLGMuc2V0KHtjb250ZW50Om59LHUuYS5TZWN0aW9ucy5FQ0ROMTEpLGMuc2V0KHt0aXRsZTplfSksYS51cm4mJih0aGlzLnByZXBhcmVEZWxpdmVyeUd1aWQoYS51cm4sYyxsKSxjLnNldCh7Y29udGVudDphLnVybn0sbCkpLG4mJmMuc2V0KHtjb250ZW50Om59LGgpLGN9KGUpO3ZhciBhPXt1cmw6ZS5jb250ZW50VXJsLHNvdXJjZVR5cGU6ZS5zb3VyY2VUeXBlfTtyZXR1cm4gT2JqZWN0KGMuYSkoZS5yZXBvcnRlcixhLGUuY29uZmlnKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKE9iamVjdChtLmEpKHQubW9kZSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3ZhciBuPXQ9PT1mLmE7ZS5lbmFibGVXZWJSVEM9bixlLnBsYXliYWNrTW9kdWxlPW5ldyB0KGUucmVwb3J0ZXIse2NvbnRlbnQ6e2lkOmUuY29udGVudElkLHRlbmFudElkOmUudGVuYW50SWQsdG9rZW46ZS5jb250ZW50VG9rZW59LGRldGVjdGlvblNvdXJjZTphLHNvdXJjZVR5cGU6ZS5zb3VyY2VUeXBlLGNvbmZpZzplLmNvbmZpZyxzd2l0Y2hUb0NETjplLnN3aXRjaFRvQ0ROfSxlLnNka0NvbmZpZyl9KSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5wbGF5YmFja01vZHVsZS5pbml0KCl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5wbGF5YmFja01vZHVsZS5zdGFydERlbGl2ZXJ5KCl9KSkudGhlbihlLnBsYXlLb2xsZWN0aXZlKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlLnJlcG9ydGVyLmF0dGFjaFZpZGVvRWxlbWVudChlLmdldFZpZGVvRWxlbWVudCgpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7ci5hLmUodCksZS5mYWxsYmFja1RvQ0ROKCl9KSl9fSx7a2V5Olwic3dpdGNoVG9DRE5cIix2YWx1ZTpmdW5jdGlvbih0KXtyLmEuZSh0aGlzLmdldENvbnRleHQoKStcIjpzd2l0Y2gyY2RuOlwiK3QpLHRoaXMuc2RuUGxheWJhY2tGYWlsZWQ9ITAsdGhpcy5wbGF5ZXJJbnRlcmFjdGlvbi5zd2l0Y2hUb0NETih0aGlzLmNvbnRlbnRTb3VyY2VzKSxUKHRoaXMuY2FsbGJhY2tzLnN3aXRjaFRvQ0ROKSgpfX0se2tleTpcImZhbGxiYWNrVG9DRE5cIix2YWx1ZTpmdW5jdGlvbih0KXtyLmEuZSh0aGlzLmdldENvbnRleHQoKStcIjpmYWxsYmFjazJjZG46XCIrdCksdGhpcy5wbGF5YmFja01vZHVsZSYmdGhpcy5wbGF5YmFja01vZHVsZS5zdG9wKCksdGhpcy5zZG5QbGF5YmFja0ZhaWxlZD0hMCx0aGlzLnBsYXllckludGVyYWN0aW9uLmZhbGxiYWNrVG9DRE4odGhpcy5jb250ZW50U291cmNlcyksci5hLmUoXCJmYWlsZWQgdG8gYXR0YWNoIHJlcG9ydGVyIG9uIGtzZGsgd2l0aCBlcnJvcjpcIix0KSxUKHRoaXMuY2FsbGJhY2tzLmZhbGxiYWNrVG9DRE4pKCl9fSx7a2V5OlwicGxheUtvbGxlY3RpdmVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0odCYmdC5sZW5ndGgpPjA/dDp0aGlzLmNvbnRlbnRTb3VyY2VzO3RoaXMucGxheWVySW50ZXJhY3Rpb24ucGxheUtvbGxlY3RpdmUoZSksVCh0aGlzLmNhbGxiYWNrcy5wbGF5S29sbGVjdGl2ZSkoKX19LHtrZXk6XCJnZXRWaWRlb0VsZW1lbnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZGVvRWxlbWVudD90aGlzLnZpZGVvRWxlbWVudDp0aGlzLnBsYXllckludGVyYWN0aW9uLnZpZGVvRWxlbWVudCgpfX0se2tleTpcInN0b3BcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGxheWJhY2tNb2R1bGUmJnRoaXMucGxheWJhY2tNb2R1bGUuc3RvcCgpLHRoaXMucmVwb3J0ZXImJnRoaXMucmVwb3J0ZXIuY2xlYW51cCgpfX1dKSYmRyhlLnByb3RvdHlwZSxuKSxvJiZHKGUsbyksdH0oKTtmdW5jdGlvbiBKKHQsZSl7cmV0dXJuIG5ldyBXKHQsZSl9Si5wcm90b3R5cGUuZm9yVmlkZW9KUz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFcoXCJWaWRlb0pTXCIsdCl9LEoucHJvdG90eXBlLmZvckhMU2pzPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgVyhcIkhMU2pzXCIsdCl9LEoucHJvdG90eXBlLmZvckFNUD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFcoXCJBTVBcIix0KX07ZS5kZWZhdWx0PUp9XSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtzZGstMi4xLjAubWluLmpzLm1hcFxyXG4iLCIvKiBlc2xpbnQtZW52IGpxdWVyeSwgYnJvd3NlciAqL1xyXG4kKGRvY3VtZW50KVxyXG4gIC5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAod2luZG93LmNvbnN0YW50cyAmJiB3aW5kb3cuY29uc3RhbnRzLkNVUlJFTlRfU0NSRUVOID09ICdjaGFubmVsJykge1xyXG5cclxuICAgICAgLy8gdmFyICRoZXJvQ2Fyb3VzZWwgPSAkKCcuaGVyby1jYXJvdXNlbCcpXHJcbiAgICAgIC8vICRoZXJvQ2Fyb3VzZWwuc2xpY2soe1xyXG4gICAgICAvLyAgICAgaW5maW5pdGU6IGZhbHNlLFxyXG4gICAgICAvLyAgICAgZG90czogdHJ1ZSxcclxuICAgICAgLy8gfSk7XHJcbiAgICAgIHZhciBGRVRDSF9QQUdFX1NJWkUgPSAxODtcclxuICAgICAgdmFyIFNMSURFX1BBR0VfU0laRSA9IDM7XHJcblxyXG4gICAgICB2YXIgJGhlcm9DYXJvdXNlbCA9IG5ldyB3aW5kb3cubXlHdWkuUmVzdGZ1bEl0ZW1DYXJvdXNlbCh7XHJcbiAgICAgICAgc2VsZWN0b3I6ICcjaGVyby1jYXJvdXNlbCcsXHJcbiAgICAgICAgYXBpVXJsOiB3aW5kb3cuY29uc3RhbnRzLkJBU0VfVVJMICsgJy9hcGkvY2hhbm5lbC8nICsgd2luZG93LmNvbnN0YW50cy5DVVJSRU5UX0NIQU5ORUxfSUQgKyAnL3ZpZGVvcy9mZWF0dXJlZCcsXHJcbiAgICAgICAgZGVzZXJpYWxpemVyOiB3aW5kb3cubXlVdGlsLlZpZGVvTGlzdERlc2VyaWFsaXplcixcclxuICAgICAgICBndWlCdWlsZGVyOiB3aW5kb3cubXlHdWkuSGVyb0Nhcm91c2VsR3VpQnVpbGRlcixcclxuICAgICAgICBpdGVtTGlua1RlbXBsYXRlOiB3aW5kb3cuY29uc3RhbnRzLkJBU0VfVVJMICsgJy9wbGF5bGlzdC8nICsgd2luZG93LmNvbnN0YW50cy5DVVJSRU5UX0NIQU5ORUxfSUQgKyAnL2ZlYXR1cmVkL3t7aXRlbUlkfX0vJyArIHdpbmRvdy5jb25zdGFudHMuTEFOR1VBR0UsXHJcbiAgICAgICAgcGFnZVNpemU6IEZFVENIX1BBR0VfU0laRSxcclxuICAgICAgICBzbGlkZVBhZ2VTaXplOiAxXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgJGhlcm9DYXJvdXNlbC5mZXRjaCgwLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIHJlQXJyYW5nZVNvbWVFbGVtZW50cygpO1xyXG5cclxuICAgICAgICAkKHdpbmRvdylcclxuICAgICAgICAgIC5vbigncmVzaXplJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZUFycmFuZ2VTb21lRWxlbWVudHMoKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gc2V0IGJhY2tncm91bmQgaW1hZ2UgMXN0IHRpbWVcclxuICAgICAgICBsZXQgaGVyb0FjdGl2ZVNsaWRlcyA9ICQoJy5oZXJvLWNhcm91c2VsIC5pdGVtLnNsaWNrLWN1cnJlbnQuc2xpY2stYWN0aXZlIC5jYXJvdXNlbC1pdGVtLWluZm8nKTtcclxuICAgICAgICBpZiAoaGVyb0FjdGl2ZVNsaWRlcyAmJiBoZXJvQWN0aXZlU2xpZGVzLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgICBsZXQgYmFja2dyb3VuZEhpZGRlbklucHV0ID0gJChoZXJvQWN0aXZlU2xpZGVzWzBdKVxyXG4gICAgICAgICAgICAuZmluZCgnW25hbWU9YmFja2dyb3VuZC1pbWFnZS11cmxdJyk7XHJcbiAgICAgICAgICBpZiAoYmFja2dyb3VuZEhpZGRlbklucHV0ICYmIGJhY2tncm91bmRIaWRkZW5JbnB1dC5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICAkKCcuYm9keS1iYWNrZ3JvdW5kIGltZycpXHJcbiAgICAgICAgICAgICAgLmF0dHIoJ3NyYycsIGJhY2tncm91bmRIaWRkZW5JbnB1dFswXS52YWx1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcblxyXG4gICAgICB2YXIgJGZlYXR1cmVQbGF5bGlzdCA9IG5ldyB3aW5kb3cubXlHdWkuUmVzdGZ1bEl0ZW1DYXJvdXNlbCh7XHJcbiAgICAgICAgc2VsZWN0b3I6ICcjZmVhdHVyZWQtcGxheWxpc3QnLFxyXG4gICAgICAgIGljb246ICdzaGFycC1wbGF5bGlzdC13aGl0ZScsXHJcbiAgICAgICAgdGl0bGU6ICdGZWF0dXJlZCBwbGF5bGlzdHMnLFxyXG4gICAgICAgIHN1YnRpdGxlOiBtb21lbnQoKVxyXG4gICAgICAgICAgLmZvcm1hdCgnTU1NTSBZWVlZJyksXHJcbiAgICAgICAgYXBpVXJsOiB3aW5kb3cuY29uc3RhbnRzLkJBU0VfVVJMICsgJy9hcGkvY2hhbm5lbC8nICsgd2luZG93LmNvbnN0YW50cy5DVVJSRU5UX0NIQU5ORUxfSUQgKyAnL3BsYXlsaXN0L2ZlYXR1cmVkJyxcclxuICAgICAgICBkZXNlcmlhbGl6ZXI6IHdpbmRvdy5teVV0aWwuUGxheUxpc3REZXNlcmlhbGl6ZXIsXHJcbiAgICAgICAgZ3VpQnVpbGRlcjogd2luZG93Lm15R3VpLkxpc3RDYXJvdXNlbEd1aUJ1aWxkZXIsXHJcbiAgICAgICAgaXRlbUxpbmtUZW1wbGF0ZTogd2luZG93LmNvbnN0YW50cy5CQVNFX1VSTCArICcvcGxheWxpc3QvJyArIHdpbmRvdy5jb25zdGFudHMuQ1VSUkVOVF9DSEFOTkVMX0lEICsgJy97e2l0ZW1JZH19JyArIHdpbmRvdy5jb25zdGFudHMuTEFOR1VBR0UsXHJcbiAgICAgICAgcGFnZVNpemU6IDYsXHJcbiAgICAgICAgc2xpZGVQYWdlU2l6ZTogU0xJREVfUEFHRV9TSVpFXHJcbiAgICAgIH0pO1xyXG4gICAgICAkZmVhdHVyZVBsYXlsaXN0LmZldGNoKCk7XHJcblxyXG4gICAgICBpZiAod2luZG93LmNvbnN0YW50cy5DVVJSRU5UX1BMQVlMSVNUX01PU1RfV0FUQ0hFRCkge1xyXG4gICAgICAgIHZhciAkbW9zdFdhdGNoZWRWaWRlb3MgPSBuZXcgd2luZG93Lm15R3VpLlJlc3RmdWxJdGVtQ2Fyb3VzZWwoe1xyXG4gICAgICAgICAgc2VsZWN0b3I6ICcjbW9zdC13YXRjaGVkLXZpZGVvcycsXHJcbiAgICAgICAgICBpY29uOiAnc2hhcnAtcGxheWJ1dHRvbi13aGl0ZScsXHJcbiAgICAgICAgICB0aXRsZTogJ01vc3Qgd2F0Y2hlZCcsXHJcbiAgICAgICAgICBhcGlVcmw6IHdpbmRvdy5jb25zdGFudHMuQkFTRV9VUkwgKyAnL2FwaS9jaGFubmVsLycgKyB3aW5kb3cuY29uc3RhbnRzLkNVUlJFTlRfQ0hBTk5FTF9JRCArICcvdmlkZW9saXN0L21vc3Qtd2F0Y2hlZCcsXHJcbiAgICAgICAgICBhcGlVcmw6IHdpbmRvdy5jb25zdGFudHMuQkFTRV9VUkwgKyAnL2FwaS9jaGFubmVsLycgKyB3aW5kb3cuY29uc3RhbnRzLkNVUlJFTlRfQ0hBTk5FTF9JRCArICcvcGxheWxpc3QvJyArIHdpbmRvdy5jb25zdGFudHMuQ1VSUkVOVF9QTEFZTElTVF9NT1NUX1dBVENIRUQgKyAnL3ZpZGVvcycsXHJcbiAgICAgICAgICBkZXNlcmlhbGl6ZXI6IHdpbmRvdy5teVV0aWwuVmlkZW9MaXN0RGVzZXJpYWxpemVyLFxyXG4gICAgICAgICAgZ3VpQnVpbGRlcjogd2luZG93Lm15R3VpLkxpc3RDYXJvdXNlbEd1aUJ1aWxkZXIsXHJcbiAgICAgICAgICBpdGVtTGlua1RlbXBsYXRlOiB3aW5kb3cuY29uc3RhbnRzLkJBU0VfVVJMICsgJy9wbGF5bGlzdC8nICsgd2luZG93LmNvbnN0YW50cy5DVVJSRU5UX0NIQU5ORUxfSUQgKyAnLycgKyB3aW5kb3cuY29uc3RhbnRzLkNVUlJFTlRfUExBWUxJU1RfTU9TVF9XQVRDSEVEICsgJy97e2l0ZW1JZH19Lycrd2luZG93LmNvbnN0YW50cy5MQU5HVUFHRSxcclxuICAgICAgICAgIHBhZ2VTaXplOiBGRVRDSF9QQUdFX1NJWkUsXHJcbiAgICAgICAgICBzbGlkZVBhZ2VTaXplOiBTTElERV9QQUdFX1NJWkVcclxuICAgICAgICB9KTtcclxuICAgICAgICAkbW9zdFdhdGNoZWRWaWRlb3MuZmV0Y2goKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHdpbmRvdy5jb25zdGFudHMuQ1VSUkVOVF9QTEFZTElTVF9SRUNFTlRfRVZFTlRTKSB7XHJcbiAgICAgICAgdmFyICRyZWNlbnRFdmVudHNWaWRlb3MgPSBuZXcgd2luZG93Lm15R3VpLlJlc3RmdWxJdGVtQ2Fyb3VzZWwoe1xyXG4gICAgICAgICAgc2VsZWN0b3I6ICcjcmVjZW50LWV2ZW50cy12aWRlb3MnLFxyXG4gICAgICAgICAgaWNvbjogJ3NoYXJwLXBsYXlidXR0b24td2hpdGUnLFxyXG4gICAgICAgICAgdGl0bGU6ICdSZWNlbnQgRXZlbnRzJyxcclxuICAgICAgICAgIGFwaVVybDogd2luZG93LmNvbnN0YW50cy5CQVNFX1VSTCArICcvYXBpL2NoYW5uZWwvJyArIHdpbmRvdy5jb25zdGFudHMuQ1VSUkVOVF9DSEFOTkVMX0lEICsgJy92aWRlb2xpc3QvcmVjZW50LWV2ZW50cycsXHJcbiAgICAgICAgICBhcGlVcmw6IHdpbmRvdy5jb25zdGFudHMuQkFTRV9VUkwgKyAnL2FwaS9jaGFubmVsLycgKyB3aW5kb3cuY29uc3RhbnRzLkNVUlJFTlRfQ0hBTk5FTF9JRCArICcvcGxheWxpc3QvJyArIHdpbmRvdy5jb25zdGFudHMuQ1VSUkVOVF9QTEFZTElTVF9SRUNFTlRfRVZFTlRTICsgJy92aWRlb3MnLFxyXG4gICAgICAgICAgZGVzZXJpYWxpemVyOiB3aW5kb3cubXlVdGlsLlZpZGVvTGlzdERlc2VyaWFsaXplcixcclxuICAgICAgICAgIGd1aUJ1aWxkZXI6IHdpbmRvdy5teUd1aS5MaXN0Q2Fyb3VzZWxHdWlCdWlsZGVyLFxyXG4gICAgICAgICAgaXRlbUxpbmtUZW1wbGF0ZTogd2luZG93LmNvbnN0YW50cy5CQVNFX1VSTCArICcvcGxheWxpc3QvJyArIHdpbmRvdy5jb25zdGFudHMuQ1VSUkVOVF9DSEFOTkVMX0lEICsgJy8nICsgd2luZG93LmNvbnN0YW50cy5DVVJSRU5UX1BMQVlMSVNUX1JFQ0VOVF9FVkVOVFMgKyAnL3t7aXRlbUlkfX0vJyt3aW5kb3cuY29uc3RhbnRzLkxBTkdVQUdFLFxyXG4gICAgICAgICAgcGFnZVNpemU6IEZFVENIX1BBR0VfU0laRSxcclxuICAgICAgICAgIHNsaWRlUGFnZVNpemU6IFNMSURFX1BBR0VfU0laRVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICRyZWNlbnRFdmVudHNWaWRlb3MuZmV0Y2goKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAod2luZG93LmNvbnN0YW50cy5DVVJSRU5UX1BMQVlMSVNUX1VQQ09NSU5HX0VWRU5UUykge1xyXG4gICAgICAgIHZhciAkdXBjb21pbmdFdmVudHNWaWRlb3MgPSBuZXcgd2luZG93Lm15R3VpLlJlc3RmdWxJdGVtQ2Fyb3VzZWwoe1xyXG4gICAgICAgICAgc2VsZWN0b3I6ICcjdXBjb21pbmctZXZlbnRzLXZpZGVvcycsXHJcbiAgICAgICAgICBpY29uOiAnc2hhcnAtcGxheWJ1dHRvbi13aGl0ZScsXHJcbiAgICAgICAgICB0aXRsZTogJ1VwY29taW5nIEV2ZW50cycsXHJcbiAgICAgICAgICBkZXNlcmlhbGl6ZXI6IHdpbmRvdy5teVV0aWwuVmlkZW9MaXN0RGVzZXJpYWxpemVyLFxyXG4gICAgICAgICAgZ3VpQnVpbGRlcjogd2luZG93Lm15R3VpLkxpc3RDYXJvdXNlbEd1aUJ1aWxkZXIsXHJcbiAgICAgICAgICBpdGVtTGlua1RlbXBsYXRlOiB3aW5kb3cuY29uc3RhbnRzLkJBU0VfVVJMICsgJy9wbGF5bGlzdC8nICsgd2luZG93LmNvbnN0YW50cy5DVVJSRU5UX0NIQU5ORUxfSUQgKyAnLycgKyB3aW5kb3cuY29uc3RhbnRzLkNVUlJFTlRfUExBWUxJU1RfUkVDRU5UX0VWRU5UUyArICcve3tpdGVtSWR9fS8nICsgd2luZG93LmNvbnN0YW50cy5MQU5HVUFHRSxcclxuICAgICAgICAgIHBhZ2VTaXplOiBGRVRDSF9QQUdFX1NJWkUsXHJcbiAgICAgICAgICBzbGlkZVBhZ2VTaXplOiBTTElERV9QQUdFX1NJWkVcclxuICAgICAgICB9KTtcclxuICAgICAgICAkdXBjb21pbmdFdmVudHNWaWRlb3MuZmV0Y2goKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICQoJ2JvZHknKVxyXG4gICAgICAub24oJ2NsaWNrJywgJy5zbGlkZS11bmFjdGl2ZS1tYXNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCBjbGlja2VkU2xpZGUgPSAkKHRoaXMpXHJcbiAgICAgICAgICAucGFyZW50KCk7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRTbGljayA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChjbGlja2VkU2xpZGUucGFyZW50KCkubGVuZ3RoID09IDFcclxuICAgICAgICAgICYmICQoY2xpY2tlZFNsaWRlLnBhcmVudCgpWzBdKVxyXG4gICAgICAgICAgICAuaGFzQ2xhc3MoJ2NoYW5uZWwtY2Fyb3VzZWwnKSkge1xyXG4gICAgICAgICAgY3VycmVudFNsaWNrID0gY2xpY2tlZFNsaWRlLnBhcmVudCgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY2xpY2tlZFNsaWRlLnBhcmVudCgpXHJcbiAgICAgICAgICAgIC5wYXJlbnQoKS5sZW5ndGggPT0gMVxyXG4gICAgICAgICAgJiYgJChjbGlja2VkU2xpZGUucGFyZW50KClcclxuICAgICAgICAgICAgLnBhcmVudCgpWzBdKVxyXG4gICAgICAgICAgICAuaGFzQ2xhc3MoJ2NoYW5uZWwtY2Fyb3VzZWwnKSkge1xyXG4gICAgICAgICAgY3VycmVudFNsaWNrID0gY2xpY2tlZFNsaWRlLnBhcmVudCgpXHJcbiAgICAgICAgICAgIC5wYXJlbnQoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGNsaWNrZWRTbGlkZS5wYXJlbnQoKVxyXG4gICAgICAgICAgICAucGFyZW50KClcclxuICAgICAgICAgICAgLnBhcmVudCgpLmxlbmd0aCA9PSAxXHJcbiAgICAgICAgICAmJiAkKGNsaWNrZWRTbGlkZS5wYXJlbnQoKVxyXG4gICAgICAgICAgICAucGFyZW50KClcclxuICAgICAgICAgICAgLnBhcmVudCgpWzBdKVxyXG4gICAgICAgICAgICAuaGFzQ2xhc3MoJ2NoYW5uZWwtY2Fyb3VzZWwnKSkge1xyXG4gICAgICAgICAgY3VycmVudFNsaWNrID0gY2xpY2tlZFNsaWRlLnBhcmVudCgpXHJcbiAgICAgICAgICAgIC5wYXJlbnQoKVxyXG4gICAgICAgICAgICAucGFyZW50KCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjbGlja2VkU2xpZGUucGFyZW50KClcclxuICAgICAgICAgICAgLnBhcmVudCgpXHJcbiAgICAgICAgICAgIC5wYXJlbnQoKVxyXG4gICAgICAgICAgICAucGFyZW50KCkubGVuZ3RoID09IDFcclxuICAgICAgICAgICYmICQoY2xpY2tlZFNsaWRlLnBhcmVudCgpXHJcbiAgICAgICAgICAgIC5wYXJlbnQoKVxyXG4gICAgICAgICAgICAucGFyZW50KClcclxuICAgICAgICAgICAgLnBhcmVudCgpWzBdKVxyXG4gICAgICAgICAgICAuaGFzQ2xhc3MoJ2NoYW5uZWwtY2Fyb3VzZWwnKSkge1xyXG4gICAgICAgICAgY3VycmVudFNsaWNrID0gY2xpY2tlZFNsaWRlLnBhcmVudCgpXHJcbiAgICAgICAgICAgIC5wYXJlbnQoKVxyXG4gICAgICAgICAgICAucGFyZW50KClcclxuICAgICAgICAgICAgLnBhcmVudCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFjdXJyZW50U2xpY2spIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwcmV2U2xpZGUgPSBjbGlja2VkU2xpZGUucHJldigpO1xyXG4gICAgICAgIGxldCBuZXh0U2xpZGUgPSBjbGlja2VkU2xpZGUubmV4dCgpO1xyXG4gICAgICAgIGlmIChwcmV2U2xpZGUubGVuZ3RoID09IDEgJiYgJChwcmV2U2xpZGVbMF0pXHJcbiAgICAgICAgICAuaGFzQ2xhc3MoJ3NsaWNrLWFjdGl2ZScpKSB7XHJcbiAgICAgICAgICAvLyBsZWZ0IGlzIGFjdGl2ZSA9PiBtb3ZlIHRvIHJpZ2h0XHJcbiAgICAgICAgICAkKGN1cnJlbnRTbGljaylcclxuICAgICAgICAgICAgLnNsaWNrKCdzbGlja05leHQnKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG5leHRTbGlkZS5sZW5ndGggPT0gMSAmJiAkKG5leHRTbGlkZVswXSlcclxuICAgICAgICAgIC5oYXNDbGFzcygnc2xpY2stYWN0aXZlJykpIHtcclxuICAgICAgICAgIC8vIHJpZ2h0IGlzIGFjdGl2ZSA9PiBtb3ZlIHRvIGxlZnRcclxuICAgICAgICAgICQoY3VycmVudFNsaWNrKVxyXG4gICAgICAgICAgICAuc2xpY2soJ3NsaWNrUHJldicpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfSk7XHJcblxyXG5mdW5jdGlvbiByZUFycmFuZ2VTb21lRWxlbWVudHMoKSB7XHJcbiAgaWYgKHdpbmRvdy5vdXRlcldpZHRoID49IDEyMDEpIHtcclxuICAgIHZhciBoZXJvQ2Fyb3VzZWxFbGVtZW50ID0gJCgnI2hlcm8tY2Fyb3VzZWwgLmhlcm8tY2Fyb3VzZWwnKTtcclxuICAgIHZhciBjaGFubmVsRWxlbWVudCA9ICQoJy5tYWluLWNvbnRlbnQgc2VjdGlvbi5jaGFubmVscycpO1xyXG4gICAgdmFyIGJvZHlCYWNrZ3JvdW5kSGVpZ2h0ID0gJCgnLmJvZHktYmFja2dyb3VuZCcpXHJcbiAgICAgIC5vdXRlckhlaWdodCgpO1xyXG4gICAgaWYgKGJvZHlCYWNrZ3JvdW5kSGVpZ2h0IDwgODAwKSB7XHJcbiAgICAgIGJvZHlCYWNrZ3JvdW5kSGVpZ2h0ID0gODAwO1xyXG4gICAgfVxyXG4gICAgdmFyIGNoYW5uZWxFbGVtZW50RHluYW1pY01hcmdpblRvcCA9IGJvZHlCYWNrZ3JvdW5kSGVpZ2h0IC0gaGVyb0Nhcm91c2VsRWxlbWVudC5oZWlnaHQoKSAtIHBhcnNlSW50KGhlcm9DYXJvdXNlbEVsZW1lbnQuY3NzKCdtYXJnaW4tdG9wJykpICsgNDg7XHJcbiAgICBpZiAoY2hhbm5lbEVsZW1lbnREeW5hbWljTWFyZ2luVG9wID4gNDgpIHtcclxuICAgICAgJChjaGFubmVsRWxlbWVudClcclxuICAgICAgICAuY3NzKCdtYXJnaW4tdG9wJywgY2hhbm5lbEVsZW1lbnREeW5hbWljTWFyZ2luVG9wKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgY291bnRTZXQgPSAwO1xyXG4gICAgdmFyIHNldENoYW5uZWxzTWFyZ2luSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvdW50U2V0Kys7XHJcbiAgICAgIGlmIChjb3VudFNldCA+PSA1MCkge1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoc2V0Q2hhbm5lbHNNYXJnaW5JbnRlcnZhbCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCQoJy5ib2R5LWJhY2tncm91bmQnKVxyXG4gICAgICAgIC5vdXRlckhlaWdodCgpID4gYm9keUJhY2tncm91bmRIZWlnaHQpIHtcclxuICAgICAgICAvLyBzZXQgcG9zdGlvbiBvZiBoZXJvIGNhcm91c2VsIGFnYWluXHJcbiAgICAgICAgJChoZXJvQ2Fyb3VzZWxFbGVtZW50KVxyXG4gICAgICAgICAgLmNzcygnbWFyZ2luLXRvcCcsICQoJy5ib2R5LWJhY2tncm91bmQnKVxyXG4gICAgICAgICAgICAub3V0ZXJIZWlnaHQoKSAvIDIpO1xyXG4gICAgICAgIC8vIHNldCBjaGFubmVsIG1hcmdpbiB0b3AgYWZ0ZXIgYmFja2dyb3VuZCdzIGhlaWdodCBpcyByZWFkeSAoaW1hZ2Ugd2FzIGxvYWRlZClcclxuICAgICAgICAkKGNoYW5uZWxFbGVtZW50KVxyXG4gICAgICAgICAgLmNzcygnbWFyZ2luLXRvcCcsICQoJy5ib2R5LWJhY2tncm91bmQnKVxyXG4gICAgICAgICAgICAub3V0ZXJIZWlnaHQoKSAtIGhlcm9DYXJvdXNlbEVsZW1lbnQuaGVpZ2h0KCkgLSBwYXJzZUludChoZXJvQ2Fyb3VzZWxFbGVtZW50LmNzcygnbWFyZ2luLXRvcCcpKSArIDQ4KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gb25seSBmb3IgSUVcclxuICAgICAgdmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XHJcbiAgICAgIHZhciBtc2llID0gdWEuaW5kZXhPZignTVNJRSAnKTtcclxuXHJcbiAgICAgIGlmIChtc2llID4gMCB8fCAhIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1RyaWRlbnQuKnJ2XFw6MTFcXC4vKSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCQoJy5ib2R5LWJhY2tncm91bmQnKVxyXG4gICAgICAgICAgLm91dGVySGVpZ2h0KCkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGJvZHlCYWNrZ3JvdW5kSGVpZ2h0KTtcclxuICAgICAgICBpZiAoJCgnLmJvZHktYmFja2dyb3VuZCcpXHJcbiAgICAgICAgICAub3V0ZXJIZWlnaHQoKSA8IGJvZHlCYWNrZ3JvdW5kSGVpZ2h0KSB7XHJcbiAgICAgICAgICAvLyBzZXQgcG9zdGlvbiBvZiBoZXJvIGNhcm91c2VsIGFnYWluXHJcbiAgICAgICAgICAkKGhlcm9DYXJvdXNlbEVsZW1lbnQpXHJcbiAgICAgICAgICAgIC5jc3MoJ21hcmdpbi10b3AnLCAkKCcuYm9keS1iYWNrZ3JvdW5kJylcclxuICAgICAgICAgICAgICAub3V0ZXJIZWlnaHQoKSAvIDIpO1xyXG4gICAgICAgICAgLy8gc2V0IGNoYW5uZWwgbWFyZ2luIHRvcCBhZnRlciBiYWNrZ3JvdW5kJ3MgaGVpZ2h0IGlzIHJlYWR5IChpbWFnZSB3YXMgbG9hZGVkKVxyXG4gICAgICAgICAgJChjaGFubmVsRWxlbWVudClcclxuICAgICAgICAgICAgLmNzcygnbWFyZ2luLXRvcCcsICQoJy5ib2R5LWJhY2tncm91bmQnKVxyXG4gICAgICAgICAgICAgIC5vdXRlckhlaWdodCgpIC0gaGVyb0Nhcm91c2VsRWxlbWVudC5oZWlnaHQoKSAtIHBhcnNlSW50KGhlcm9DYXJvdXNlbEVsZW1lbnQuY3NzKCdtYXJnaW4tdG9wJykpICsgNDgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSwgMTAwKTtcclxuICB9XHJcbn1cclxuIiwiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG1kID0gbmV3IE1vYmlsZURldGVjdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XHJcbiAgICBpZihtZC5tb2JpbGUoKSl7XHJcbiAgICAgICAgJCgnYm9keScpLmFkZENsYXNzKCdtb2JpbGUtZGV2aWNlLXdyYXBwZXInKVxyXG4gICAgICAgIGlmKG1kLnBob25lKCkpe1xyXG4gICAgICAgICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ3Bob25lLWRldmljZS13cmFwcGVyJylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKG1kLnRhYmxldCgpKXtcclxuICAgICAgICAgICAgJCgnYm9keScpLmFkZENsYXNzKCd0YWJsZXQtZGV2aWNlLXdyYXBwZXInKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIHdpbmRvdy5teUd1aSB8fCAod2luZG93Lm15R3VpID0ge30pXHJcbiAgICB3aW5kb3cubXlHdWkuUmVzdGZ1bEl0ZW1DYXJvdXNlbCA9IFJlc3RmdWxJdGVtQ2Fyb3VzZWw7XHJcbiAgICB2YXIgSXRlbUNhcm91c2VsID0gd2luZG93Lm15R3VpLkl0ZW1DYXJvdXNlbDtcclxuXHJcbiAgICBSZXN0ZnVsSXRlbUNhcm91c2VsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlbUNhcm91c2VsLnByb3RvdHlwZSk7XHJcbiAgICBSZXN0ZnVsSXRlbUNhcm91c2VsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEl0ZW1DYXJvdXNlbDtcclxuXHJcbiAgICBmdW5jdGlvbiBSZXN0ZnVsSXRlbUNhcm91c2VsKG9wdGlvbnMpe1xyXG4gICAgICAgIEl0ZW1DYXJvdXNlbC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICBpZighb3B0aW9ucy5hcGlVcmwpIHRocm93IEVycm9yKFwibm8gYXBpIHVybCBwcm92aWRlZFwiKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTtcclxuICAgICAgICB0aGlzLnBhZ2VTaXplID0gdGhpcy5vcHRpb25zLnBhZ2VTaXplIHx8IDk7XHJcbiAgICAgICAgdGhpcy5zbGlkZVBhZ2VTaXplID0gdGhpcy5vcHRpb25zLnNsaWRlUGFnZVNpemUgfHwgMztcclxuICAgICAgICB0aGlzLnBhZ2luZyA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIFJlc3RmdWxJdGVtQ2Fyb3VzZWwucHJvdG90eXBlLmZldGNoTmV4dCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZmV0Y2hOZXh0OlwiICsgc2VsZi5jdXJyZW50UGFnZSlcclxuICAgICAgICB2YXIgb2xkQ3VycmVudFBhZ2UgPSBzZWxmLmN1cnJlbnRQYWdlO1xyXG4gICAgICAgIHNlbGYuZmV0Y2goc2VsZi5jdXJyZW50UGFnZSArIDEsIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJmZXRjaGluZyByZXN1bHQgXCIsIHJlc3VsdClcclxuICAgICAgICAgICAgaWYoIXJlc3VsdC5pdGVtcyB8fCAhcmVzdWx0Lml0ZW1zLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlc2V0IGN1cnJlbnQgcGFnZTogXCIsIG9sZEN1cnJlbnRQYWdlKVxyXG4gICAgICAgICAgICAgICAgc2VsZi5jdXJyZW50UGFnZSA9IG9sZEN1cnJlbnRQYWdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgUmVzdGZ1bEl0ZW1DYXJvdXNlbC5wcm90b3R5cGUuZmV0Y2ggPSBmdW5jdGlvbihwYWdlLCBjYWxsYmFjayl7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGlmKHBhZ2Upe1xyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRQYWdlID0gcGFnZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQuZ2V0KCB0aGlzLm9wdGlvbnMuYXBpVXJsK1wiP3BhZ2VzaXplPVwiK3NlbGYucGFnZVNpemUrXCImcGFnZT1cIitzZWxmLmN1cnJlbnRQYWdlLCBmdW5jdGlvbiggZGF0YSApIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJjYWxsIGFwaSB1cmxcIiwgZGF0YSk7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBkYXRhO1xyXG4gICAgICAgICAgICBpZihzZWxmLm9wdGlvbnMuZGVzZXJpYWxpemVyKXtcclxuICAgICAgICAgICAgICAgIHZhciBkZSA9IG5ldyBzZWxmLm9wdGlvbnMuZGVzZXJpYWxpemVyKClcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGRlLmRlc2VyaWFsaXplKGRhdGEuZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiY2FsbCBhcGkgdXJsIFwiLCByZXN1bHQpXHJcbiAgICAgICAgICAgIHNlbGYuYWRkSXRlbXMocmVzdWx0Lml0ZW1zKTtcclxuICAgICAgICAgICAgc2VsZi5wYWdpbmcgPSByZXN1bHQucGFnaW5nO1xyXG4gICAgICAgICAgICBpZihjYWxsYmFjayAmJiB0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJyl7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXN1bHQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBSZXN0ZnVsSXRlbUNhcm91c2VsLnByb3RvdHlwZS5vblJlbmRlckNvbXBsZXRlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJvbiByZW5kZXIgY29tcGxldGVkXCIpO1xyXG4gICAgICAgIC8vIHRoaXMuY2Fyb3VzZWwub24oJ2VkZ2UnLCBmdW5jdGlvbihldmVudCwgc2xpY2ssIGRpcmVjdGlvbil7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCdlZGdlIHdhcyBoaXQgLSBldmVudDogJywgZXZlbnQpO1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnZWRnZSB3YXMgaGl0IC0gc2xpY2s6ICcsIHNsaWNrKVxyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnZWRnZSB3YXMgaGl0IC0gZGlyZWN0aW9uOiAnLCBkaXJlY3Rpb24pXHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgdmFyIG1kID0gbmV3IE1vYmlsZURldGVjdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XHJcbiAgICAgICAgbGV0IHNsaWRlVG9zaG93ID0gbWQubW9iaWxlKCkgPyAxIDogc2VsZi5zbGlkZVBhZ2VTaXplO1xyXG5cclxuICAgICAgICB0aGlzLmNhcm91c2VsLm9uKCdhZnRlckNoYW5nZScsIGZ1bmN0aW9uKGV2ZW50LCBzbGljaywgY3VycmVudFNsaWRlKXtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coY3VycmVudFNsaWRlLCBzbGlkZVRvc2hvdywgc2VsZi5wYWdpbmcuaXRlbV9jb3VudCwgc2VsZi5wYWdpbmcucGFnZV9jb3VudCk7XHJcbiAgICAgICAgICAgIGlmKGN1cnJlbnRTbGlkZSArIHNsaWRlVG9zaG93ID49IHNlbGYuaXRlbXMubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwidHJpZ2dlciBmZXRjaCBuZXh0IC4uLlwiKTtcclxuICAgICAgICAgICAgICAgIHNlbGYuZmV0Y2hOZXh0KClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59KCkpXHJcblxyXG4iLCJcclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgaWYod2luZG93LmNvbnN0YW50cyAmJiB3aW5kb3cuY29uc3RhbnRzLkNVUlJFTlRfU0NSRUVOID09ICdwbGF5bGlzdCcpe1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJChcIi52aWRlby1wbGF5ZXItY29udGFpbmVyIC5sb2FkZXItY29udGFpbmVyXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG4gICAgICAgICAgICAkKFwiLnZpZGVvLXBsYXllci1jb250YWluZXIgLnZpZGVvLXBsYXllclwiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICAgICAgfSwgNTAwMCk7XHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiaW5pdCBwbGF5bGlzdCBzY3JlZW5cIilcclxuICAgICAgICB2YXIgJGN1cnJlbnRQbGF5bGlzdCA9IG5ldyB3aW5kb3cubXlHdWkuUmVzdGZ1bEl0ZW1DYXJvdXNlbCh7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnI2N1cnJlbnQtcGxheWxpc3QtY2Fyb3VzZWwnLFxyXG4gICAgICAgICAgICAvLyBpY29uOiAnZmFzIGZhLXBsYXknLFxyXG4gICAgICAgICAgICAvLyB0aXRsZTogJ01vc3Qgd2F0Y2hlZCcsXHJcbiAgICAgICAgICAgIGFwaVVybDogd2luZG93LmNvbnN0YW50cy5CQVNFX1VSTCtcIi9hcGkvY2hhbm5lbC9cIit3aW5kb3cuY29uc3RhbnRzLkNVUlJFTlRfQ0hBTk5FTF9JRCtcIi9wbGF5bGlzdC9cIit3aW5kb3cuY29uc3RhbnRzLkNVUlJFTlRfUExBWUxJU1RfSUQrXCIvdmlkZW9zXCIsXHJcbiAgICAgICAgICAgIGRlc2VyaWFsaXplcjogd2luZG93Lm15VXRpbC5WaWRlb0xpc3REZXNlcmlhbGl6ZXIsXHJcbiAgICAgICAgICAgIGd1aUJ1aWxkZXI6IHdpbmRvdy5teUd1aS5MaXN0Q2Fyb3VzZWxHdWlCdWlsZGVyLFxyXG4gICAgICAgICAgICBpdGVtTGlua1RlbXBsYXRlOiB3aW5kb3cuY29uc3RhbnRzLkJBU0VfVVJMK1wiL3BsYXlsaXN0L1wiK3dpbmRvdy5jb25zdGFudHMuQ1VSUkVOVF9DSEFOTkVMX0lEK1wiL1wiK3dpbmRvdy5jb25zdGFudHMuQ1VSUkVOVF9QTEFZTElTVF9JRCtcIi97e2l0ZW1JZH19L1wiICsgd2luZG93LmNvbnN0YW50cy5MQU5HVUFHRSxcclxuICAgICAgICAgICAgcGFnZVNpemU6IDE4LFxyXG4gICAgICAgICAgICBzbGlkZVBhZ2VTaXplOiAzXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJGN1cnJlbnRQbGF5bGlzdC5mZXRjaCgwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmKHdpbmRvdy5jb25zdGFudHMuQ1VSUkVOVF9QTEFZTElTVF9JRCA9PSAnZmVhdHVyZWQnKXtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiY2FsbCBpbnNpZGUgZmVhdHVyZVwiKVxyXG4gICAgICAgICAgICAgICAgJGN1cnJlbnRQbGF5bGlzdC51cGRhdGVIZWFkVGl0bGUoJ0ZlYXR1cmVkIHBsYXlsaXN0Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHRvdGFsVmlkZW9zID0gJGN1cnJlbnRQbGF5bGlzdC5wYWdpbmcuaXRlbV9jb3VudDtcclxuICAgICAgICAgICAgICAgIGxldCB0b3RhbFZpZGVvc1RleHQgPSAodG90YWxWaWRlb3MgPT0gbnVsbCA/ICcnIDogdG90YWxWaWRlb3MpICsgJyB2aWRlbycgKyAodG90YWxWaWRlb3MgPiAxID8gJ3MnOiAnJylcclxuICAgICAgICAgICAgICAgICRjdXJyZW50UGxheWxpc3QudXBkYXRlSGVhZE1ldGFzKFt7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICd0b3RhbC12aWRlb3MnLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdzaGFycC1wbGF5bGlzdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdG90YWxWaWRlb3NUZXh0XHJcbiAgICAgICAgICAgICAgICB9XSlcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAkLmdldCggd2luZG93LmNvbnN0YW50cy5CQVNFX1VSTCtcIi9hcGkvY2hhbm5lbC9cIit3aW5kb3cuY29uc3RhbnRzLkNVUlJFTlRfQ0hBTk5FTF9JRCtcIi9wbGF5bGlzdC9cIit3aW5kb3cuY29uc3RhbnRzLkNVUlJFTlRfUExBWUxJU1RfSUQsIGZ1bmN0aW9uKCBkYXRhICkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiY2FsbCBhcGkgdXJsXCIsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEgJiYgZGF0YS5kYXRhICYmIGRhdGEuZGF0YS5wbGF5bGlzdCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwbCA9IGRhdGEuZGF0YS5wbGF5bGlzdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHBsLnRvdGFsX2R1cmF0aW9uKS82MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbFZpZGVvcyA9ICRjdXJyZW50UGxheWxpc3QucGFnaW5nLml0ZW1fY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbFZpZGVvc1RleHQgPSAodG90YWxWaWRlb3MgPT0gbnVsbCA/ICcnIDogdG90YWxWaWRlb3MpICsgJyB2aWRlbycgKyAodG90YWxWaWRlb3MgPiAxID8gJ3MnOiAnJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGR1cmF0aW9uVGV4dCA9IGR1cmF0aW9uICsgJyBtaW4nICsgKGR1cmF0aW9uID4gMSA/ICdzJyA6ICcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGN1cnJlbnRQbGF5bGlzdC51cGRhdGVIZWFkVGl0bGUocGwudGl0bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkY3VycmVudFBsYXlsaXN0LnVwZGF0ZUhlYWRNZXRhcyhbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICd0b3RhbC12aWRlb3MnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzaGFycC1wbGF5bGlzdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogdG90YWxWaWRlb3NUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnZHVyYXRpb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdjbG9jay1pY29uJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBkdXJhdGlvblRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSk7XHJcbiIsIlxyXG5cclxuXHJcblxyXG4iXX0=
